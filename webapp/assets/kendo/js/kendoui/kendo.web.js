(function(D,S,Af){var Ak=window.kendo=window.kendo||{cultures:{}},W=D.extend,M=D.each,k=D.isArray,N=D.proxy,AJ=D.noop,Ab=Math,L,Ar=window.JSON||{},R={},AH=/%/,Ao=/\{(\d+)(:[^\}]+)?\}/g,AB=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,Ai=/^(\+|-?)\d+(\.?)\d*$/,s="function",Ay="string",X="number",Ax="object",Aj="null",h="boolean",U="undefined",y={},Av={},Ae=[].slice,Ac=window.Globalize;Ak.version="2013.3.1119";function G(){}G.extend=function(AM){var AO=function(){},AP,AK=this,AN=AM&&AM.init?AM.init:function(){AK.apply(this,arguments)},AL;AO.prototype=AK.prototype;AL=AN.fn=AN.prototype=new AO();for(AP in AM){if(typeof AM[AP]===Ax&&!(AM[AP] instanceof Array)&&AM[AP]!==null){AL[AP]=W(true,{},AO.prototype[AP],AM[AP])}else{AL[AP]=AM[AP]}}AL.constructor=AN;AN.extend=AK.extend;return AN};G.prototype._initOptions=function(AK){this.options=z({},this.options,AK)};var n=Ak.isFunction=function(AK){return typeof AK==="function"};var Aw=function(){this._defaultPrevented=true};var H=function(){return this._defaultPrevented===true};var AE=G.extend({init:function(){this._events={}},bind:function(AU,AR,AM){var AP=this,AN,AK=typeof AU===Ay?[AU]:AU,AO,AL,AQ,AT=typeof AR===s,AS;if(AR===Af){for(AN in AU){AP.bind(AN,AU[AN])}return AP}for(AN=0,AO=AK.length;AN<AO;AN++){AU=AK[AN];AQ=AT?AR:AR[AU];if(AQ){if(AM){AL=AQ;AQ=function(){AP.unbind(AU,AQ);AL.apply(AP,arguments)}}AS=AP._events[AU]=AP._events[AU]||[];AS.push(AQ)}}return AP},one:function(AL,AK){return this.bind(AL,AK,true)},first:function(AL,AQ){var AO=this,AM,AK=typeof AL===Ay?[AL]:AL,AN,AP,AS=typeof AQ===s,AR;for(AM=0,AN=AK.length;AM<AN;AM++){AL=AK[AM];AP=AS?AQ:AQ[AL];if(AP){AR=AO._events[AL]=AO._events[AL]||[];AR.unshift(AP)}}return AO},trigger:function(AN,AL){var AM=this,AO=AM._events[AN],AP,AK;if(AO){AL=AL||{};AL.sender=AM;AL._defaultPrevented=false;AL.preventDefault=Aw;AL.isDefaultPrevented=H;AO=AO.slice();for(AP=0,AK=AO.length;AP<AK;AP++){AO[AP].call(AM,AL)}return AL._defaultPrevented===true}return false},unbind:function(AM,AL){var AK=this,AN=AK._events[AM],AO;if(AM===Af){AK._events={}}else{if(AN){if(AL){for(AO=AN.length-1;AO>=0;AO--){if(AN[AO]===AL){AN.splice(AO,1)}}}else{AK._events[AM]=[]}}}return AK}});function AF(AL,AK){if(AK){return"'"+AL.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'"}else{var AM=AL.charAt(0),AN=AL.substring(1);if(AM==="="){return"+("+AN+")+"}else{if(AM===":"){return"+e("+AN+")+"}else{return";"+AL+";o+="}}}}var P=/^\w+/,An=/\$\{([^}]*)\}/g,Ap=/\\\}/g,Am=/__CURLY__/g,w=/\\#/g,f=/__SHARP__/g,Z=["","0","00","000","0000"];L={paramName:"data",useWithBlock:true,render:function(AM,AO){var AN,AL,AK="";for(AN=0,AL=AO.length;AN<AL;AN++){AK+=AM(AO[AN])}return AK},compile:function(AL,AR){var AU=W({},this,AR),AK=AU.paramName,AM=AK.match(P)[0],AN=AU.useWithBlock,AP="var o,e=kendo.htmlEncode;",AS,AT,AO;if(n(AL)){if(AL.length===2){return function(AV){return AL(D,{data:AV}).join("")}}return AL}AP+=AN?"with("+AK+"){":"";AP+="o=";AT=AL.replace(Ap,"__CURLY__").replace(An,"#=e($1)#").replace(Am,"}").replace(w,"__SHARP__").split("#");for(AO=0;AO<AT.length;AO++){AP+=AF(AT[AO],AO%2===0)}AP+=AN?";}":";";AP+="return o;";AP=AP.replace(f,"#");try{AS=new Function(AM,AP);AS._slotCount=Math.floor(AT.length/2);return AS}catch(AQ){throw new Error(Ak.format("Invalid template:'{0}' Generated code:'{1}'",AL,AP))}}};function p(AM,AK,AL){AM=AM+"";AK=AK||2;AL=AK-AM.length;if(AL){return Z[AK].substring(0,AL)+AM}return AM}(function(){var AR=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,AQ,AO,AL={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},AP,AN={}.toString;if(typeof Date.prototype.toJSON!==s){Date.prototype.toJSON=function(){var AS=this;return isFinite(AS.valueOf())?p(AS.getUTCFullYear(),4)+"-"+p(AS.getUTCMonth()+1)+"-"+p(AS.getUTCDate())+"T"+p(AS.getUTCHours())+":"+p(AS.getUTCMinutes())+":"+p(AS.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}function AK(AS){AR.lastIndex=0;return AR.test(AS)?'"'+AS.replace(AR,function(AU){var AT=AL[AU];return typeof AT===Ay?AT:"\\u"+("0000"+AU.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+AS+'"'}function AM(AY,A0){var AV,AT,AS,A1,AW=AQ,AX,AU=A0[AY],AZ;if(AU&&typeof AU===Ax&&typeof AU.toJSON===s){AU=AU.toJSON(AY)}if(typeof AP===s){AU=AP.call(A0,AY,AU)}AZ=typeof AU;if(AZ===Ay){return AK(AU)}else{if(AZ===X){return isFinite(AU)?String(AU):Aj}else{if(AZ===h||AZ===Aj){return String(AU)}else{if(AZ===Ax){if(!AU){return Aj}AQ+=AO;AX=[];if(AN.apply(AU)==="[object Array]"){A1=AU.length;for(AV=0;AV<A1;AV++){AX[AV]=AM(AV,AU)||Aj}AS=AX.length===0?"[]":AQ?"[\n"+AQ+AX.join(",\n"+AQ)+"\n"+AW+"]":"["+AX.join(",")+"]";AQ=AW;return AS}if(AP&&typeof AP===Ax){A1=AP.length;for(AV=0;AV<A1;AV++){if(typeof AP[AV]===Ay){AT=AP[AV];AS=AM(AT,AU);if(AS){AX.push(AK(AT)+(AQ?": ":":")+AS)}}}}else{for(AT in AU){if(Object.hasOwnProperty.call(AU,AT)){AS=AM(AT,AU);if(AS){AX.push(AK(AT)+(AQ?": ":":")+AS)}}}}AS=AX.length===0?"{}":AQ?"{\n"+AQ+AX.join(",\n"+AQ)+"\n"+AW+"}":"{"+AX.join(",")+"}";AQ=AW;return AS}}}}}if(typeof Ar.stringify!==s){Ar.stringify=function(AV,AT,AU){var AS;AQ="";AO="";if(typeof AU===X){for(AS=0;AS<AU;AS+=1){AO+=" "}}else{if(typeof AU===Ay){AO=AU}}AP=AT;if(AT&&typeof AT!==s&&(typeof AT!==Ax||typeof AT.length!==X)){throw new Error("JSON.stringify")}return AM("",{"":AV})}}})();(function(){var AK=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,AM=/^(n|c|p|e)(\d*)$/i,AZ=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,AP=/\,/g,AX="",AY=".",AS=",",AQ="#",AU="0",AW="??",AR="en-US",AN={}.toString;Ak.cultures["en-US"]={name:AR,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],namesAbbr:["日","一","二","三","四","五","六"],namesShort:["日","一","二","三","四","五","六"]},months:{names:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一","十二"],namesAbbr:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一","十二"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"yyyy/M/d",D:"yyyy, MMMM dd, dddd",F:"yyyy, MMMM dd, dddd h:mm:ss tt",g:"yyyy/M/d h:mm tt",G:"yyyy/M/d h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"yyyy, MMMM",Y:"yyyy, MMMM"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}};function AV(A3){if(A3){if(A3.numberFormat){return A3}if(typeof A3===Ay){var A4=Ak.cultures;return A4[A3]||A4[A3.split("-")[0]]||null}return null}return null}function A0(A3){if(A3){A3=AV(A3)}return A3||Ak.cultures.current}function A1(A3){A3.groupSizes=A3.groupSize;A3.percent.groupSizes=A3.percent.groupSize;A3.currency.groupSizes=A3.currency.groupSize}Ak.culture=function(A5){var A4=Ak.cultures,A3;if(A5!==Af){A3=AV(A5)||A4[AR];A3.calendar=A3.calendars.standard;A4.current=A3;if(Ac){A1(A3.numberFormat)}}else{return A4.current}};Ak.findCulture=AV;Ak.getCulture=A0;Ak.culture(AR);function AT(A7,A4,A6){A6=A0(A6);var A3=A6.calendars.standard,A5=A3.days,A8=A3.months;A4=A3.patterns[A4]||A4;return A4.replace(AK,function(A9){var Ba;if(A9==="d"){Ba=A7.getDate()}else{if(A9==="dd"){Ba=p(A7.getDate())}else{if(A9==="ddd"){Ba=A5.namesAbbr[A7.getDay()]}else{if(A9==="dddd"){Ba=A5.names[A7.getDay()]}else{if(A9==="M"){Ba=A7.getMonth()+1}else{if(A9==="MM"){Ba=p(A7.getMonth()+1)}else{if(A9==="MMM"){Ba=A8.namesAbbr[A7.getMonth()]}else{if(A9==="MMMM"){Ba=A8.names[A7.getMonth()]}else{if(A9==="yy"){Ba=p(A7.getFullYear()%100)}else{if(A9==="yyyy"){Ba=p(A7.getFullYear(),4)}else{if(A9==="h"){Ba=A7.getHours()%12||12}else{if(A9==="hh"){Ba=p(A7.getHours()%12||12)}else{if(A9==="H"){Ba=A7.getHours()}else{if(A9==="HH"){Ba=p(A7.getHours())}else{if(A9==="m"){Ba=A7.getMinutes()}else{if(A9==="mm"){Ba=p(A7.getMinutes())}else{if(A9==="s"){Ba=A7.getSeconds()}else{if(A9==="ss"){Ba=p(A7.getSeconds())}else{if(A9==="f"){Ba=Ab.floor(A7.getMilliseconds()/100)}else{if(A9==="ff"){Ba=Ab.floor(A7.getMilliseconds()/10)}else{if(A9==="fff"){Ba=A7.getMilliseconds()}else{if(A9==="tt"){Ba=A7.getHours()<12?A3.AM[0]:A3.PM[0]}}}}}}}}}}}}}}}}}}}}}}return Ba!==Af?Ba:A9.slice(1,A9.length-1)})}function A2(Bd,Be,Bt){Bt=A0(Bt);var Bv=Bt.numberFormat,Bm=Bv.groupSize[0],Bb=Bv[AS],Bj=Bv[AY],A6=Bv.decimals,Bl=Bv.pattern[0],Bh=[],A7,Bo,Bu,Bw,Bk,A9=Bd<0,Bx,Bz,A8,Bg,Bi=AX,Bn=AX,BB,Bs,Bf,BC,Ba,A3,A5,Br,Bp,By,A4,BA,BD,Bq=-1,Bc;if(Bd===Af){return AX}if(!isFinite(Bd)){return Bd}if(!Be){return Bt.name.length?Bd.toLocaleString():Bd.toString()}Bk=AM.exec(Be);if(Bk){Be=Bk[1].toLowerCase();Bo=Be==="c";Bu=Be==="p";if(Bo||Bu){Bv=Bo?Bv.currency:Bv.percent;Bm=Bv.groupSize[0];Bb=Bv[AS];Bj=Bv[AY];A6=Bv.decimals;A7=Bv.symbol;Bl=Bv.pattern[A9?0:1]}Bw=Bk[2];if(Bw){A6=+Bw}if(Be==="e"){return Bw?Bd.toExponential(A6):Bd.toExponential()}if(Bu){Bd*=100}Bd=AL(Bd,A6);Bd=Bd.split(AY);Bx=Bd[0];Bz=Bd[1];if(A9){Bx=Bx.substring(1)}Bn=Bx;A8=Bx.length;if(A8>=Bm){Bn=AX;for(BB=0;BB<A8;BB++){if(BB>0&&(A8-BB)%Bm===0){Bn+=Bb}Bn+=Bx.charAt(BB)}}if(Bz){Bn+=Bj+Bz}if(Be==="n"&&!A9){return Bn}Bd=AX;for(BB=0,Bs=Bl.length;BB<Bs;BB++){Bf=Bl.charAt(BB);if(Bf==="n"){Bd+=Bn}else{if(Bf==="$"||Bf==="%"){Bd+=A7}else{Bd+=Bf}}}return Bd}if(A9){Bd=-Bd}if(Be.indexOf("'")>-1||Be.indexOf('"')>-1||Be.indexOf("\\")>-1){Be=Be.replace(AZ,function(BF){var BE=BF.charAt(0).replace("\\",""),BG=BF.slice(1).replace(BE,"");Bh.push(BG);return AW})}Be=Be.split(";");if(A9&&Be[1]){Be=Be[1];Ba=true}else{if(Bd===0){Be=Be[2]||Be[0];if(Be.indexOf(AQ)==-1&&Be.indexOf(AU)==-1){return Be}}else{Be=Be[0]}}A4=Be.indexOf("%");BA=Be.indexOf("$");Bu=A4!=-1;Bo=BA!=-1;if(Bu){Bd*=100}if(Bo&&Be[BA-1]==="\\"){Be=Be.split("\\").join("");Bo=false}if(Bo||Bu){Bv=Bo?Bv.currency:Bv.percent;Bm=Bv.groupSize[0];Bb=Bv[AS];Bj=Bv[AY];A6=Bv.decimals;A7=Bv.symbol}BC=Be.indexOf(AS)>-1;if(BC){Be=Be.replace(AP,AX)}A3=Be.indexOf(AY);Bs=Be.length;if(A3!=-1){Bz=Bd.toString().split("e");if(Bz[1]){Bz=AL(Bd,Math.abs(Bz[1]))}else{Bz=Bz[0]}Bz=Bz.split(AY)[1]||AX;Br=Be.lastIndexOf(AU)-A3;A5=Be.lastIndexOf(AQ)-A3;Bp=Br>-1;By=A5>-1;BB=Bz.length;if(!Bp&&!By){Be=Be.substring(0,A3)+Be.substring(A3+1);Bs=Be.length;A3=-1;BB=0}if(Bp&&Br>A5){BB=Br}else{if(A5>Br){if(By&&BB>A5){BB=A5}else{if(Bp&&BB<Br){BB=Br}}}}if(BB>-1){Bd=AL(Bd,BB)}}else{Bd=AL(Bd)}A5=Be.indexOf(AQ);BD=Br=Be.indexOf(AU);if(A5==-1&&Br!=-1){Bq=Br}else{if(A5!=-1&&Br==-1){Bq=A5}else{Bq=A5>Br?Br:A5}}A5=Be.lastIndexOf(AQ);Br=Be.lastIndexOf(AU);if(A5==-1&&Br!=-1){Bc=Br}else{if(A5!=-1&&Br==-1){Bc=A5}else{Bc=A5>Br?A5:Br}}if(Bq==Bs){Bc=Bq}if(Bq!=-1){Bn=Bd.toString().split(AY);Bx=Bn[0];Bz=Bn[1]||AX;A8=Bx.length;Bg=Bz.length;if(BC){if(A8===Bm&&A8<A3-BD){Bx=Bb+Bx}else{if(A8>Bm){Bn=AX;for(BB=0;BB<A8;BB++){if(BB>0&&(A8-BB)%Bm===0){Bn+=Bb}Bn+=Bx.charAt(BB)}Bx=Bn}}}Bd=Be.substring(0,Bq);if(A9&&!Ba){Bd+="-"}for(BB=Bq;BB<Bs;BB++){Bf=Be.charAt(BB);if(A3==-1){if(Bc-BB<A8){Bd+=Bx;break}}else{if(Br!=-1&&Br<BB){Bi=AX}if((A3-BB)<=A8&&A3-BB>-1){Bd+=Bx;BB=A3}if(A3===BB){Bd+=(Bz?Bj:AX)+Bz;BB+=Bc-A3+1;continue}}if(Bf===AU){Bd+=Bf;Bi=Bf}else{if(Bf===AQ){Bd+=Bi}}}if(Bc>=Bq){Bd+=Be.substring(Bc+1)}if(Bo||Bu){Bn=AX;for(BB=0,Bs=Bd.length;BB<Bs;BB++){Bf=Bd.charAt(BB);Bn+=(Bf==="$"||Bf==="%")?A7:Bf}Bd=Bn}Bs=Bh.length;if(Bs){for(BB=0;BB<Bs;BB++){Bd=Bd.replace(AW,Bh[BB])}}}return Bd}var AL=function(A5,A4){var A3=Math.pow(10,A4||0);return(Math.round(A5*A3)/A3).toFixed(A4)};var AO=function(A5,A3,A4){if(A3){if(AN.call(A5)==="[object Date]"){return AT(A5,A3,A4)}else{if(typeof A5===X){return A2(A5,A3,A4)}}}return A5!==Af?A5:""};if(Ac){AO=N(Ac.format,Ac)}Ak.format=function(A3){var A4=arguments;return A3.replace(Ao,function(A6,A8,A7){var A5=A4[parseInt(A8,10)+1];return AO(A5,A7?A7.substring(1):"")})};Ak._extractFormat=function(A3){if(A3.slice(0,3)==="{0:"){A3=A3.slice(3,A3.length-1)}return A3};Ak._activeElement=function(){try{return document.activeElement}catch(A3){return document.documentElement.activeElement}};Ak._round=AL;Ak.toString=AO})();(function(){var AS=/\u00A0/g,AU=/[eE][\-+]?[0-9]+/,AY=/[+|\-]\d{1,2}/,AV=/[+|\-]\d{1,2}:\d{2}/,AP=/^\/Date\((.*?)\)\/$/,AR=["G","g","d","F","D","y","m","T","t"],AW={2:/^\d{1,2}/,4:/^\d{4}/},AL={}.toString;function AT(A0,A1,AZ){return !(A0>=A1&&A0<=AZ)}function AK(AZ){return AZ.charAt(0)}function AX(AZ){return D.map(AZ,AK)}function AN(A0,AZ){if(!AZ&&A0.getHours()===23){A0.setHours(A0.getHours()+2)}}function AM(A2){var A0=0,AZ=A2.length,A1=[];for(;A0<AZ;A0++){A1[A0]=(A2[A0]+"").toLowerCase()}return A1}function AQ(A1){var A0={},AZ;for(AZ in A1){A0[AZ]=AM(A1[AZ])}return A0}function AO(Bg,Bq,Bn){if(!Bg){return null}var Bb=function(By){var Bx=0;while(Bq[Bw]===By){Bx++;Bw++}if(Bx>0){Bw-=1}return Bx},A1=function(Bx){var Bz=AW[Bx]||new RegExp("^\\d{1,"+Bx+"}"),By=Bg.substr(A4,Bx).match(Bz);if(By){By=By[0];A4+=By.length;return parseInt(By,10)}return null},AZ=function(BD,Bz){var By=0,BA=BD.length,BB,Bx,BC;for(;By<BA;By++){BB=BD[By];Bx=BB.length;BC=Bg.substr(A4,Bx);if(Bz){BC=BC.toLowerCase()}if(BC==BB){A4+=Bx;return By+1}}return null},Bp=function(){var Bx=false;if(Bg.charAt(A4)===Bq[Bw]){A4++;Bx=true}return Bx},A6=Bn.calendars.standard,Bs=null,Bv=null,Bf=null,Bi=null,A3=null,Be=null,Bj=null,Bw=0,A4=0,Bh=false,A0=new Date(),A8=A6.twoDigitYearMax||2029,Bu=A0.getFullYear(),Ba,A7,Bk,Bc,Bo,Bm,Br,A9,Bt,Bd,A5,A2,Bl;if(!Bq){Bq="d"}Bc=A6.patterns[Bq];if(Bc){Bq=Bc}Bq=Bq.split("");Bk=Bq.length;for(;Bw<Bk;Bw++){Ba=Bq[Bw];if(Bh){if(Ba==="'"){Bh=false}else{Bp()}}else{if(Ba==="d"){A7=Bb("d");if(!A6._lowerDays){A6._lowerDays=AQ(A6.days)}Bf=A7<3?A1(2):AZ(A6._lowerDays[A7==3?"namesAbbr":"names"],true);if(Bf===null||AT(Bf,1,31)){return null}}else{if(Ba==="M"){A7=Bb("M");if(!A6._lowerMonths){A6._lowerMonths=AQ(A6.months)}Bv=A7<3?A1(2):AZ(A6._lowerMonths[A7==3?"namesAbbr":"names"],true);if(Bv===null||AT(Bv,1,12)){return null}Bv-=1}else{if(Ba==="y"){A7=Bb("y");Bs=A1(A7);if(Bs===null){return null}if(A7==2){if(typeof A8==="string"){A8=Bu+parseInt(A8,10)}Bs=(Bu-Bu%100)+Bs;if(Bs>A8){Bs-=100}}}else{if(Ba==="h"){Bb("h");Bi=A1(2);if(Bi==12){Bi=0}if(Bi===null||AT(Bi,0,11)){return null}}else{if(Ba==="H"){Bb("H");Bi=A1(2);if(Bi===null||AT(Bi,0,23)){return null}}else{if(Ba==="m"){Bb("m");A3=A1(2);if(A3===null||AT(A3,0,59)){return null}}else{if(Ba==="s"){Bb("s");Be=A1(2);if(Be===null||AT(Be,0,59)){return null}}else{if(Ba==="f"){A7=Bb("f");Bj=A1(A7);if(Bj!==null&&A7>3){Bj=parseInt(Bj.toString().substring(0,3),10)}if(Bj===null||AT(Bj,0,999)){return null}}else{if(Ba==="t"){A7=Bb("t");Bt=A6.AM;Bd=A6.PM;if(A7===1){Bt=AX(Bt);Bd=AX(Bd)}Bo=AZ(Bd);if(!Bo&&!AZ(Bt)){return null}}else{if(Ba==="z"){Bm=true;A7=Bb("z");if(Bg.substr(A4,1)==="Z"){if(!Br){return null}Bp();continue}A9=Bg.substr(A4,6).match(A7>2?AV:AY);if(!A9){return null}A9=A9[0];A4=A9.length;A9=A9.split(":");A5=parseInt(A9[0],10);if(AT(A5,-12,13)){return null}if(A7>2){A2=parseInt(A9[1],10);if(isNaN(A2)||AT(A2,0,59)){return null}}}else{if(Ba==="T"){Br=Bp()}else{if(Ba==="'"){Bh=true;Bp()}else{if(!Bp()){return null}}}}}}}}}}}}}}}Bl=Bi!==null||A3!==null||Be||null;if(Bs===null&&Bv===null&&Bf===null&&Bl){Bs=Bu;Bv=A0.getMonth();Bf=A0.getDate()}else{if(Bs===null){Bs=Bu}if(Bf===null){Bf=1}}if(Bo&&Bi<12){Bi+=12}if(Bm){if(A5){Bi+=-A5}if(A2){A3+=-A2}Bg=new Date(Date.UTC(Bs,Bv,Bf,Bi,A3,Be,Bj))}else{Bg=new Date(Bs,Bv,Bf,Bi,A3,Be,Bj);AN(Bg,Bi)}if(Bs<100){Bg.setFullYear(Bs)}if(Bg.getDate()!==Bf&&Bm===Af){return null}return Bg}Ak.parseDate=function(A3,A2,A0){if(AL.call(A3)==="[object Date]"){return A3}var A1=0,A4=null,AZ,A5;if(A3&&A3.indexOf("/D")===0){A4=AP.exec(A3);if(A4){return new Date(parseInt(A4[1],10))}}A0=Ak.getCulture(A0);if(!A2){A2=[];A5=A0.calendar.patterns;AZ=AR.length;for(;A1<AZ;A1++){A2[A1]=A5[AR[A1]]}A1=0;A2.push("yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd")}A2=k(A2)?A2:[A2];AZ=A2.length;for(;A1<AZ;A1++){A4=AO(A3,A2[A1],A0);if(A4){return A4}}return A4};Ak.parseInt=function(A1,AZ){var A0=Ak.parseFloat(A1,AZ);if(A0){A0=A0|0}return A0};Ak.parseFloat=function(A3,A1,A7){if(!A3&&A3!==0){return null}if(typeof A3===X){return A3}A3=A3.toString();A1=Ak.getCulture(A1);var AZ=A1.numberFormat,A6=AZ.percent,A0=AZ.currency,A4=A0.symbol,A2=A6.symbol,A9=A3.indexOf("-"),A5,A8;if(AU.test(A3)){A3=parseFloat(A3.replace(AZ["."],"."));if(isNaN(A3)){A3=null}return A3}if(A9>0){return null}else{A9=A9>-1}if(A3.indexOf(A4)>-1||(A7&&A7.toLowerCase().indexOf("c")>-1)){AZ=A0;A5=AZ.pattern[0].replace("$",A4).split("n");if(A3.indexOf(A5[0])>-1&&A3.indexOf(A5[1])>-1){A3=A3.replace(A5[0],"").replace(A5[1],"");A9=true}}else{if(A3.indexOf(A2)>-1){A8=true;AZ=A6;A4=A2}}A3=A3.replace("-","").replace(A4,"").replace(AS," ").split(AZ[","].replace(AS," ")).join("").replace(AZ["."],".");A3=parseFloat(A3);if(isNaN(A3)){A3=null}else{if(A9){A3*=-1}}if(A3&&A8){A3/=100}return A3};if(Ac){Ak.parseDate=function(A1,AZ,A0){if(AL.call(A1)==="[object Date]"){return A1}return Ac.parseDate(A1,AZ,A0)};Ak.parseFloat=function(A0,AZ){if(typeof A0===X){return A0}if(A0===Af||A0===null){return null}A0=Ac.parseFloat(A0,AZ);return isNaN(A0)?null:A0}}})();function Q(AW,AK){var AL=R.browser,AT,AN=AW.css("direction")=="rtl";if(!AW.parent().hasClass("k-animation-container")){var AQ=AW.css(Ak.support.transitions.css+"box-shadow")||AW.css("box-shadow"),AP=AQ?AQ.match(AB)||[0,0,0,0,0]:[0,0,0,0,0],AS=Ab.max((+AP[3]),+(AP[4]||0)),AX=(-AP[1])+AS,AO=(+AP[1])+AS,AV=(+AP[2])+AS,AU=AW[0].style.width,A0=AW[0].style.height,AY=AH.test(AU),AM=AH.test(A0);if(AL.opera){AX=AO=AV=5}AT=AY||AM;if(!AY&&(!AK||(AK&&AU))){AU=AW.outerWidth()}if(!AM&&(!AK||(AK&&A0))){A0=AW.outerHeight()}AW.wrap(D("<div/>").addClass("k-animation-container").css({width:AU,height:A0,marginLeft:AX*(AN?1:-1),paddingLeft:AX,paddingRight:AO,paddingBottom:AV}));if(AT){AW.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}}else{var AR=AW.parent(".k-animation-container"),AZ=AR[0].style;if(AR.is(":hidden")){AR.show()}AT=AH.test(AZ.width)||AH.test(AZ.height);if(!AT){AR.css({width:AW.outerWidth(),height:AW.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}}if(AL.msie&&Ab.floor(AL.version)<=7){AW.css({zoom:1});AW.children(".k-menu").width(AW.width())}return AW.parent()}function z(AK){var AL=1,AM=arguments.length;for(AL=1;AL<AM;AL++){v(AK,arguments[AL])}return AK}function v(AR,AP){var AO=Ak.data.ObservableArray,AK=Ak.data.DataSource,AM,AQ,AL,AN;for(AM in AP){AQ=AP[AM];AL=typeof AQ;if(AL===Ax&&AQ!==null&&AQ.constructor!==Array&&AQ.constructor!==AO&&AQ.constructor!==AK){if(AQ instanceof Date){AR[AM]=new Date(AQ.getTime())}else{AN=AR[AM];if(typeof(AN)===Ax){AR[AM]=AN||{}}else{AR[AM]={}}v(AR[AM],AQ)}}else{if(AL!==U){AR[AM]=AQ}}}return AR}function A(AM,AN,AK){for(var AL in AN){if(AN.hasOwnProperty(AL)&&AN[AL].test(AM)){return AL}}return AK!==Af?AK:AM}function Y(AK){return AK.replace(/([a-z][A-Z])/g,function(AL){return AL.charAt(0)+"-"+AL.charAt(1).toLowerCase()})}function T(AK){return AK.replace(/\-(\w)/g,function(AM,AL){return AL.toUpperCase()})}function B(AN,AL){var AM={},AK;if(document.defaultView&&document.defaultView.getComputedStyle){AK=document.defaultView.getComputedStyle(AN,"");if(AL){D.each(AL,function(AP,AO){AM[AO]=AK.getPropertyValue(AO)})}}else{AK=AN.currentStyle;if(AL){D.each(AL,function(AP,AO){AM[AO]=AK[T(AO)]})}}if(!Ak.size(AM)){AM=AK}return AM}(function(){R.scrollbar=function(){var AT=document.createElement("div"),AS;AT.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both";AT.innerHTML="&nbsp;";document.body.appendChild(AT);AS=AT.offsetWidth-AT.scrollWidth;document.body.removeChild(AT);return AS};R.isRtl=function(AS){return D(AS).closest(".k-rtl").length>0};var AR=document.createElement("table");try{AR.innerHTML="<tr><td></td></tr>";R.tbodyInnerHtml=true}catch(AK){R.tbodyInnerHtml=false}R.touch="ontouchstart" in window;R.msPointers=navigator.msPointerEnabled;R.pointers=navigator.pointerEnabled;var AM=R.transitions=false,AQ=R.transforms=false,AL="HTMLElement" in window?HTMLElement.prototype:[];R.hasHW3D=("WebKitCSSMatrix" in window&&"m11" in new window.WebKitCSSMatrix())||"MozPerspective" in document.documentElement.style||"msPerspective" in document.documentElement.style;M(["Moz","webkit","O","ms"],function(){var AT=this.toString(),AS=typeof AR.style[AT+"Transition"]===Ay;if(AS||typeof AR.style[AT+"Transform"]===Ay){var AU=AT.toLowerCase();AQ={css:(AU!="ms")?"-"+AU+"-":"",prefix:AT,event:(AU==="o"||AU==="webkit")?AU:""};if(AS){AM=AQ;AM.event=AM.event?AM.event+"TransitionEnd":"transitionend"}return false}});R.transforms=AQ;R.transitions=AM;R.devicePixelRatio=window.devicePixelRatio===Af?1:window.devicePixelRatio;try{R.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth;R.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight}catch(AK){R.screenWidth=window.screen.availWidth;R.screenHeight=window.screen.availHeight}R.detectOS=function(AV){var A0=false,AY,AU=[],AW=!/mobile safari/i.test(AV),AT={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},AS={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,meego:/meego|ffos/},AX={tablet:/playbook|ipad|fire/i},A1={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(var AZ in AT){if(AT.hasOwnProperty(AZ)){AU=AV.match(AT[AZ]);if(AU){if(AZ=="windows"&&"plugins" in navigator){return false}A0={};A0.device=AZ;A0.tablet=A(AZ,AX,false);A0.browser=A(AV,A1,"default");A0.name=A(AZ,AS);A0[A0.name]=true;A0.majorVersion=AU[2];A0.minorVersion=AU[3].replace("_",".");AY=A0.minorVersion.replace(".","").substr(0,2);A0.flatVersion=A0.majorVersion+AY+(new Array(3-(AY.length<3?AY.length:2)).join("0"));A0.appMode=window.navigator.standalone||(/file|local|wmapp/).test(window.location.protocol)||typeof window.PhoneGap!==U||typeof window.cordova!==U;if(A0.android&&(R.devicePixelRatio<1.5&&A0.flatVersion<400||AW)&&(R.screenWidth>800||R.screenHeight>800)){A0.tablet=AZ}break}}}return A0};var AO=R.mobileOS=R.detectOS(navigator.userAgent);R.wpDevicePixelRatio=AO.wp?screen.width/320:0;R.kineticScrollNeeded=AO&&(R.touch||R.msPointers||R.pointers);R.hasNativeScrolling=false;if((AO.ios&&AO.majorVersion>4)||(AO.android&&AO.majorVersion>2)||AO.wp){R.hasNativeScrolling=AO}R.mouseAndTouchPresent=R.touch&&!(R.mobileOS.ios||R.mobileOS.android);R.detectBrowser=function(AV){var AS=false,AT=[],AW={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var AU in AW){if(AW.hasOwnProperty(AU)){AT=AV.match(AW[AU]);if(AT){AS={};AS[AU]=true;AS[AT[1].toLowerCase()]=true;AS.version=parseInt(document.documentMode||AT[2],10);break}}}return AS};R.browser=R.detectBrowser(navigator.userAgent);R.zoomLevel=function(){try{return R.touch?(document.documentElement.clientWidth/window.innerWidth):R.browser.msie&&R.browser.version>=10?((top||window).outerWidth/(top||window).innerWidth):1}catch(AS){return 1}};R.cssBorderSpacing=typeof document.documentElement.style.borderSpacing!="undefined"&&!(R.browser.msie&&R.browser.version<8);(function(AS){var AU,AT=parseInt(AS.version,10);if(AS.msie){AU="ie"}else{if(AS.mozilla){AU="ff"}else{if(AS.safari){AU="safari"}else{if(AS.webkit){AU="webkit"}else{if(AS.opera){AU="opera"}}}}}if(AU){D(document.documentElement).addClass("k-"+AU+" k-"+AU+AT)}})(R.browser);R.eventCapture=document.documentElement.addEventListener;var AP=document.createElement("input");R.placeholder="placeholder" in AP;R.input=(function(){var AV=["number","date","time","month","week","datetime","datetime-local"];var AT=AV.length;var AW="test";var AU={};var AX=0;var AS;for(;AX<AT;AX++){AS=AV[AX];AP.setAttribute("type",AS);AP.value=AW;AU[AS.replace("-","")]=AP.type!=="text"&&AP.value!==AW}return AU})();R.stableSort=(function(){var AS=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return AS[0]===0&&AS[1]===1&&AS[2]===2&&AS[3]===3&&AS[4]===4&&AS[5]===5&&AS[6]===6&&AS[7]===7&&AS[8]===8&&AS[9]===9&&AS[10]===10&&AS[11]===11&&AS[12]===12})();R.matchesSelector=AL.webkitMatchesSelector||AL.mozMatchesSelector||AL.msMatchesSelector||AL.oMatchesSelector||AL.matchesSelector||function(AU){var AS=document.querySelectorAll?(this.parentNode||document).querySelectorAll(AU)||[]:D(AU),AT=AS.length;while(AT--){if(AS[AT]==this){return true}}return false};R.pushState=window.history&&window.history.pushState;var AN=document.documentMode;R.hashChange=("onhashchange" in window)&&!(R.browser.msie&&(!AN||AN<=8))})();function AD(AL){var AM=0,AK;for(AK in AL){if(AL.hasOwnProperty(AK)&&AK!="toJSON"){AM++}}return AM}function g(AP,AK,AQ){if(!AK){AK="offset"}var AM=AP[AK](),AN=R.mobileOS;if(R.touch&&AN.ios&&AN.flatVersion<410){var AL=AK=="offset"?AM:AP.offset(),AO=(AM.left==AL.left&&AM.top==AL.top);if(AO){return{top:AM.top-window.scrollY,left:AM.left-window.scrollX}}}if((Ak.support.pointers||Ak.support.msPointers)&&!AQ){AM.top-=(window.pageYOffset-document.documentElement.scrollTop);AM.left-=(window.pageXOffset-document.documentElement.scrollLeft)}return AM}var AA={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}};function j(AL){var AK={};M((typeof AL==="string"?AL.split(" "):AL),function(AM){AK[AM]=this});return AK}function d(AK){return new Ak.effects.Element(AK)}var x={};D.extend(x,{Element:function(AK){this.element=D(AK)},promise:function(AL,AK){if(!AL.is(":visible")){AL.css({display:AL.data("olddisplay")||"block"}).css("display")}if(AK.hide){AL.data("olddisplay",AL.css("display")).hide()}if(AK.init){AK.init()}if(AK.completeCallback){AK.completeCallback(AL)}AL.dequeue()},transitionPromise:function(AM,AK,AL){var AN=Ak.wrap(AM);AN.append(AK);AM.hide();AK.show();if(AL.completeCallback){AL.completeCallback(AM)}return AM}});function V(AM,AN,AL,AK){if(typeof AM===Ay){if(n(AN)){AK=AN;AN=400;AL=false}if(n(AL)){AK=AL;AL=false}if(typeof AN===h){AL=AN;AN=400}AM={effects:AM,duration:AN,reverse:AL,complete:AK}}return W({effects:{},duration:400,reverse:false,init:AJ,teardown:AJ,hide:false},AM,{completeCallback:AM.complete,complete:AJ})}function O(AK,AP,AN,AL,AQ){var AM=0,AR=AK.length,AO;for(;AM<AR;AM++){AO=D(AK[AM]);AO.queue(function(){x.promise(AO,V(AP,AN,AL,AQ))})}return AK}function b(AP,AL,AN,AO,AM,AK){return x.transitionPromise(AP,AL,V(AN,AO,AM,AK))}function F(AN,AL,AM,AK){if(AL){AL=AL.split(" ");M(AL,function(AP,AO){AN.toggleClass(AO,AK)})}return AN}if(!("kendoAnimate" in D.fn)){W(D.fn,{kendoStop:function(AL,AK){return this.stop(AL,AK)},kendoAnimate:function(AM,AN,AL,AK){return O(this,AM,AN,AL,AK)},kendoAnimateTo:function(AL,AN,AO,AM,AK){return b(this,AL,AN,AO,AM,AK)},kendoAddClass:function(AL,AK){return Ak.toggleClass(this,AL,AK,true)},kendoRemoveClass:function(AL,AK){return Ak.toggleClass(this,AL,AK,false)},kendoToggleClass:function(AM,AL,AK){return Ak.toggleClass(this,AM,AL,AK)}})}var a=/&/g,AC=/</g,q=/>/g;function C(AK){return(""+AK).replace(a,"&amp;").replace(AC,"&lt;").replace(q,"&gt;")}var Az=function(AK){return AK.target};if(R.touch){Az=function(AK){var AL="originalEvent" in AK?AK.originalEvent.changedTouches:"changedTouches" in AK?AK.changedTouches:null;return AL?document.elementFromPoint(AL[0].clientX,AL[0].clientY):AK.target};M(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(AK,AL){D.fn[AL]=function(AM){return this.bind(AL,AM)}})}if(R.touch){if(!R.mobileOS){R.mousedown="mousedown touchstart";R.mouseup="mouseup touchend";R.mousemove="mousemove touchmove";R.mousecancel="mouseleave touchcancel";R.click="click";R.resize="resize"}else{R.mousedown="touchstart";R.mouseup="touchend";R.mousemove="touchmove";R.mousecancel="touchcancel";R.click="touchend";R.resize="orientationchange"}}else{if(R.pointers){R.mousemove="pointermove";R.mousedown="pointerdown";R.mouseup="pointerup";R.mousecancel="pointercancel";R.click="pointerup";R.resize="orientationchange resize"}else{if(R.msPointers){R.mousemove="MSPointerMove";R.mousedown="MSPointerDown";R.mouseup="MSPointerUp";R.mousecancel="MSPointerCancel";R.click="MSPointerUp";R.resize="orientationchange resize"}else{R.mousemove="mousemove";R.mousedown="mousedown";R.mouseup="mouseup";R.mousecancel="mouseleave";R.click="click";R.resize="resize"}}}var Ah=function(AL,AK){var AM=AK||"d",AN,AP,AQ,AO,AR=1;for(AP=0,AQ=AL.length;AP<AQ;AP++){AO=AL[AP];if(AO!==""){AN=AO.indexOf("[");if(AN!==0){if(AN==-1){AO="."+AO}else{AR++;AO="."+AO.substring(0,AN)+" || {})"+AO.substring(AN)}}AR++;AM+=AO+((AP<AQ-1)?" || {})":")")}}return new Array(AR).join("(")+AM},I=/^([a-z]+:)?\/\//i;W(Ak,{ui:Ak.ui||{},fx:Ak.fx||d,effects:Ak.effects||x,mobile:Ak.mobile||{},data:Ak.data||{},dataviz:Ak.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:Ak.support||R,animate:Ak.animate||O,ns:"",attr:function(AK){return"data-"+Ak.ns+AK},wrap:Q,deepExtend:z,getComputedStyles:B,size:AD,toCamelCase:T,toHyphens:Y,getOffset:Ak.getOffset||g,parseEffects:Ak.parseEffects||j,toggleClass:Ak.toggleClass||F,directions:Ak.directions||AA,Observable:AE,Class:G,Template:L,template:N(L.compile,L),render:N(L.render,L),stringify:N(Ar.stringify,Ar),eventTarget:Az,htmlEncode:C,isLocalUrl:function(AK){return AK&&!I.test(AK)},expr:function(AM,AK,AL){AM=AM||"";if(typeof AK==Ay){AL=AK;AK=false}AL=AL||"d";if(AM&&AM.charAt(0)!=="["){AM="."+AM}if(AK){AM=Ah(AM.split("."),AL)}else{AM=AL+AM}return AM},getter:function(AL,AK){return y[AL]=y[AL]||new Function("d","return "+Ak.expr(AL,AK))},setter:function(AK){return Av[AK]=Av[AK]||new Function("d,value",Ak.expr(AK)+"=value")},accessor:function(AK){return{get:Ak.getter(AK),set:Ak.setter(AK)}},guid:function(){var AM="",AK,AL;for(AK=0;AK<32;AK++){AL=Ab.random()*16|0;if(AK==8||AK==12||AK==16||AK==20){AM+="-"}AM+=(AK==12?4:(AK==16?(AL&3|8):AL)).toString(16)}return AM},roleSelector:function(AK){return AK.replace(/(\S+)/g,"["+Ak.attr("role")+"=$1],").slice(0,-1)},triggeredByInput:function(AK){return(/^(label|input|textarea|select)$/i).test(AK.target.tagName)},logToConsole:function(AL){var AK=window.console;if(typeof(AK)!="undefined"&&AK.log){AK.log(AL)}}});var l=AE.extend({init:function(AM,AL){var AK=this;AK.element=Ak.jQuery(AM).handler(AK);AE.fn.init.call(AK);AL=AK.options=W(true,{},AK.options,AL);if(!AK.element.attr(Ak.attr("role"))){AK.element.attr(Ak.attr("role"),(AL.name||"").toLowerCase())}AK.element.data("kendo"+AL.prefix+AL.name,AK);AK.bind(AK.events,AL)},events:[],options:{prefix:""},_hasBindingTarget:function(){return !!this.element[0].kendoBindingTarget},_tabindex:function(AN){AN=AN||this.wrapper;var AK=this.element,AM="tabindex",AL=AN.attr(AM)||AK.attr(AM);AK.removeAttr(AM);AN.attr(AM,!isNaN(AL)?AL:0)},setOptions:function(AN){var AM=this,AO=0,AK=AM.events.length,AL;for(;AO<AK;AO++){AL=AM.events[AO];if(AM.options[AL]&&AN[AL]){AM.unbind(AL,AM.options[AL])}}D.extend(AM.options,AN);AM.bind(AM.events,AN)},resize:function(AL){var AK=this.getSize(),AM=this._size;if(AL||!AM||AK.width!==AM.width||AK.height!==AM.height){this._resize(AK);this.trigger("resize",AK);this._size=AK}},getSize:function(){return Ak.dimensions(this.element)},size:function(AK){if(!AK){return this.getSize()}else{this.setSize(AK)}},setSize:D.noop,_resize:D.noop,destroy:function(){var AK=this;AK.element.removeData("kendo"+AK.options.prefix+AK.options.name);AK.element.removeData("handler");AK.unbind()}});Ak.dimensions=function(AM,AL){var AK=AM[0];if(AL){AM.css(AL)}return{width:AK.offsetWidth,height:AK.offsetHeight}};Ak.notify=AJ;var E=/template$/i,Au=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,At=/^\{(\d+)(:[^\}]+)?\}/,AG=/([A-Z])/g;function Aq(AM,AK){var AL;if(AK.indexOf("data")===0){AK=AK.substring(4);AK=AK.charAt(0).toLowerCase()+AK.substring(1)}AK=AK.replace(AG,"-$1");AL=AM.getAttribute("data-"+Ak.ns+AK);if(AL===null){AL=Af}else{if(AL==="null"){AL=null}else{if(AL==="true"){AL=true}else{if(AL==="false"){AL=false}else{if(Ai.test(AL)){AL=parseFloat(AL)}else{if(Au.test(AL)&&!At.test(AL)){AL=S("("+AL+")")}}}}}}return AL}function c(AO,AM){var AL={},AK,AN;for(AK in AM){AN=Aq(AO,AK);if(AN!==Af){if(E.test(AK)){AN=Ak.template(D("#"+AN).html())}AL[AK]=AN}}return AL}Ak.initWidget=function(AK,AQ,AL){var AM,AT,AR,AN,AO,AS,AP,AU;if(!AL){AL=Ak.ui.roles}else{if(AL.roles){AL=AL.roles}}AK=AK.nodeType?AK:AK[0];AS=AK.getAttribute("data-"+Ak.ns+"role");if(!AS){return}if(AS.indexOf(".")===-1){AR=AL[AS]}else{AR=Ak.getter(AS)(window)}if(!AR){return}AU=Aq(AK,"dataSource");AQ=D.extend({},c(AK,AR.fn.options),AQ);if(AU){if(typeof AU===Ay){AQ.dataSource=Ak.getter(AU)(window)}else{AQ.dataSource=AU}}for(AN=0,AO=AR.fn.events.length;AN<AO;AN++){AT=AR.fn.events[AN];AP=Aq(AK,AT);if(AP!==Af){AQ[AT]=Ak.getter(AP)(window)}}AM=D(AK).data("kendo"+AR.fn.options.prefix+AR.fn.options.name);if(!AM){AM=new AR(AK,AQ)}else{AM.setOptions(AQ)}return AM};Ak.rolesFromNamespaces=function(AN){var AL=[],AM,AK;if(!AN[0]){AN=[Ak.ui,Ak.dataviz.ui]}for(AM=0,AK=AN.length;AM<AK;AM++){AL[AM]=AN[AM].roles}return W.apply(null,[{}].concat(AL.reverse()))};Ak.init=function(AL){var AK=Ak.rolesFromNamespaces(Ae.call(arguments,1));D(AL).find("[data-"+Ak.ns+"role]").addBack().each(function(){Ak.initWidget(this,{},AK)})};Ak.destroy=function(AK){D(AK).find("[data-"+Ak.ns+"role]").addBack().each(function(){var AL=Ak.widgetInstance(D(this));if(AL){AL.destroy()}})};Ak.resize=function(AK){D(AK).each(function(){var AL=D(this),AM;if(!AL.is(":visible")&&D.inArray(AL.attr("data-role"),["slider","rangeslider"])===-1){return}if(AL.is("[data-"+Ak.ns+"role]")){AM=Ak.widgetInstance(AL);if(AM){AM.resize()}}Ak.resize(AL.children())})};Ak.parseOptions=c;W(Ak.ui,{Widget:l,roles:{},progress:function(AQ,AN){var AS=AQ.find(".k-loading-mask"),AL=Ak.support,AR=AL.browser,AO,AM,AK,AP;if(AN){if(!AS.length){AO=AL.isRtl(AQ);AM=AO?"right":"left";AP=AQ.scrollLeft();AK=AR.webkit?(!AO?0:AQ[0].scrollWidth-AQ.width()-2*AP):0;AS=D("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",AQ.scrollTop()).css(AM,Math.abs(AP)+AK).prependTo(AQ)}}else{if(AS){AS.remove()}}},plugin:function(AO,AL,AK){var AM=AO.fn.options.name,AN;AL=AL||Ak.ui;AK=AK||"";AL[AM]=AO;AL.roles[AM.toLowerCase()]=AO;AN="getKendo"+AK+AM;AM="kendo"+AK+AM;D.fn[AM]=function(AP){var AQ=this,AR;if(typeof AP===Ay){AR=Ae.call(arguments,1);this.each(function(){var AU=D.data(this,AM),AT,AS;if(!AU){throw new Error(Ak.format("Cannot call method '{0}' of {1} before it is initialized",AP,AM))}AT=AU[AP];if(typeof AT!==s){throw new Error(Ak.format("Cannot find method '{0}' of {1}",AP,AM))}AS=AT.apply(AU,AR);if(AS!==Af){AQ=AS;return false}})}else{this.each(function(){new AO(this,AP)})}return AQ};D.fn[AN]=function(){return this.data(AM)}}});var Aa={bind:function(){return this}};var u=l.extend({init:function(AL,AK){l.fn.init.call(this,AL,AK);this.element.autoApplyNS();this.wrapper=this.element;this.element.addClass("km-widget")},destroy:function(){l.fn.destroy.call(this);this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var AK=this.element.closest(Ak.roleSelector("view splitview modalview drawer"));return Ak.widgetInstance(AK,Ak.mobile.ui)},container:function(){var AK=this.element.closest(Ak.roleSelector("view layout modalview drawer"));return Ak.widgetInstance(AK,Ak.mobile.ui)||Aa}});W(Ak.mobile,{init:function(AK){Ak.init(AK,Ak.mobile.ui,Ak.ui,Ak.dataviz.ui)},ui:{Widget:u,roles:{},plugin:function(AK){Ak.ui.plugin(AK,Ak.mobile.ui,"Mobile")}}});Ak.touchScroller=function(AK,AL){return D(AK).map(function(AM,AN){AN=D(AN);if(R.kineticScrollNeeded&&Ak.mobile.ui.Scroller&&!AN.data("kendoMobileScroller")){AN.kendoMobileScroller(AL);return AN.data("kendoMobileScroller")}else{return false}})[0]};Ak.preventDefault=function(AK){AK.preventDefault()};Ak.widgetInstance=function(AM,AN){var AK=AM.data(Ak.ns+"role");if(AK==="content"){AK="scroller"}if(!AN){AN={roles:D.extend({},Ak.mobile.ui.roles,Ak.dataviz.ui.roles,Ak.ui.roles)}}var AL=AN.roles[AK];if(AL){return AM.data("kendo"+AL.fn.options.prefix+AL.fn.options.name)}};Ak.onResize=function(AK){var AL=AK;if(R.mobileOS.android){AL=function(){setTimeout(AK,600)}}D(window).on(R.resize,AL);return AL};Ak.unbindResize=function(AK){D(window).off(R.resize,AK)};Ak.attrValue=function(AL,AK){return AL.data(Ak.ns+AK)};Ak.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function e(AL,AM){var AK=AL.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(AK)?!AL.disabled:"a"===AK?AL.href||AM:AM)&&r(AL)}function r(AK){return !D(AK).parents().addBack().filter(function(){return D.css(this,"visibility")==="hidden"||D.expr.filters.hidden(this)}).length}D.extend(D.expr[":"],{kendoFocusable:function(AL){var AK=D.attr(AL,"tabindex");return e(AL,!isNaN(AK)&&AK>-1)}});var o=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"];var AI="label, input, [data-rel=external]";var Ag={setupMouseMute:function(){var AM=0,AK=o.length,AN=document.documentElement;if(Ag.mouseTrap||!R.eventCapture){return}Ag.mouseTrap=true;Ag.bustClick=false;Ag.captureMouse=false;var AL=function(AO){if(Ag.captureMouse){if(AO.type==="click"){if(Ag.bustClick&&!D(AO.target).is(AI)){AO.preventDefault();AO.stopPropagation()}}else{AO.stopPropagation()}}};for(;AM<AK;AM++){AN.addEventListener(o[AM],AL,true)}},muteMouse:function(AK){Ag.captureMouse=true;if(AK.data.bustClick){Ag.bustClick=true}clearTimeout(Ag.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(Ag.mouseTrapTimeoutID);Ag.mouseTrapTimeoutID=setTimeout(function(){Ag.captureMouse=false;Ag.bustClick=false},400)}};var m={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};if(R.touch&&(R.mobileOS.ios||R.mobileOS.android)){m={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}}else{if(R.pointers){m={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}}else{if(R.msPointers){m={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}}}}if(R.msPointers&&!("onmspointerenter" in window)){D.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(AK,AL){D.event.special[AK]={delegateType:AL,bindType:AL,handle:function(AO){var AQ,AP=this,AM=AO.relatedTarget,AN=AO.handleObj;if(!AM||(AM!==AP&&!D.contains(AP,AM))){AO.type=AN.origType;AQ=AN.handler.apply(this,arguments);AO.type=AL}return AQ}}})}var K=function(AK){return(m[AK]||AK)},Al=/([^ ]+)/g;Ak.applyEventMap=function(AL,AK){AL=AL.replace(Al,K);if(AK){AL=AL.replace(Al,"$1."+AK)}return AL};var As=D.fn.on;function t(AL,AK){return new t.fn.init(AL,AK)}W(true,t,D);t.fn=t.prototype=new D();t.fn.constructor=t;t.fn.init=function(AL,AK){if(AK&&AK instanceof D&&!(AK instanceof t)){AK=t(AK)}return D.fn.init.call(this,AL,AK,J)};t.fn.init.prototype=t.fn;var J=t(document);W(t.fn,{handler:function(AK){this.data("handler",AK);return this},autoApplyNS:function(AK){this.data("kendoNS",AK||Ak.guid());return this},on:function(){var AO=this,AR=AO.data("kendoNS");if(arguments.length===1){return As.call(AO,arguments[0])}var AN=AO,AK=Ae.call(arguments);if(typeof AK[AK.length-1]===U){AK.pop()}var AL=AK[AK.length-1],AQ=Ak.applyEventMap(AK[0],AR);if(R.mouseAndTouchPresent&&AQ.search(/mouse|click/)>-1&&this[0]!==document.documentElement){Ag.setupMouseMute();var AP=AK.length===2?null:AK[1],AM=AQ.indexOf("click")>-1&&AQ.indexOf("touchend")>-1;As.call(this,{touchstart:Ag.muteMouse,touchend:Ag.unMuteMouse},AP,{bustClick:AM})}if(typeof AL===Ay){AN=AO.data("handler");AL=AN[AL];AK[AK.length-1]=function(AS){AL.call(AN,AS)}}AK[0]=AQ;As.apply(AO,AK);return AO},kendoDestroy:function(AK){AK=AK||this.data("kendoNS");if(AK){this.off("."+AK)}return this}});Ak.jQuery=t;Ak.eventMap=m;Ak.timezone=(function(){var AN={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};var AS={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function AV(A2,A1){var A4;var A0;var AZ;var AX=A1[3];var AY=A1[4];var AW=A1[5];var A3=A1[8];if(!A3){A1[8]=A3={}}if(A3[A2]){return A3[A2]}if(!isNaN(AY)){A4=new Date(Date.UTC(A2,AN[AX],AY,AW[0],AW[1],AW[2],0))}else{if(AY.indexOf("last")===0){A4=new Date(Date.UTC(A2,AN[AX]+1,1,AW[0]-24,AW[1],AW[2],0));A0=AS[AY.substr(4,3)];AZ=A4.getUTCDay();A4.setUTCDate(A4.getUTCDate()+A0-AZ-(A0>AZ?7:0))}else{if(AY.indexOf(">=")>=0){A4=new Date(Date.UTC(A2,AN[AX],AY.substr(5),AW[0],AW[1],AW[2],0));A0=AS[AY.substr(0,3)];AZ=A4.getUTCDay();A4.setUTCDate(A4.getUTCDate()+A0-AZ+(A0<AZ?7:0))}}}return A3[A2]=A4}function AK(AW,AY,A1){AY=AY[A1];if(!AY){var A0=A1.split(":");var AX=0;if(A0.length>1){AX=A0[0]*60+Number(A0[1])}return[-1000000,"max","-","Jan",1,[0,0,0],AX,"-"]}var AZ=new Date(AW).getUTCFullYear();AY=jQuery.grep(AY,function(A3){var A2=A3[0];var A4=A3[1];return A2<=AZ&&(A4>=AZ||(A2==AZ&&A4=="only")||A4=="max")});AY.push(AW);AY.sort(function(A3,A2){if(typeof A3!="number"){A3=Number(AV(AZ,A3))}if(typeof A2!="number"){A2=Number(AV(AZ,A2))}return A3-A2});return AY[jQuery.inArray(AW,AY)-1]}function AM(AW,A1,AX){var AY=A1[AX];if(typeof AY==="string"){AY=A1[AY]}if(!AY){throw new Error('Timezone "'+AX+'" is either incorrect, or kendo.timezones.min.js is not included.')}for(var A0=AY.length-1;A0>=0;A0--){var A2=AY[A0][3];if(A2&&AW>A2){break}}var AZ=AY[A0+1];if(!AZ){throw new Error('Timezone "'+AX+'" not found on '+AW+".")}return AZ}function AT(AW,AZ,AY,AX){if(typeof AW!=X){AW=Date.UTC(AW.getFullYear(),AW.getMonth(),AW.getDate(),AW.getHours(),AW.getMinutes(),AW.getSeconds(),AW.getMilliseconds())}var A0=AM(AW,AZ,AX);return{zone:A0,rule:AK(AW,AY,A0[1])}}function AQ(AW,AX){if(AX=="Etc/UTC"||AX=="Etc/GMT"){return 0}var AZ=AT(AW,this.zones,this.rules,AX);var A0=AZ.zone;var AY=AZ.rule;return AY?A0[0]-AY[6]:A0[0]}function AL(AW,AX){var A0=AT(AW,this.zones,this.rules,AX);var A1=A0.zone;var AZ=A0.rule;var AY=A1[2];if(AY.indexOf("/")>=0){return AY.split("/")[AZ&&AZ[6]?1:0]}else{if(AY.indexOf("%s")>=0){return AY.replace("%s",(!AZ||AZ[7]=="-")?"":AZ[7])}}return AY}function AO(A0,AW,AY){if(typeof AW==Ay){AW=this.offset(A0,AW)}if(typeof AY==Ay){AY=this.offset(A0,AY)}var AZ=A0.getTimezoneOffset();A0=new Date(A0.getTime()+(AW-AY)*60000);var AX=A0.getTimezoneOffset();return new Date(A0.getTime()+(AX-AZ)*60000)}function AU(AX,AW){return this.convert(AX,AX.getTimezoneOffset(),AW)}function AP(AX,AW){return this.convert(AX,AW,AX.getTimezoneOffset())}function AR(AW){return this.apply(new Date(AW),"Etc/UTC")}return{zones:{},rules:{},offset:AQ,convert:AO,apply:AU,remove:AP,abbr:AL,toLocalDate:AR}})();Ak.date=(function(){var AR=60000,AO=86400000;function AL(A2,A1){if(A1===0&&A2.getHours()===23){A2.setHours(A2.getHours()+2);return true}return false}function AP(A4,A3,A1){var A2=A4.getHours();A1=A1||1;A3=((A3-A4.getDay())+(7*A1))%7;A4.setDate(A4.getDate()+A3);AL(A4,A2)}function AV(A3,A2,A1){A3=new Date(A3);AP(A3,A2,A1);return A3}function AZ(A1){return new Date(A1.getFullYear(),A1.getMonth(),1)}function AM(A4){var A3=new Date(A4.getFullYear(),A4.getMonth()+1,0),A2=AZ(A4),A1=Math.abs(A3.getTimezoneOffset()-A2.getTimezoneOffset());if(A1){A3.setHours(A2.getHours()+(A1/60))}return A3}function AW(A1){A1=new Date(A1.getFullYear(),A1.getMonth(),A1.getDate(),0,0,0);AL(A1,0);return A1}function AX(A1){return Date.UTC(A1.getFullYear(),A1.getMonth(),A1.getDate(),A1.getHours(),A1.getMinutes(),A1.getSeconds(),A1.getMilliseconds())}function AT(A1){return A1.getTime()-AW(A1)}function AU(A4,A1,A6){var A5=AT(A1),A3=AT(A6),A2;if(!A4||A5==A3){return true}if(A1>=A6){A6+=AO}A2=AT(A4);if(A5>A2){A2+=AO}if(A3<A5){A3+=AO}return A2>=A5&&A2<=A3}function A0(A4,A1,A6){var A5=A1.getTime(),A3=A6.getTime(),A2;if(A5>=A3){A3+=AO}A2=A4.getTime();return A2>=A5&&A2<=A3}function AN(A3,A1){var A2=A3.getHours();A3=new Date(A3);AS(A3,A1*AO);AL(A3,A2);return A3}function AS(A4,A3,A5){var A1=A4.getTimezoneOffset();var A2;A4.setTime(A4.getTime()+A3);if(!A5){A2=A4.getTimezoneOffset()-A1;A4.setTime(A4.getTime()+A2*AR)}}function AY(){return AW(new Date())}function AK(A1){return AW(A1).getTime()==AY().getTime()}function AQ(A2){var A1=new Date(1980,1,1,0,0,0);if(A2){A1.setHours(A2.getHours(),A2.getMinutes(),A2.getSeconds(),A2.getMilliseconds())}return A1}return{adjustDST:AL,dayOfWeek:AV,setDayOfWeek:AP,getDate:AW,isInDateRange:A0,isInTimeRange:AU,isToday:AK,nextDay:function(A1){return AN(A1,1)},previousDay:function(A1){return AN(A1,-1)},toUtcTime:AX,MS_PER_DAY:AO,MS_PER_MINUTE:AR,setTime:AS,addDays:AN,today:AY,toInvariantTime:AQ,firstDayOfMonth:AZ,lastDayOfMonth:AM,getMilliseconds:AT}})();Ak.stripWhitespace=function(AL){var AK=document.createNodeIterator(AL,NodeFilter.SHOW_TEXT,function(AM){return AM.parentNode==AL?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},false);while(AK.nextNode()){if(AK.referenceNode&&!AK.referenceNode.textContent.trim()){AK.referenceNode.parentNode.removeChild(AK.referenceNode)}}};var Ad=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(AK){setTimeout(AK,1000/60)};Ak.animationFrame=function(AK){Ad.call(window,AK)};var i=[];Ak.queueAnimation=function(AK){i[i.length]=AK;if(i.length===1){Ak.runNextAnimation()}};Ak.runNextAnimation=function(){var AK=i.shift();Ak.animationFrame(function(){AK();if(Ad[0]){Ak.runNextAnimation()}})};Ak.parseQueryStringParams=function(AL){var AN=AL.split("?")[1]||"",AP={},AO=AN.split(/&|=/),AK=AO.length,AM=0;for(;AM<AK;AM+=2){if(AO[AM]!==""){AP[decodeURIComponent(AO[AM])]=decodeURIComponent(AO[AM+1])}}return AP}})(jQuery,eval);if(typeof kendo_module==="undefined"){kendo_module=function(){}}kendo_module({id:"core",name:"Core",category:"framework",description:"The core of the Kendo framework."});kendo_module({id:"router",name:"Router",category:"framework",description:"The Router class is responsible for tracking the application state and navigating between the application states.",depends:["core"],hidden:false});(function(M,A){var H=window.kendo,J="change",D="back",C=H.support,N=window.location,O=window.history,I=50,P=/^#*/,G=window.document;function F(S,Q){if(!Q){return S}if(S+"/"===Q){S=Q}var R=new RegExp("^"+Q,"i");if(!R.test(S)){S=Q+"/"+S}return N.protocol+"//"+(N.host+"/"+S).replace(/\/\/+/g,"/")}function B(Q,R){if(R.indexOf(Q)===0){return(R.substr(Q.length)).replace(/\/\//g,"/")}else{return Q}}var K=H.Class.extend({init:function(Q){this.root=Q},navigate:function(Q){O.pushState({},G.title,F(Q,this.root));return this.current()},current:function(){var Q=N.pathname;if(N.search){Q+=N.search}return B(this.root,Q)},change:function(Q){M(window).bind("popstate.kendo",Q)},stop:function(){M(window).unbind("popstate.kendo")}});var E=H.Class.extend({navigate:function(Q){N.hash=Q;return Q},change:function(Q){if(C.hashChange){M(window).bind("hashchange.kendo",Q)}else{this._interval=setInterval(Q,I)}},stop:function(){M(window).unbind("popstate.kendo");clearInterval(this._interval)},current:function(){return N.hash.replace(P,"")}});var L=H.Observable.extend({start:function(T){T=T||{};this.bind([J,D],T);if(this._started){return}this._started=true;var W=N.pathname,U=N.hash,V=C.pushState&&T.pushState,S=T.root||"/",Q=S===W;this.adapter=V?new K(S):new E();if(T.pushState&&!C.pushState&&!Q){N.replace(S+"#"+B(S,W));return true}if(V){var R;if(S===W+"/"){R=S}if(Q&&U){R=F(U.replace(P,""),S)}if(R){O.replaceState({},G.title,R)}}this.root=S;this.current=this.adapter.current();this.locations=[this.current];this.adapter.change(M.proxy(this,"_checkUrl"))},stop:function(){if(!this._started){return}this.adapter.stop();this.unbind(J);this._started=false},change:function(Q){this.bind(J,Q)},navigate:function(Q,R){if(Q==="#:back"){O.back();return}Q=Q.replace(P,"");if(this.current===Q||this.current===decodeURIComponent(Q)){return}if(!R){if(this.trigger(J,{url:Q})){return}}this.current=this.adapter.navigate(Q);this.locations.push(this.current)},_checkUrl:function(){var R=this.adapter.current(),Q=R===this.locations[this.locations.length-2],S=this.current;if(this.current===R||this.current===decodeURIComponent(R)){return}this.current=R;if(Q&&this.trigger("back",{url:S,to:R})){O.forward();this.current=S;return}if(this.trigger(J,{url:R})){if(Q){O.forward()}else{O.back()}this.current=S;return}if(Q){this.locations.pop()}else{this.locations.push(R)}}});H.absoluteURL=F;H.history=new L()})(window.kendo.jQuery);(function(){var M=window.kendo,N=M.history,O=M.Observable,H="init",E="routeMissing",I="change",C="back",F=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,G=/\*\w+/g,K=/[\-{}\[\]+?.,\\\^$|#\s]/g;function A(Q,R){return R?Q:"([^/]+)"}function B(Q){return new RegExp("^"+Q.replace(K,"\\$&").replace(F,"(?:$1)?").replace(L,A).replace(G,"(.*?)")+"$")}function J(Q){return Q.replace(/(\?.*)|(#.*)/g,"")}var D=M.Class.extend({init:function(Q,R){if(!(Q instanceof RegExp)){Q=B(Q)}this.route=Q;this._callback=R},callback:function(R){var U,T=0,Q,S=M.parseQueryStringParams(R);R=J(R);U=this.route.exec(R).slice(1);Q=U.length;for(;T<Q;T++){if(typeof U[T]!=="undefined"){U[T]=decodeURIComponent(U[T])}}U.push(S);this._callback.apply(null,U)},worksWith:function(Q){if(this.route.test(Q)){this.callback(Q);return true}else{return false}}});var P=O.extend({init:function(Q){O.fn.init.call(this);this.routes=[];this.pushState=Q?Q.pushState:false;if(Q&&Q.root){this.root=Q.root}this.bind([H,E,I],Q)},destroy:function(){N.unbind(I,this._urlChangedProxy);N.unbind(C,this._backProxy);this.unbind()},start:function(){var S=this,R=function(U){S._back(U)},T=function(U){S._urlChanged(U)};N.start({change:T,back:R,pushState:S.pushState,root:S.root});var Q={url:N.current||"/"};if(!S.trigger(H,Q)){S._urlChanged(Q)}this._urlChangedProxy=T;this._backProxy=R},route:function(Q,R){this.routes.push(new D(Q,R))},navigate:function(Q,R){M.history.navigate(Q,R)},_back:function(Q){if(this.trigger(C,{url:Q.url,to:Q.to})){Q.preventDefault()}},_urlChanged:function(S){var V=S.url;if(!V){V="/"}if(this.trigger(I,{url:S.url,params:M.parseQueryStringParams(S.url)})){S.preventDefault();return}var T=0,U=this.routes,Q,R=U.length;for(;T<R;T++){Q=U[T];if(Q.worksWith(V)){return}}if(this.trigger(E,{url:V,params:M.parseQueryStringParams(V)})){S.preventDefault()}}});M.Router=P})();kendo_module({id:"view",name:"View",category:"framework",description:"The View class instantiates and handles the events of a certain screen from the application.",depends:["core","binder"],hidden:false});(function(I,A){var B=window.kendo,K=B.Observable,H="SCRIPT",G="init",C="show",J="hide",F=/unrecognized expression/;var E=K.extend({init:function(N,M){var L=this;M=M||{};K.fn.init.call(L);L.content=N;L.tagName=M.tagName||"div";L.model=M.model;L._wrap=M.wrap!==false;L.bind([G,C,J],M)},render:function(M){var L=this,N=!L.element;if(N){L.element=L._createElement()}if(M){I(M).append(L.element)}if(N){B.bind(L.element,L.model);L.trigger(G)}if(M){L.trigger(C)}return L.element},hide:function(){this.element.detach();this.trigger(J)},destroy:function(){var L=this.element;if(L){B.unbind(L);B.destroy(L);L.remove()}},_createElement:function(){var M=this,N,O;try{O=I(document.getElementById(M.content)||M.content)}catch(L){if(F.test(L.message)){O=M.content}}N=I("<"+M.tagName+" />").append(O[0].tagName===H?O.html():O);if(!M._wrap){N=N.contents()}return N}});var D=E.extend({init:function(M,L){E.fn.init.call(this,M,L);this.regions={}},showIn:function(L,M){var N=this.regions[L];if(N){N.hide()}M.render(this.render().find(L),N);this.regions[L]=M}});B.Layout=D;B.View=E})(window.kendo.jQuery);kendo_module({id:"fx",name:"Effects",category:"framework",description:"Required for animation effects in all Kendo UI widgets.",depends:["core"]});(function(q,o){var d=window.kendo,z=d.effects,W=q.each,Am=q.extend,Ao=q.proxy,A=d.support,C=A.browser,P=A.transforms,c=A.transitions,U={scale:0,scalex:0,scaley:0,scale3d:0},k={translate:0,translatex:0,translatey:0,translate3d:0},u=(typeof document.documentElement.style.zoom!=="undefined")&&!P,Aa=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,V=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,l=/translatex?$/i,w=/(zoom|fade|expand)(\w+)/,f=/(zoom|fade|expand)/,Q=/[xy]$/i,J=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],Y=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],Al={"rotate":"deg",scale:"",skew:"px",translate:"px"},T=P.css,n=Math.round,Aj="",g="px",H="none",Af="auto",h="width",Ad="height",s="hidden",Z="origin",N="abortId",t="overflow",Ab="translate",Ae="position",M="completeCallback",E=T+"transition",Ag=T+"transform",p=T+"backface-visibility",S=T+"perspective",y="1500px",F="perspective("+y+")",r=A.mobileOS&&A.mobileOS.majorVersion==7,v={left:{reverse:"right",property:"left",transition:"translatex",vertical:false,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:false,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:true,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:true,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};d.directions=v;Am(q.fn,{kendoStop:function(Aq,Ap){if(c){return z.stopQueue(this,Aq||false,Ap||false)}else{return this.stop(Aq,Ap)}}});if(P&&!c){W(Y,function(Aq,Ap){q.fn[Ap]=function(As){if(typeof As=="undefined"){return D(this,Ap)}else{var Ar=q(this)[0],At=Ap+"("+As+Al[Ap.replace(Q,"")]+")";if(Ar.style.cssText.indexOf(Ag)==-1){q(this).css(Ag,At)}else{Ar.style.cssText=Ar.style.cssText.replace(new RegExp(Ap+"\\(.*?\\)","i"),At)}}return this};q.fx.step[Ap]=function(Ar){q(Ar.elem)[Ap](Ar.now)}});var Ai=q.fx.prototype.cur;q.fx.prototype.cur=function(){if(Y.indexOf(this.prop)!=-1){return parseFloat(q(this.elem)[this.prop]())}return Ai.apply(this,arguments)}}d.toggleClass=function(As,Aq,Ar,Ap){if(Aq){Aq=Aq.split(" ");if(c){Ar=Am({exclusive:"all",duration:400,ease:"ease-out"},Ar);As.css(E,Ar.exclusive+" "+Ar.duration+"ms "+Ar.ease);setTimeout(function(){As.css(E,"").css(Ad)},Ar.duration)}W(Aq,function(Au,At){As.toggleClass(At,Ap)})}return As};d.parseEffects=function(Aq,Ar){var Ap={};if(typeof Aq==="string"){W(Aq.split(" "),function(Av,As){var Aw=!f.test(As),Ay=As.replace(w,function(AA,Az,AB){return Az+":"+AB.toLowerCase()}),Au=Ay.split(":"),Ax=Au[1],At={};if(Au.length>1){At.direction=(Ar&&Aw?v[Ax].reverse:Ax)}Ap[Au[0]]=At})}else{W(Aq,function(As){var At=this.direction;if(At&&Ar&&!f.test(As)){this.direction=v[At].reverse}Ap[As]=this})}return Ap};function X(Ap){return parseInt(Ap,10)}function B(Aq,Ap){return X(Aq.css(Ap))}function G(Aq){var Ap=Aq.effects;if(Ap==="zoom"){Ap="zoom:in fade:in"}if(Ap==="fade"){Ap="fade:in"}if(Ap==="slide"){Ap="tile:left"}if(/^slide:(.+)$/.test(Ap)){Ap="tile:"+RegExp.$1}if(Ap==="overlay"){Ap="slideIn:left"}if(/^overlay:(.+)$/.test(Ap)){Ap="slideIn:"+RegExp.$1}Aq.effects=d.parseEffects(Ap);if(r&&Ap=="tile:left"){Aq.previousDivisor=3}return Aq}function b(Aq){var Ar=[];for(var Ap in Aq){Ar.push(Ap)}return Ar}function R(Aq){for(var Ap in Aq){if(J.indexOf(Ap)!=-1&&Y.indexOf(Ap)==-1){delete Aq[Ap]}}return Aq}function O(Aq,At){var Ar=[],Aw={},Ap,Av,As,Au;for(Av in At){Ap=Av.toLowerCase();Au=P&&J.indexOf(Ap)!=-1;if(!A.hasHW3D&&Au&&Y.indexOf(Ap)==-1){delete At[Av]}else{As=At[Av];if(Au){Ar.push(Av+"("+As+")")}else{Aw[Av]=As}}}if(Ar.length){Aw[Ag]=Ar.join(" ")}return Aw}if(c){Am(z,{transition:function(Aq,Aw,Av){var As,Ar=0,Ax=Aq.data("keys")||[],At;Av=Am({duration:200,ease:"ease-out",complete:null,exclusive:"all"},Av);var Ap=false;var Au=function(){if(!Ap){Ap=true;if(At){clearTimeout(At);At=null}Aq.removeData(N).dequeue().css(E,"").css(E);Av.complete.call(Aq)}};Av.duration=q.fx?q.fx.speeds[Av.duration]||Av.duration:Av.duration;As=O(Aq,Aw);q.merge(Ax,b(As));Aq.data("keys",q.unique(Ax)).height();Aq.css(E,Av.exclusive+" "+Av.duration+"ms "+Av.ease).css(E);Aq.css(As).css(Ag);if(c.event){Aq.one(c.event,Au);if(Av.duration!==0){Ar=500}}At=setTimeout(Au,Av.duration+Ar);Aq.data(N,At);Aq.data(M,Au)},stopQueue:function(Au,Av,As){var At,Ar=Au.data("keys"),Aq=(!As&&Ar),Ap=Au.data(M);if(Aq){At=d.getComputedStyles(Au[0],Ar)}if(Ap){Ap()}if(Aq){Au.css(At)}return Au.removeData("keys").stop(Av)}})}function D(Ar,Aq){if(P){var At=Ar.css(Ag);if(At==H){return Aq=="scale"?1:0}var Ap=At.match(new RegExp(Aq+"\\s*\\(([\\d\\w\\.]+)")),As=0;if(Ap){As=X(Ap[1])}else{Ap=At.match(Aa)||[0,0,0,0,0];Aq=Aq.toLowerCase();if(l.test(Aq)){As=parseFloat(Ap[3]/Ap[2])}else{if(Aq=="translatey"){As=parseFloat(Ap[4]/Ap[2])}else{if(Aq=="scale"){As=parseFloat(Ap[2])}else{if(Aq=="rotate"){As=parseFloat(Math.atan2(Ap[2],Ap[1]))}}}}}return As}else{return parseFloat(Ar.css(Aq))}}var Ac=d.Class.extend({init:function(Ar,Aq){var Ap=this;Ap.element=Ar;Ap.effects=[];Ap.options=Aq;Ap.restore=[]},run:function(AC){var Aw=this,AB,Au,As,Av=AC.length,Ap=Aw.element,Ax=Aw.options,Ay=q.Deferred(),Aq={},AD={},AA,At,Az;Aw.effects=AC;Ay.then(q.proxy(Aw,"complete"));Ap.data("animating",true);for(Au=0;Au<Av;Au++){AB=AC[Au];AB.setReverse(Ax.reverse);AB.setOptions(Ax);Aw.addRestoreProperties(AB.restore);AB.prepare(Aq,AD);At=AB.children();for(As=0,Az=At.length;As<Az;As++){At[As].duration(Ax.duration).run()}}for(var Ar in Ax.effects){Am(AD,Ax.effects[Ar].properties)}if(!Ap.is(":visible")){Am(Aq,{display:Ap.data("olddisplay")||"block"})}if(P&&!Ax.reset){AA=Ap.data("targetTransform");if(AA){Aq=Am(AA,Aq)}}Aq=O(Ap,Aq);if(P&&!c){Aq=R(Aq)}Ap.css(Aq).css(Ag);for(Au=0;Au<Av;Au++){AC[Au].setup()}if(Ax.init){Ax.init()}Ap.data("targetTransform",AD);z.animate(Ap,AD,Am({},Ax,{complete:Ay.resolve}));return Ay.promise()},stop:function(){q(this.element).kendoStop(true,true)},addRestoreProperties:function(At){var Ar=this.element,As,Ap=0,Aq=At.length;for(;Ap<Aq;Ap++){As=At[Ap];this.restore.push(As);if(!Ar.data(As)){Ar.data(As,Ar.css(As))}}},restoreCallback:function(){var As=this.element;for(var Ap=0,Aq=this.restore.length;Ap<Aq;Ap++){var Ar=this.restore[Ap];As.css(Ar,As.data(Ar))}},complete:function(){var Aq=this,At=0,Au=Aq.element,As=Aq.options,Ar=Aq.effects,Ap=Ar.length;Au.removeData("animating").dequeue();if(As.hide){Au.data("olddisplay",Au.css("display")).hide()}this.restoreCallback();if(u&&!P){setTimeout(q.proxy(this,"restoreCallback"),0)}for(;At<Ap;At++){Ar[At].teardown()}if(As.completeCallback){As.completeCallback(Au)}}});z.promise=function(Ap,Ar){var Av=[],Aw,Aq=new Ac(Ap,Ar),At=d.parseEffects(Ar.effects),As;Ar.effects=At;for(var Au in At){Aw=z[x(Au)];if(Aw){As=new Aw(Ap,At[Au].direction);Av.push(As)}}if(Av[0]){Aq.run(Av)}else{if(!Ap.is(":visible")){Ap.css({display:Ap.data("olddisplay")||"block"}).css("display")}if(Ar.init){Ar.init()}Ap.dequeue();Aq.complete()}};z.transitionPromise=function(Ar,Ap,Aq){z.animateTo(Ar,Ap,Aq);return Ar};Am(z,{animate:function(Aq,Ar,As){var Ap=As.transition!==false;delete As.transition;if(c&&"transition" in z&&Ap){z.transition(Aq,Ar,As)}else{if(P){Aq.animate(R(Ar),{queue:false,show:false,hide:false,duration:As.duration,complete:As.complete})}else{Aq.each(function(){var Au=q(this),At={};W(J,function(Ax,Az){var AA,Ay=Ar?Ar[Az]+" ":null;if(Ay){var AE=Ar;if(Az in U&&Ar[Az]!==o){AA=Ay.match(V);if(P){Am(AE,{scale:+AA[0]})}}else{if(Az in k&&Ar[Az]!==o){var AB=Au.css(Ae),Av=(AB=="absolute"||AB=="fixed");if(!Au.data(Ab)){if(Av){Au.data(Ab,{top:B(Au,"top")||0,left:B(Au,"left")||0,bottom:B(Au,"bottom"),right:B(Au,"right")})}else{Au.data(Ab,{top:B(Au,"marginTop")||0,left:B(Au,"marginLeft")||0})}}var Aw=Au.data(Ab);AA=Ay.match(V);if(AA){var AC=Az==Ab+"y"?+null:+AA[1],AD=Az==Ab+"y"?+AA[1]:+AA[2];if(Av){if(!isNaN(Aw.right)){if(!isNaN(AC)){Am(AE,{right:Aw.right-AC})}}else{if(!isNaN(AC)){Am(AE,{left:Aw.left+AC})}}if(!isNaN(Aw.bottom)){if(!isNaN(AD)){Am(AE,{bottom:Aw.bottom-AD})}}else{if(!isNaN(AD)){Am(AE,{top:Aw.top+AD})}}}else{if(!isNaN(AC)){Am(AE,{marginLeft:Aw.left+AC})}if(!isNaN(AD)){Am(AE,{marginTop:Aw.top+AD})}}}}}if(!P&&Az!="scale"&&Az in AE){delete AE[Az]}if(AE){Am(At,AE)}}});if(C.msie){delete At.scale}Au.animate(At,{queue:false,show:false,hide:false,duration:As.duration,complete:As.complete})})}}},animateTo:function(Aq,Ay,Aw){var Ap,Av=Aq.parents().filter(Ay.parents()).first(),As=q().add(Aq.parent()).add(Ay.parent()),Ax=Aq.css(Ae)=="absolute",At,Ar;if(!Ax){Ar=As.css(Ae);As.css(Ae,"absolute")}Aw=G(Aw);if(!A.mobileOS.android){At=Av.css(t);Av.css(t,"hidden")}q.each(Aw.effects,function(AA,Az){Ap=Ap||Az.direction});function Au(Az){Ay[0].style.cssText="";Aq.each(function(){this.style.cssText=""});if(!A.mobileOS.android){Av.css(t,At)}if(!Ax){As.css(Ae,Ar)}if(Aw.completeCallback){Aw.completeCallback.call(Aq,Az)}}Aw.complete=C.msie?function(){setTimeout(Au,0)}:Au;Aw.previous=(Aw.reverse?Ay:Aq);Aw.reset=true;(Aw.reverse?Aq:Ay).each(function(){q(this).kendoAnimate(Am(true,{},Aw));Aw.complete=null;Aw.previous=null})}});var Ak=d.Class.extend({init:function(Aq,Ar){var Ap=this;Ap.element=Aq;Ap._direction=Ar;Ap.options={};Ap._additionalEffects=[];if(!Ap.restore){Ap.restore=[]}},reverse:function(){this._reverse=true;return this.run()},play:function(){this._reverse=false;return this.run()},add:function(Ap){this._additionalEffects.push(Ap);return this},direction:function(Ap){this._direction=Ap;return this},duration:function(Ap){this._duration=Ap;return this},compositeRun:function(){var Ap=this,Aq=new Ac(Ap.element,{reverse:Ap._reverse,duration:Ap._duration}),Ar=Ap._additionalEffects.concat([Ap]);return Aq.run(Ar)},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var Aw=this,Ap=Aw.element,At=0,Az=Aw.restore,Au=Az.length,Av,Ax=q.Deferred(),Aq={},Ar={},Ay,As=Aw.children(),AA=As.length;Ax.then(q.proxy(Aw,"_complete"));Ap.data("animating",true);for(At=0;At<Au;At++){Av=Az[At];if(!Ap.data(Av)){Ap.data(Av,Ap.css(Av))}}for(At=0;At<AA;At++){As[At].duration(Aw._duration).run()}Aw.prepare(Aq,Ar);if(!Ap.is(":visible")){Am(Aq,{display:Ap.data("olddisplay")||"block"})}if(P){Ay=Ap.data("targetTransform");if(Ay){Aq=Am(Ay,Aq)}}Aq=O(Ap,Aq);if(P&&!c){Aq=R(Aq)}Ap.css(Aq).css(Ag);Aw.setup();Ap.data("targetTransform",Ar);z.animate(Ap,Ar,{duration:Aw._duration,complete:Ax.resolve});return Ax.promise()},stop:function(){var Aq=0,Ar=this.children(),Ap=Ar.length;for(Aq=0;Aq<Ap;Aq++){Ar[Aq].stop()}q(this.element).kendoStop(true,true);return this},restoreCallback:function(){var As=this.element;for(var Ap=0,Aq=this.restore.length;Ap<Aq;Ap++){var Ar=this.restore[Ap];As.css(Ar,As.data(Ar))}},_complete:function(){var Ap=this,Aq=Ap.element;Aq.removeData("animating").dequeue();Ap.restoreCallback();if(Ap.shouldHide()){Aq.data("olddisplay",Aq.css("display")).hide()}if(u&&!P){setTimeout(q.proxy(Ap,"restoreCallback"),0)}Ap.teardown()},setOptions:function(Ap){Am(true,this.options,Ap)},children:function(){return[]},shouldHide:q.noop,setup:q.noop,prepare:q.noop,teardown:q.noop,directions:[],setReverse:function(Ap){this._reverse=Ap;return this}});function x(Ap){return Ap.charAt(0).toUpperCase()+Ap.substring(1)}function i(Ar,Ap){var As=Ak.extend(Ap),Aq=As.prototype.directions;z[x(Ar)]=As;z.Element.prototype[Ar]=function(Av,At,Aw,Au){return new As(this.element,Av,At,Aw,Au)};W(Aq,function(Au,At){z.Element.prototype[Ar+x(At)]=function(Ax,Av,Aw){return new As(this.element,At,Ax,Av,Aw)}})}var L=["left","right","up","down"],Ah=["in","out"];i("slideIn",{directions:L,divisor:function(Ap){this.options.divisor=Ap;return this},prepare:function(Ar,As){var Av=this,At,Aq=Av.element,Ap=v[Av._direction],Ax=-Ap.modifier*(Ap.vertical?Aq.outerHeight():Aq.outerWidth()),Aw=Ax/(Av.options&&Av.options.divisor||1)+g,Au="0px";if(Av._reverse){At=Ar;Ar=As;As=At}if(P){Ar[Ap.transition]=Aw;As[Ap.transition]=Au}else{Ar[Ap.property]=Aw;As[Ap.property]=Au}}});i("tile",{directions:L,init:function(Aq,Ar,Ap){Ak.prototype.init.call(this,Aq,Ar);this.options={previous:Ap}},previousDivisor:function(Ap){this.options.previousDivisor=Ap;return this},children:function(){var Ar=this,Aq=Ar._reverse,At=Ar.options.previous,As=Ar.options.previousDivisor||1,Ap=Ar._direction;var Au=[d.fx(Ar.element).slideIn(Ap).setReverse(Aq)];if(At){Au.push(d.fx(At).slideIn(v[Ap].reverse).divisor(As).setReverse(!Aq))}return Au}});function e(Aq,As,Ar,Ap){i(Aq,{directions:Ah,startValue:function(At){this._startValue=At;return this},endValue:function(At){this._endValue=At;return this},shouldHide:function(){return this._shouldHide},prepare:function(Av,Aw){var Ay=this,Az,AA,Au=this._direction==="out",Ax=Ay.element.data(As),At=!(isNaN(Ax)||Ax==Ar);if(At){Az=Ax}else{if(typeof this._startValue!=="undefined"){Az=this._startValue}else{Az=Au?Ar:Ap}}if(typeof this._endValue!=="undefined"){AA=this._endValue}else{AA=Au?Ap:Ar}if(this._reverse){Av[As]=AA;Aw[As]=Az}else{Av[As]=Az;Aw[As]=AA}Ay._shouldHide=Aw[As]===Ap}})}e("fade","opacity",1,0);e("zoom","scale",1,0.01);i("slideMargin",{prepare:function(As,Au){var Av=this,Ar=Av.element,Aw=Av.options,Aq=Ar.data(Z),Ax=Aw.offset,Ap,At=Av._reverse;if(!At&&Aq===null){Ar.data(Z,parseFloat(Ar.css("margin-"+Aw.axis)))}Ap=(Ar.data(Z)||0);Au["margin-"+Aw.axis]=!At?Ap+Ax:Ap}});i("slideTo",{prepare:function(Av,At){var Ar=this,Au=Ar.element,As=Ar.options,Ap=As.offset.split(","),Aq=Ar._reverse;if(P){At.translatex=!Aq?Ap[0]:0;At.translatey=!Aq?Ap[1]:0}else{At.left=!Aq?Ap[0]:0;At.top=!Aq?Ap[1]:0}Au.css("left")}});i("expand",{directions:["horizontal","vertical"],restore:[t],prepare:function(Aq,As){var Aw=this,Ap=Aw.element,Ax=Aw.options,Ar=Aw._reverse,Av=Aw._direction==="vertical"?Ad:h,Ay=Ap[0].style[Av],Az=Ap.data(Av),Au=parseFloat(Az||Ay),At=n(Ap.css(Av,Af)[Av]());Aq.overflow=s;Au=(Ax&&Ax.reset)?At||Au:Au||At;As[Av]=(Ar?0:Au)+g;Aq[Av]=(Ar?Au:0)+g;if(Az===o){Ap.data(Av,Ay)}},shouldHide:function(){return this._reverse},teardown:function(){var Aq=this,As=Aq.element,Ar=Aq._direction==="vertical"?Ad:h,Ap=As.data(Ar);if(Ap==Af||Ap===Aj){setTimeout(function(){As.css(Ar,Af).css(Ar)},0)}}});var K={position:"absolute",marginLeft:0,marginTop:0,scale:1};i("transfer",{init:function(Aq,Ap){this.element=Aq;this.options={target:Ap};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(Az,Ar){var AJ=this,AD=AJ.element,AE=AJ.options,Au=AJ._reverse,AH=AE.target,Ay,Ax=D(AD,"scale"),AI=AH.offset(),AA=AH.outerHeight()/AD.outerHeight();Am(Az,K);Ar.scale=1;AD.css(Ag,"scale(1)").css(Ag);Ay=AD.offset();AD.css(Ag,"scale("+Ax+")");var AF=0,AG=0,AK=AI.left-Ay.left,AL=AI.top-Ay.top,Av=AF+AD.outerWidth(),Aw=AG,AB=AK+AH.outerWidth(),AC=AL,Aq=(AL-AG)/(AK-AF),At=(AC-Aw)/(AB-Av),As=(AG-Aw-Aq*AF+At*Av)/(At-Aq),Ap=AG+Aq*(As-AF);Az.top=Ay.top;Az.left=Ay.left;Az.transformOrigin=As+g+" "+Ap+g;if(Au){Az.scale=AA}else{Ar.scale=AA}}});var j={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"};var m={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function An(Aq,As){var Ar=d.directions[As].vertical,Ap=(Aq[Ar?Ad:h]()/2)+"px";return j[As].replace("$size",Ap)}i("turningPage",{directions:L,init:function(Aq,Ar,Ap){Ak.prototype.init.call(this,Aq,Ar);this._container=Ap},prepare:function(Au,At){var Ar=this,Aq=Ar._reverse,As=Aq?v[Ar._direction].reverse:Ar._direction,Ap=m[As];Au.zIndex=1;if(Ar._clipInHalf){Au.clip=An(Ar._container,d.directions[As].reverse)}Au[p]=s;At[Ag]=F+(Aq?Ap.start:Ap.end);Au[Ag]=F+(Aq?Ap.end:Ap.start)},setup:function(){this._container.append(this.element)},face:function(Ap){this._face=Ap;return this},shouldHide:function(){var Ar=this,Aq=Ar._reverse,Ap=Ar._face;return(Aq&&!Ap)||(!Aq&&Ap)},clipInHalf:function(Ap){this._clipInHalf=Ap;return this},temporary:function(){this.element.addClass("temp-page");return this}});i("staticPage",{directions:L,init:function(Aq,Ar,Ap){Ak.prototype.init.call(this,Aq,Ar);this._container=Ap},restore:["clip"],prepare:function(As,Ar){var Aq=this,Ap=Aq._reverse?v[Aq._direction].reverse:Aq._direction;As.clip=An(Aq._container,Ap);As.opacity=0.999;Ar.opacity=1},shouldHide:function(){var Ar=this,Aq=Ar._reverse,Ap=Ar._face;return(Aq&&!Ap)||(!Aq&&Ap)},face:function(Ap){this._face=Ap;return this}});i("pageturn",{directions:["horizontal","vertical"],init:function(Ar,As,Aq,Ap){Ak.prototype.init.call(this,Ar,As);this.options={};this.options.face=Aq;this.options.back=Ap},children:function(){var Av=this,Aw=Av.options,Ap=Av._direction==="horizontal"?"left":"top",Ax=d.directions[Ap].reverse,As=Av._reverse,Au,Ar=Aw.face.clone(true).removeAttr("id"),At=Aw.back.clone(true).removeAttr("id"),Aq=Av.element;if(As){Au=Ap;Ap=Ax;Ax=Au}return[d.fx(Aw.face).staticPage(Ap,Aq).face(true).setReverse(As),d.fx(Aw.back).staticPage(Ax,Aq).setReverse(As),d.fx(Ar).turningPage(Ap,Aq).face(true).clipInHalf(true).temporary().setReverse(As),d.fx(At).turningPage(Ax,Aq).clipInHalf(true).temporary().setReverse(As)]},prepare:function(Aq,Ap){Aq[S]=y;Aq.transformStyle="preserve-3d";Aq.opacity=0.999;Ap.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}});i("flip",{directions:["horizontal","vertical"],init:function(Ar,As,Aq,Ap){Ak.prototype.init.call(this,Ar,As);this.options={};this.options.face=Aq;this.options.back=Ap},children:function(){var Ar=this,As=Ar.options,Av=Ar._direction==="horizontal"?"left":"top",Ap=d.directions[Av].reverse,Aq=Ar._reverse,At,Au=Ar.element;if(Aq){At=Av;Av=Ap;Ap=At}return[d.fx(As.face).turningPage(Av,Au).face(true).setReverse(Aq),d.fx(As.back).turningPage(Ap,Au).setReverse(Aq)]},prepare:function(Ap){Ap[S]=y;Ap.transformStyle="preserve-3d"}});var I=d.Class.extend({init:function(){var Ap=this;Ap._tickProxy=Ao(Ap._tick,Ap);Ap._started=false},tick:q.noop,done:q.noop,onEnd:q.noop,onCancel:q.noop,start:function(){if(!this.done()){this._started=true;d.animationFrame(this._tickProxy)}},cancel:function(){this._started=false;this.onCancel()},_tick:function(){var Ap=this;if(!Ap._started){return}Ap.tick();if(!Ap.done()){d.queueAnimation(Ap._tickProxy)}else{Ap._started=false;Ap.onEnd()}}});var a=I.extend({init:function(Aq){var Ap=this;Am(Ap,Aq);I.fn.init.call(Ap)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,(new Date())-this.startDate)},moveTo:function(Aq){var Ap=this,Ar=Ap.movable;Ap.initial=Ar[Ap.axis];Ap.delta=Aq.location-Ap.initial;Ap.duration=typeof Aq.duration=="number"?Aq.duration:300;Ap.tick=Ap._easeProxy(Aq.ease);Ap.startDate=new Date();Ap.start()},_easeProxy:function(Ap){var Aq=this;return function(){Aq.movable.moveAxis(Aq.axis,Ap(Aq.timePassed(),Aq.initial,Aq.delta,Aq.duration))}}});Am(a,{easeOutExpo:function(Ar,Aq,As,Ap){return(Ar==Ap)?Aq+As:As*(-Math.pow(2,-10*Ar/Ap)+1)+Aq},easeOutBack:function(As,Ar,At,Ap,Aq){Aq=1.70158;return At*((As=As/Ap-1)*As*((Aq+1)*As+Aq)+1)+Ar}});z.Animation=I;z.Transition=a;z.createEffect=i})(window.kendo.jQuery);kendo_module({id:"data.odata",name:"OData",category:"framework",depends:["core"],hidden:true});(function(H,A){var B=window.kendo,E=H.extend,C={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},G={pageSize:H.noop,page:H.noop,filter:function(J,I){if(I){J.$filter=F(I)}},sort:function(J,K){var I=H.map(K,function(M){var L=M.field.replace(/\./g,"/");if(M.dir==="desc"){L+=" desc"}return L}).join(",");if(I){J.$orderby=I}},skip:function(J,I){if(I){J.$skip=I}},take:function(J,I){if(I){J.$top=I}}},D={read:{dataType:"jsonp"}};function F(M){var I=[],Q=M.logic||"and",N,O,R,S,L,J,P,K,T=M.filters;for(N=0,O=T.length;N<O;N++){M=T[N];R=M.field;P=M.value;J=M.operator;if(M.filters){M=F(M)}else{K=M.ignoreCase;R=R.replace(/\./g,"/");M=C[J];if(M&&P!==A){S=H.type(P);if(S==="string"){L="'{1}'";P=P.replace(/'/g,"''");if(K===true){R="tolower("+R+")"}}else{if(S==="date"){L="datetime'{1:yyyy-MM-ddTHH:mm:ss}'"}else{L="{1}"}}if(M.length>3){if(M!=="substringof"){L="{0}({2},"+L+")"}else{L="{0}("+L+",{2})";if(J==="doesnotcontain"){L+=" eq false"}}}else{L="{2} {0} "+L}M=B.format(L,M,P,R)}}I.push(M)}M=I.join(" "+Q+" ");if(I.length>1){M="("+M+")"}return M}E(true,B.data,{schemas:{odata:{type:"json",data:function(I){return I.d.results||[I.d]},total:"d.__count"}},transports:{odata:{read:{cache:true,dataType:"jsonp",jsonp:"$callback"},update:{cache:true,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:true,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:true,dataType:"json",type:"DELETE"},parameterMap:function(K,I){var N,L,J,M;K=K||{};I=I||"read";M=(this.options||D)[I];M=M?M.dataType:"json";if(I==="read"){N={$inlinecount:"allpages"};if(M!="json"){N.$format="json"}for(J in K){if(G[J]){G[J](N,K[J])}else{N[J]=K[J]}}}else{if(M!=="json"){throw new Error("Only json dataType can be used for "+I+" operation.")}if(I!=="destroy"){for(J in K){L=K[J];if(typeof L==="number"){K[J]=L+""}}N=B.stringify(K)}}return N}}}})})(window.kendo.jQuery);kendo_module({id:"data.xml",name:"XML",category:"framework",depends:["core"],hidden:true});(function(G,A){var H=window.kendo,B=G.isArray,J=G.isPlainObject,I=G.map,K=G.each,E=G.extend,D=H.getter,C=H.Class;var F=C.extend({init:function(O){var N=this,P=O.total,V=O.model,S=O.parse,U=O.errors,M=O.serialize,L=O.data;if(V){if(J(V)){if(V.fields){K(V.fields,function(X,W){if(J(W)&&W.field){W=E(W,{field:N.getter(W.field)})}else{W={field:N.getter(W)}}V.fields[X]=W})}var Q=V.id;if(Q){var T={};T[N.xpathToMember(Q,true)]={field:N.getter(Q)};V.fields=E(T,V.fields);V.id=N.xpathToMember(Q)}V=H.data.Model.define(V)}N.model=V}if(P){if(typeof P=="string"){P=N.getter(P);N.total=function(W){return parseInt(P(W),10)}}else{if(typeof P=="function"){N.total=P}}}if(U){if(typeof U=="string"){U=N.getter(U);N.errors=function(W){return U(W)||null}}else{if(typeof U=="function"){N.errors=U}}}if(L){if(typeof L=="string"){L=N.xpathToMember(L);N.data=function(Y){var W=N.evaluate(Y,L),X;W=B(W)?W:[W];if(N.model&&V.fields){X=new N.model();return I(W,function(a){if(a){var Z={},b;for(b in V.fields){Z[b]=X._parse(b,V.fields[b].field(a))}return Z}})}return W}}else{if(typeof L=="function"){N.data=L}}}if(typeof S=="function"){var R=N.parse;N.parse=function(X){var W=S.call(N,X);return R.call(N,W)}}if(typeof M=="function"){N.serialize=M}},total:function(L){return this.data(L).length},errors:function(L){return L?L.errors:null},serialize:function(L){return L},parseDOM:function(M){var R={},V,U,S,O,P,N,T=M.attributes,L=T.length,Q;for(Q=0;Q<L;Q++){N=T[Q];R["@"+N.nodeName]=N.nodeValue}for(U=M.firstChild;U;U=U.nextSibling){S=U.nodeType;if(S===3||S===4){R["#text"]=U.nodeValue}else{if(S===1){V=this.parseDOM(U);O=U.nodeName;P=R[O];if(B(P)){P.push(V)}else{if(P!==A){P=[P,V]}else{P=V}}R[O]=P}}}return R},evaluate:function(S,M){var L=M.split("."),P,O,R,N,Q;while(P=L.shift()){S=S[P];if(B(S)){O=[];M=L.join(".");for(Q=0,R=S.length;Q<R;Q++){N=this.evaluate(S[Q],M);N=B(N)?N:[N];O.push.apply(O,N)}return O}}return S},parse:function(O){var N,L,M={};N=O.documentElement||G.parseXML(O).documentElement;L=this.parseDOM(N);M[N.nodeName]=L;return M},xpathToMember:function(M,L){if(!M){return""}M=M.replace(/^\//,"").replace(/\//g,".");if(M.indexOf("@")>=0){return M.replace(/\.?(@.*)/,L?"$1":'["$1"]')}if(M.indexOf("text()")>=0){return M.replace(/(\.?text\(\))/,L?"#text":'["#text"]')}return M},getter:function(L){return D(this.xpathToMember(L),true)}});G.extend(true,H.data,{XmlDataReader:F,readers:{xml:F}})})(window.kendo.jQuery);kendo_module({id:"data",name:"Data source",category:"framework",description:"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",depends:["core"],features:[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}]});(function(Ao,Am){var W=Ao.extend,N=Ao.proxy,At=Ao.isPlainObject,Ar=Ao.isEmptyObject,h=Ao.isArray,j=Ao.grep,AG=Ao.ajax,AL,t=Ao.each,AT=Ao.noop,Au=window.kendo,p=Au.isFunction,AQ=Au.Observable,x=Au.Class,AM="string",v="function",Ay="create",c="read",Ae="update",A="destroy",E="change",k="sync",U="get",y="error",M="requestStart",Ap="progress",P="requestEnd",Q=[Ay,c,Ae,A],d=function(AW){return AW},g=Au.getter,H=Au.stringify,Ag=Math,R=[].push,Aa=[].join,Ai=[].pop,AI=[].splice,a=[].shift,Al=[].slice,AS=[].unshift,s={}.toString,AN=Au.support.stableSort,AB=/^\/Date\((.*?)\)\/$/,q=/(\r+|\n+)/g,F=/(?=['\\])/g;var Az=AQ.extend({init:function(AX,AW){var AY=this;AY.type=AW||T;AQ.fn.init.call(AY);AY.length=AX.length;AY.wrapAll(AX,AY)},toJSON:function(){var AZ,AX=this.length,AW,AY=new Array(AX);for(AZ=0;AZ<AX;AZ++){AW=this[AZ];if(AW instanceof T){AW=AW.toJSON()}AY[AZ]=AW}return AY},parent:AT,wrapAll:function(AX,AZ){var A0=this,AY,AW,A1=function(){return A0};AZ=AZ||[];for(AY=0,AW=AX.length;AY<AW;AY++){AZ[AY]=A0.wrap(AX[AY],A1)}return AZ},wrap:function(AY,AZ){var AX=this,AW;if(AY!==null&&s.call(AY)==="[object Object]"){AW=AY instanceof AX.type||AY instanceof r;if(!AW){AY=AY instanceof T?AY.toJSON():AY;AY=new AX.type(AY)}AY.parent=AZ;AY.bind(E,function(A0){AX.trigger(E,{field:A0.field,node:A0.node,index:A0.index,items:A0.items||[this],action:A0.node?(A0.action||"itemchange"):"itemchange"})})}return AY},push:function(){var AY=this.length,AX=this.wrapAll(arguments),AW;AW=R.apply(this,AX);this.trigger(E,{action:"add",index:AY,items:AX});return AW},slice:Al,join:Aa,pop:function(){var AW=this.length,AX=Ai.apply(this);if(AW){this.trigger(E,{action:"remove",index:AW-1,items:[AX]})}return AX},splice:function(A1,A2,AZ){var AY=this.wrapAll(Al.call(arguments,2)),AW,AX,A0;AW=AI.apply(this,[A1,A2].concat(AY));if(AW.length){this.trigger(E,{action:"remove",index:A1,items:AW});for(AX=0,A0=AW.length;AX<A0;AX++){if(AW[AX].children){AW[AX].unbind(E)}}}if(AZ){this.trigger(E,{action:"add",index:A1,items:AY})}return AW},shift:function(){var AW=this.length,AX=a.apply(this);if(AW){this.trigger(E,{action:"remove",index:0,items:[AX]})}return AX},unshift:function(){var AX=this.wrapAll(arguments),AW;AW=AS.apply(this,AX);this.trigger(E,{action:"add",index:0,items:AX});return AW},indexOf:function(AY){var AX=this,AZ,AW;for(AZ=0,AW=AX.length;AZ<AW;AZ++){if(AX[AZ]===AY){return AZ}}return -1},forEach:function(AW){var AY=0,AX=this.length;for(;AY<AX;AY++){AW(this[AY],AY,this)}},map:function(AW){var AZ=0,AY=[],AX=this.length;for(;AZ<AX;AZ++){AY[AZ]=AW(this[AZ],AZ,this)}return AY},filter:function(AW){var A0=0,AY=[],AZ,AX=this.length;for(;A0<AX;A0++){AZ=this[A0];if(AW(AZ,A0,this)){AY[AY.length]=AZ}}return AY},find:function(AW){var AZ=0,AY,AX=this.length;for(;AZ<AX;AZ++){AY=this[AZ];if(AW(AY,AZ,this)){return AY}}},every:function(AW){var AZ=0,AY,AX=this.length;for(;AZ<AX;AZ++){AY=this[AZ];if(!AW(AY,AZ,this)){return false}}return true},some:function(AW){var AZ=0,AY,AX=this.length;for(;AZ<AX;AZ++){AY=this[AZ];if(AW(AY,AZ,this)){return true}}return false},remove:function(AW){this.splice(this.indexOf(AW),1)},empty:function(){this.splice(0,this.length)}});function I(AX,AW,AZ,AY){return function(A1){var A2={},A0;for(A0 in A1){A2[A0]=A1[A0]}if(AY){A2.field=AZ+"."+A1.field}else{A2.field=AZ}if(AW==E&&AX._notifyChange){AX._notifyChange(A2)}AX.trigger(AW,A2)}}var T=AQ.extend({init:function(AY){var AX=this,A0,AZ,AW=function(){return AX};AQ.fn.init.call(this);for(AZ in AY){A0=AY[AZ];if(AZ.charAt(0)!="_"){A0=AX.wrap(A0,AZ,AW)}AX[AZ]=A0}AX.uid=Au.guid()},shouldSerialize:function(AW){return this.hasOwnProperty(AW)&&AW!=="_events"&&typeof this[AW]!==v&&AW!=="uid"},forEach:function(AX){for(var AW in this){if(this.shouldSerialize(AW)){AX(this[AW],AW)}}},toJSON:function(){var AW={},AX,AY;for(AY in this){if(this.shouldSerialize(AY)){AX=this[AY];if(AX instanceof T||AX instanceof Az){AX=AX.toJSON()}AW[AY]=AX}}return AW},get:function(AY){var AX=this,AW;AX.trigger(U,{field:AY});if(AY==="this"){AW=AX}else{AW=Au.getter(AY,true)(AX)}return AW},_set:function(A1,AW){var AY=this;var AX=A1.indexOf(".")>=0;if(AX){var A2=A1.split("."),A0="";while(A2.length>1){A0+=A2.shift();var AZ=Au.getter(A0,true)(AY);if(AZ instanceof T){AZ.set(A2.join("."),AW);return AX}A0+="."}}Au.setter(A1)(AY,AW);return AX},set:function(AZ,AW){var AX=this,AY=Au.getter(AZ,true)(AX);if(AY!==AW){if(!AX.trigger("set",{field:AZ,value:AW})){if(!AX._set(AZ,AX.wrap(AW,AZ,function(){return AX}))||AZ.indexOf("(")>=0||AZ.indexOf("[")>=0){AX.trigger(E,{field:AZ})}}}},parent:AT,wrap:function(AY,A0,A1){var AX=this,AW=s.call(AY);if(AY!=null&&(AW==="[object Object]"||AW==="[object Array]")){var A2=AY instanceof Az;var AZ=AY instanceof AJ;if(AW==="[object Object]"&&!AZ&&!A2){if(!(AY instanceof T)){AY=new T(AY)}if(AY.parent()!=A1()){AY.bind(U,I(AX,U,A0,true));AY.bind(E,I(AX,E,A0,true))}}else{if(AW==="[object Array]"||A2||AZ){if(!A2&&!AZ){AY=new Az(AY)}if(AY.parent()!=A1()){AY.bind(E,I(AX,E,A0,false))}}}AY.parent=A1}return AY}});function Av(AX,AY){if(AX===AY){return true}var AW=Ao.type(AX),A0=Ao.type(AY),AZ;if(AW!==A0){return false}if(AW==="date"){return AX.getTime()===AY.getTime()}if(AW!=="object"&&AW!=="array"){return false}for(AZ in AX){if(!Av(AX[AZ],AY[AZ])){return false}}return true}var w={"number":function(AW){return Au.parseFloat(AW)},"date":function(AW){return Au.parseDate(AW)},"boolean":function(AW){if(typeof AW===AM){return AW.toLowerCase()==="true"}return AW!=null?!!AW:AW},"string":function(AW){return AW!=null?(AW+""):AW},"default":function(AW){return AW}};var D={"string":"","number":0,"date":new Date(),"boolean":false,"default":""};function Aj(AW,AX){var AY,AZ;for(AZ in AW){AY=AW[AZ];if(At(AY)&&AY.field&&AY.field===AX){return AY}else{if(AY===AX){return AY}}}return null}var r=T.extend({init:function(AX){var AW=this;if(!AX||Ao.isEmptyObject(AX)){AX=Ao.extend({},AW.defaults,AX)}T.fn.init.call(AW,AX);AW.dirty=false;if(AW.idField){AW.id=AW.get(AW.idField);if(AW.id===Am){AW.id=AW._defaultId}}},shouldSerialize:function(AW){return T.fn.shouldSerialize.call(this,AW)&&AW!=="uid"&&!(this.idField!=="id"&&AW==="id")&&AW!=="dirty"&&AW!=="_accessors"},_parse:function(AZ,AW){var AY=this,AX=AZ,A1=(AY.fields||{}),A0;AZ=A1[AZ];if(!AZ){AZ=Aj(A1,AX)}if(AZ){A0=AZ.parse;if(!A0&&AZ.type){A0=w[AZ.type.toLowerCase()]}}return A0?A0(AW):AW},_notifyChange:function(AX){var AW=AX.action;if(AW=="add"||AW=="remove"){this.dirty=true}},editable:function(AW){AW=(this.fields||{})[AW];return AW?AW.editable!==false:true},set:function(AY,AW,AZ){var AX=this;if(AX.editable(AY)){AW=AX._parse(AY,AW);if(!Av(AW,AX.get(AY))){AX.dirty=true;T.fn.set.call(AX,AY,AW,AZ)}}},accept:function(A0){var AX=this,AZ=function(){return AX},AY;for(AY in A0){var AW=A0[AY];if(AY.charAt(0)!="_"){AW=AX.wrap(A0[AY],AY,AZ)}AX._set(AY,AW)}if(AX.idField){AX.id=AX.get(AX.idField)}AX.dirty=false},isNew:function(){return this.id===this._defaultId}});r.define=function(AW,A1){if(A1===Am){A1=AW;AW=r}var A8,A3=W({defaults:{}},A1),AX,A2,A5,AY,AZ,A0,A7={},A6,A4=A3.id;if(A4){A3.idField=A4}if(A3.id){delete A3.id}if(A4){A3.defaults[A4]=A3._defaultId=""}if(s.call(A3.fields)==="[object Array]"){for(AZ=0,A0=A3.fields.length;AZ<A0;AZ++){A2=A3.fields[AZ];if(typeof A2===AM){A7[A2]={}}else{if(A2.field){A7[A2.field]=A2}}}A3.fields=A7}for(AX in A3.fields){A2=A3.fields[AX];A5=A2.type||"default";AY=null;A6=AX;AX=typeof(A2.field)===AM?A2.field:AX;if(!A2.nullable){AY=A3.defaults[A6!==AX?A6:AX]=A2.defaultValue!==Am?A2.defaultValue:D[A5.toLowerCase()]}if(A1.id===AX){A3._defaultId=AY}A3.defaults[A6!==AX?A6:AX]=AY;A2.parse=A2.parse||w[A5]}A8=AW.extend(A3);A8.define=function(A9){return r.define(A8,A9)};if(A3.fields){A8.fields=A3.fields;A8.idField=A3.idField}return A8};var Aw={selector:function(AW){return p(AW)?AW:g(AW)},compare:function(AX){var AW=this.selector(AX);return function(AZ,AY){AZ=AW(AZ);AY=AW(AY);if(AZ==null&&AY==null){return 0}if(AZ==null){return -1}if(AY==null){return 1}if(AZ.localeCompare){return AZ.localeCompare(AY)}return AZ>AY?1:(AZ<AY?-1:0)}},create:function(AW){var AX=AW.compare||this.compare(AW.field);if(AW.dir=="desc"){return function(AZ,AY){return AX(AY,AZ,true)}}return AX},combine:function(AW){return function(A1,AZ){var AY=AW[0](A1,AZ),A0,AX;for(A0=1,AX=AW.length;A0<AX;A0++){AY=AY||AW[A0](A1,AZ)}return AY}}};var B=W({},Aw,{asc:function(AX){var AW=this.selector(AX);return function(A0,AZ){var A1=AW(A0);var AY=AW(AZ);if(A1&&A1.getTime&&AY&&AY.getTime){A1=A1.getTime();AY=AY.getTime()}if(A1===AY){return A0.__position-AZ.__position}if(A1==null){return -1}if(AY==null){return 1}if(A1.localeCompare){return A1.localeCompare(AY)}return A1>AY?1:-1}},desc:function(AX){var AW=this.selector(AX);return function(A0,AZ){var A1=AW(A0);var AY=AW(AZ);if(A1&&A1.getTime&&AY&&AY.getTime){A1=A1.getTime();AY=AY.getTime()}if(A1===AY){return A0.__position-AZ.__position}if(A1==null){return 1}if(AY==null){return -1}if(AY.localeCompare){return AY.localeCompare(A1)}return A1<AY?1:-1}},create:function(AW){return this[AW.dir](AW.field)}});AL=function(AX,AW){var A0,AY=AX.length,AZ=new Array(AY);for(A0=0;A0<AY;A0++){AZ[A0]=AW(AX[A0],A0,AX)}return AZ};var Ad=(function(){function AW(AY){return AY.replace(F,"\\").replace(q,"")}function AX(AZ,A2,A0,A1){var AY;if(A0!=null){if(typeof A0===AM){A0=AW(A0);AY=AB.exec(A0);if(AY){A0=new Date(+AY[1])}else{if(A1){A0="'"+A0.toLowerCase()+"'";A2="("+A2+" || '').toLowerCase()"}else{A0="'"+A0+"'"}}}if(A0.getTime){A2="("+A2+"?"+A2+".getTime():"+A2+")";A0=A0.getTime()}}return A2+" "+AZ+" "+A0}return{eq:function(A0,AZ,AY){return AX("==",A0,AZ,AY)},neq:function(A0,AZ,AY){return AX("!=",A0,AZ,AY)},gt:function(A0,AZ,AY){return AX(">",A0,AZ,AY)},gte:function(A0,AZ,AY){return AX(">=",A0,AZ,AY)},lt:function(A0,AZ,AY){return AX("<",A0,AZ,AY)},lte:function(A0,AZ,AY){return AX("<=",A0,AZ,AY)},startswith:function(A0,AZ,AY){if(AY){A0="("+A0+" || '').toLowerCase()";if(AZ){AZ=AZ.toLowerCase()}}if(AZ){AZ=AW(AZ)}return A0+".lastIndexOf('"+AZ+"', 0) == 0"},endswith:function(A0,AZ,AY){if(AY){A0="("+A0+" || '').toLowerCase()";if(AZ){AZ=AZ.toLowerCase()}}if(AZ){AZ=AW(AZ)}return A0+".indexOf('"+AZ+"', "+A0+".length - "+(AZ||"").length+") >= 0"},contains:function(A0,AZ,AY){if(AY){A0="("+A0+" || '').toLowerCase()";if(AZ){AZ=AZ.toLowerCase()}}if(AZ){AZ=AW(AZ)}return A0+".indexOf('"+AZ+"') >= 0"},doesnotcontain:function(A0,AZ,AY){if(AY){A0="("+A0+" || '').toLowerCase()";if(AZ){AZ=AZ.toLowerCase()}}if(AZ){AZ=AW(AZ)}return A0+".indexOf('"+AZ+"') == -1"}}})();function i(AW){this.data=AW||[]}i.filterExpr=function(AW){var A3=[],A1={and:" && ",or:" || "},AZ,A0,AY,A4,A5=[],A6=[],A2,AX,A7=AW.filters;for(AZ=0,A0=A7.length;AZ<A0;AZ++){AY=A7[AZ];A2=AY.field;AX=AY.operator;if(AY.filters){A4=i.filterExpr(AY);AY=A4.expression.replace(/__o\[(\d+)\]/g,function(A8,A9){A9=+A9;return"__o["+(A6.length+A9)+"]"}).replace(/__f\[(\d+)\]/g,function(A8,A9){A9=+A9;return"__f["+(A5.length+A9)+"]"});A6.push.apply(A6,A4.operators);A5.push.apply(A5,A4.fields)}else{if(typeof A2===v){A4="__f["+A5.length+"](d)";A5.push(A2)}else{A4=Au.expr(A2)}if(typeof AX===v){AY="__o["+A6.length+"]("+A4+", "+AY.value+")";A6.push(AX)}else{AY=Ad[(AX||"eq").toLowerCase()](A4,AY.value,AY.ignoreCase!==Am?AY.ignoreCase:true)}}A3.push(AY)}return{expression:"("+A3.join(A1[AW.logic])+")",fields:A5,operators:A6}};function f(AY,AW){if(AY){var AX=typeof AY===AM?{field:AY,dir:AW}:AY,AZ=h(AX)?AX:(AX!==Am?[AX]:[]);return j(AZ,function(A0){return !!A0.dir})}}var u={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};function AK(A1){var A0,AW,AZ,AX,AY=A1.filters;if(AY){for(A0=0,AW=AY.length;A0<AW;A0++){AZ=AY[A0];AX=AZ.operator;if(AX&&typeof AX===AM){AZ.operator=u[AX.toLowerCase()]||AX}AK(AZ)}}}function AA(AW){if(AW&&!Ar(AW)){if(h(AW)||!AW.filters){AW={logic:"and",filters:h(AW)?AW:[AW]}}AK(AW);return AW}}i.normalizeFilter=AA;function Ak(AW){return h(AW)?AW:[AW]}function An(AY,AW){var AX=typeof AY===AM?{field:AY,dir:AW}:AY,AZ=h(AX)?AX:(AX!==Am?[AX]:[]);return AL(AZ,function(A0){return{field:A0.field,dir:A0.dir||"asc",aggregates:A0.aggregates}})}i.prototype={toArray:function(){return this.data},range:function(AX,AW){return new i(this.data.slice(AX,AX+AW))},skip:function(AW){return new i(this.data.slice(AW))},take:function(AW){return new i(this.data.slice(0,AW))},select:function(AW){return new i(AL(this.data,AW))},order:function(AY,AW){var AX={dir:AW};if(AY){if(AY.compare){AX.compare=AY.compare}else{AX.field=AY}}return new i(this.data.slice(0).sort(Aw.create(AX)))},orderBy:function(AW){return this.order(AW,"asc")},orderByDescending:function(AW){return this.order(AW,"desc")},sort:function(A0,AW,AZ){var A2,AX,AY=f(A0,AW),A1=[];AZ=AZ||Aw;if(AY.length){for(A2=0,AX=AY.length;A2<AX;A2++){A1.push(AZ.create(AY[A2]))}return this.orderBy({compare:AZ.combine(A1)})}return this},filter:function(A4){var A0,A5,A1,A2,A3,AY=this.data,A6,AX,AW=[],AZ;A4=AA(A4);if(!A4||A4.filters.length===0){return this}A2=i.filterExpr(A4);A6=A2.fields;AX=A2.operators;A3=AZ=new Function("d, __f, __o","return "+A2.expression);if(A6.length||AX.length){AZ=function(A7){return A3(A7,A6,AX)}}for(A0=0,A1=AY.length;A0<A1;A0++){A5=AY[A0];if(AZ(A5)){AW.push(A5)}}return new i(AW)},group:function(AZ,A0){AZ=An(AZ||[]);A0=A0||this.data;var AX=this,AW=new i(AX.data),AY;if(AZ.length>0){AY=AZ[0];AW=AW.groupBy(AY).select(function(A1){var A2=new i(A0).filter([{field:A1.field,operator:"eq",value:A1.value,ignoreCase:false}]);return{field:A1.field,value:A1.value,items:AZ.length>1?new i(A1.items).group(AZ.slice(1),A2.toArray()).toArray():A1.items,hasSubgroups:AZ.length>1,aggregates:A2.aggregate(AY.aggregates)}})}return AW},groupBy:function(AX){if(Ar(AX)||!this.data.length){return new i([])}var A2=AX.field,A5=this._sortForGrouping(A2,AX.dir||"asc"),A0=Au.accessor(A2),A6,A1=A0.get(A5[0],A2),A3={field:A2,value:A1,items:[]},AZ,AY,A4,AW=[A3];for(AY=0,A4=A5.length;AY<A4;AY++){A6=A5[AY];AZ=A0.get(A6,A2);if(!AF(A1,AZ)){A1=AZ;A3={field:A2,value:A1,items:[]};AW.push(A3)}A3.items.push(A6)}return new i(AW)},_sortForGrouping:function(AZ,AW){var AY,AX,A0=this.data;if(!AN){for(AY=0,AX=A0.length;AY<AX;AY++){A0[AY].__position=AY}A0=new i(A0).sort(AZ,AW,B).toArray();for(AY=0,AX=A0.length;AY<AX;AY++){delete A0[AY].__position}return A0}return this.sort(AZ,AW).toArray()},aggregate:function(AW){var AZ,AY,AX={};if(AW&&AW.length){for(AZ=0,AY=this.data.length;AZ<AY;AZ++){G(AX,AW,this.data[AZ],AZ,AY)}}return AX}};function AF(AX,AW){if(AX&&AX.getTime&&AW&&AW.getTime){return AX.getTime()===AW.getTime()}return AX===AW}function G(A1,A4,A5,AX,A0){A4=A4||[];var AY,AZ,AW,A3=A4.length;for(AY=0;AY<A3;AY++){AZ=A4[AY];AW=AZ.aggregate;var A2=AZ.field;A1[A2]=A1[A2]||{};A1[A2][AW]=AR[AW.toLowerCase()](A1[A2][AW],A5,Au.accessor(A2),AX,A0)}}var AR={sum:function(AY,AW,AX){return(AY||0)+AX.get(AW)},count:function(AW){return(AW||0)+1},average:function(A0,AX,AY,AZ,AW){A0=(A0||0)+AY.get(AX);if(AZ==AW-1){A0=A0/AW}return A0},max:function(AZ,AW,AX){var AY=AX.get(AW);AZ=AZ||0;if(AZ<AY){AZ=AY}return AZ},min:function(AZ,AW,AX){var AY=AX.get(AW);if(!O(AZ)){AZ=AY}if(AZ>AY&&O(AY)){AZ=AY}return AZ}};function O(AW){return typeof AW==="number"&&!isNaN(AW)}function V(AW){var AZ,AX=AW.length,AY=new Array(AX);for(AZ=0;AZ<AX;AZ++){AY[AZ]=AW[AZ].toJSON()}return AY}i.process=function(AW,A2){A2=A2||{};var AZ=new i(AW),A1=A2.group,A4=An(A1||[]).concat(f(A2.sort||[])),A3,AY=A2.filter,AX=A2.skip,A0=A2.take;if(AY){AZ=AZ.filter(AY);A3=AZ.toArray().length}if(A4){AZ=AZ.sort(A4);if(A1){AW=AZ.toArray()}}if(AX!==Am&&A0!==Am){AZ=AZ.range(AX,A0)}if(A1){AZ=AZ.group(A1,AW)}return{total:A3,data:AZ.toArray()}};function z(A0,AX){AX=AX||{};var AY=new i(A0),AW=AX.aggregate,AZ=AX.filter;if(AZ){AY=AY.filter(AZ)}return AY.aggregate(AW)}var l=x.extend({init:function(AW){this.data=AW.data},read:function(AW){AW.success(this.data)},update:function(AW){AW.success(AW.data)},create:function(AW){AW.success(AW.data)},destroy:function(AW){AW.success(AW.data)}});var Af=x.extend({init:function(AY){var AX=this,AW;AY=AX.options=W({},AX.options,AY);t(Q,function(A0,AZ){if(typeof AY[AZ]===AM){AY[AZ]={url:AY[AZ]}}});AX.cache=AY.cache?AO.create(AY.cache):{find:AT,add:AT};AW=AY.parameterMap;AX.parameterMap=p(AW)?AW:function(A0){var AZ={};t(A0,function(A1,A2){if(A1 in AW){A1=AW[A1];if(At(A1)){A2=A1.value(A2);A1=A1.key}}AZ[A1]=A2});return AZ}},options:{parameterMap:d},create:function(AW){return AG(this.setup(AW,Ay))},read:function(AZ){var AY=this,AW,A1,A0,AX=AY.cache;AZ=AY.setup(AZ,c);AW=AZ.success||AT;A1=AZ.error||AT;A0=AX.find(AZ.data);if(A0!==Am){AW(A0)}else{AZ.success=function(A2){AX.add(AZ.data,A2);AW(A2)};Ao.ajax(AZ)}},update:function(AW){return AG(this.setup(AW,Ae))},destroy:function(AW){return AG(this.setup(AW,A))},setup:function(AY,AW){AY=AY||{};var AX=this,A0,AZ=AX.options[AW],A1=p(AZ.data)?AZ.data(AY.data):AZ.data;AY=W(true,{},AZ,AY);A0=W(true,{},A1,AY.data);AY.data=AX.parameterMap(A0,AW);if(p(AY.url)){AY.url=AY.url(A0)}return AY}});var AO=x.extend({init:function(){this._store={}},add:function(AW,AX){if(AW!==Am){this._store[H(AW)]=AX}},find:function(AW){return this._store[H(AW)]},clear:function(){this._store={}},remove:function(AW){delete this._store[H(AW)]}});AO.create=function(AX){var AW={"inmemory":function(){return new AO()}};if(At(AX)&&p(AX.find)){return AX}if(AX===true){return new AO()}return AW[AX]()};function n(AX,A5,AW,A2,A4){var A3,AZ,A1,AY,A0;for(AY=0,A0=AX.length;AY<A0;AY++){A3=AX[AY];for(AZ in A5){A1=A4[AZ];if(A1&&A1!==AZ){A3[A1]=A5[AZ](A3);delete A3[AZ]}}}}function o(AX,A5,AW,A2,A4){var A3,AZ,A1,AY,A0;for(AY=0,A0=AX.length;AY<A0;AY++){A3=AX[AY];for(AZ in A5){A3[AZ]=AW._parse(AZ,A5[AZ](A3));A1=A4[AZ];if(A1&&A1!==AZ){delete A3[A1]}}}}function Ax(AX,A4,AW,A0,A3){var A1,AY,A2,AZ;for(AY=0,AZ=AX.length;AY<AZ;AY++){A1=AX[AY];A2=A0[A1.field];if(A2&&A2!=A1.field){A1.field=A2}A1.value=AW._parse(A1.field,A1.value);if(A1.hasSubgroups){Ax(A1.items,A4,AW,A0,A3)}else{o(A1.items,A4,AW,A0,A3)}}}function AC(AW,A0,AX,AY,A1,AZ){return function(A2){A2=AW(A2);if(A2&&!Ar(AY)){if(s.call(A2)!=="[object Array]"&&!(A2 instanceof Az)){A2=[A2]}AX(A2,AY,new A0(),A1,AZ)}return A2||[]}}var AD=x.extend({init:function(AW){var A5=this,A1,A4,Ba,AX;AW=AW||{};for(A1 in AW){A4=AW[A1];A5[A1]=typeof A4===AM?g(A4):A4}AX=AW.modelBase||r;if(At(A5.model)){A5.model=Ba=AX.define(A5.model)}if(A5.model){var AY=N(A5.data,A5),A3=N(A5.groups,A5),AZ=N(A5.serialize,A5),A6={},A9={},A8={},A2={},A0=false,A7;Ba=A5.model;if(Ba.fields){t(Ba.fields,function(Bd,Bb){var Bc;A7=Bd;if(At(Bb)&&Bb.field){A7=Bb.field}else{if(typeof Bb===AM){A7=Bb}}if(At(Bb)&&Bb.from){Bc=Bb.from}A0=A0||(Bc&&Bc!==Bd)||A7!==Bd;A9[Bd]=g(Bc||A7);A8[Bd]=g(Bd);A6[Bc||A7]=Bd;A2[Bd]=Bc||A7});if(!AW.serialize&&A0){A5.serialize=AC(AZ,Ba,n,A8,A6,A2)}}A5.data=AC(AY,Ba,o,A9,A6,A2);A5.groups=AC(A3,Ba,Ax,A9,A6,A2)}},errors:function(AW){return AW?AW.errors:null},parse:d,data:d,total:function(AW){return AW.length},groups:d,aggregates:function(){return{}},serialize:function(AW){return AW}});function AE(A1,AY,A2,AW){var AX,A0=0,AZ;while(AY.length&&AW){AX=AY[A0];AZ=AX.items;if(A1&&A1.field===AX.field&&A1.value===AX.value){if(A1.hasSubgroups&&A1.items.length){AE(A1.items[A1.items.length-1],AX.items,A2,AW)}else{AZ=AZ.slice(A2,AW);AW-=AZ.length;A1.items=A1.items.concat(AZ)}AY.splice(A0--,1)}else{AZ=AZ.slice(A2,AW);AW-=AZ.length;AX.items=AZ;if(!AX.items.length){AY.splice(A0--,1);AW-=A2}}A2=0;if(++A0>=AY.length){break}}if(A0<AY.length){AY.splice(A0,AY.length-A0)}}function S(AZ){var AY,AW,AX=[];for(AY=0,AW=AZ.length;AY<AW;AY++){if(AZ[AY].hasSubgroups){AX=AX.concat(S(AZ[AY].items))}else{AX=AX.concat(AZ[AY].items.slice())}}return AX}function Ab(A1,A0){var AY,AW,AZ,AX;if(A0){for(AY=0,AW=A1.length;AY<AW;AY++){AZ=A1[AY];AX=AZ.items;if(AZ.hasSubgroups){Ab(AX,A0)}else{if(AX.length&&!(AX[0] instanceof A0)){AX.type=A0;AX.wrapAll(AX,AX)}}}}}function Z(AZ,AX){var AY,AW;for(AY=0,AW=AZ.length;AY<AW;AY++){if(AZ[AY].hasSubgroups){if(Z(AZ[AY].items,AX)){return true}}else{if(AX(AZ[AY].items,AZ[AY])){return true}}}}function As(AZ,AY){var AX,AW;for(AX=0,AW=AZ.length;AX<AW;AX++){if(AZ[AX].uid==AY.uid){AY=AZ[AX];AZ.splice(AX,1);return AY}}}function AU(AX,A1){var A0,AW,AZ,AY;for(AZ=AX.length-1,AY=0;AZ>=AY;AZ--){AW=AX[AZ];A0={value:A1.get(AW.field),field:AW.field,items:A0?[A0]:[A1],hasSubgroups:!!A0,aggregates:{}}}return A0}function C(AX,AW){if(AW){return Ac(AX,function(AY){return AY[AW.idField]===AW.id})}return -1}function L(AX,AW){if(AW){return Ac(AX,function(AY){return AY.uid==AW.uid})}return -1}function Ac(AZ,AX){var AY,AW;for(AY=0,AW=AZ.length;AY<AW;AY++){if(AX(AZ[AY])){return AY}}return -1}function b(AZ,AX){if(AZ&&!Ar(AZ)){var AW=AZ[AX];var AY;if(At(AW)){AY=AW.from||AW.field||AX}else{AY=AZ[AX]||AX}if(p(AY)){return AX}return AY}return AX}function AV(AX,A0){var AY,AW,AZ={};for(var A1 in AX){if(A1!=="filters"){AZ[A1]=AX[A1]}}if(AX.filters){AZ.filters=[];for(AY=0,AW=AX.filters.length;AY<AW;AY++){AZ.filters[AY]=AV(AX.filters[AY],A0)}}else{AZ.field=b(A0.fields,AZ.field)}return AZ}function Ah(AY,A3){var AZ,A0,AW=[],A2,AX;for(AZ=0,A0=AY.length;AZ<A0;AZ++){A2={};AX=AY[AZ];for(var A1 in AX){A2[A1]=AX[A1]}A2.field=b(A3.fields,A2.field);if(A2.aggregates&&h(A2.aggregates)){A2.aggregates=Ah(A2.aggregates,A3)}AW.push(A2)}return AW}var AJ=AQ.extend({init:function(AX){var AW=this,AY,AZ;if(AX){AZ=AX.data}AX=AW.options=W({},AW.options,AX);AW._map={};AW._prefetch={};AW._data=[];AW._pristineData=[];AW._ranges=[];AW._view=[];AW._pristine=[];AW._destroyed=[];AW._pageSize=AX.pageSize;AW._page=AX.page||(AX.pageSize?1:Am);AW._sort=f(AX.sort);AW._filter=AA(AX.filter);AW._group=An(AX.group);AW._aggregate=AX.aggregate;AW._total=AX.total;AQ.fn.init.call(AW);AW.transport=AH.create(AX,AZ);AW.reader=new Au.data.readers[AX.schema.type||"json"](AX.schema);AY=AW.reader.model||{};AW._data=AW._observe(AW._data);AW.bind([y,E,M,k,P,Ap],AX)},options:{data:[],schema:{modelBase:r},serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,batch:false},_isServerGrouped:function(){var AW=this.group()||[];return this.options.serverGrouping&&AW.length},_flatData:function(AW){if(this._isServerGrouped()){return S(AW)}return AW},parent:AT,get:function(AZ){var AY,AW,AX=this._flatData(this._data);for(AY=0,AW=AX.length;AY<AW;AY++){if(AX[AY].id==AZ){return AX[AY]}}},getByUid:function(AZ){var AY,AW,AX=this._flatData(this._data);if(!AX){return}for(AY=0,AW=AX.length;AY<AW;AY++){if(AX[AY].uid==AZ){return AX[AY]}}},indexOf:function(AW){return L(this._data,AW)},at:function(AW){return this._data[AW]},data:function(AX){var AW=this;if(AX!==Am){AW._data=this._observe(AX);AW._ranges=[];AW._addRange(AW._data);AW._total=AW._data.length;AW._process(AW._data)}else{return AW._data}},view:function(){return this._view},add:function(AW){return this.insert(this._data.length,AW)},_createNewModel:function(AW){if(this.reader.model){return new this.reader.model(AW)}return new T(AW)},insert:function(AW,AX){if(!AX){AX=AW;AW=0}if(!(AX instanceof r)){AX=this._createNewModel(AX)}if(this._isServerGrouped()){this._data.splice(AW,0,AU(this.group(),AX))}else{this._data.splice(AW,0,AX)}return AX},remove:function(AZ){var AW,AX=this,AY=AX._isServerGrouped();this._eachItem(AX._data,function(A0){AW=As(A0,AZ);if(AW&&AY){if(!AW.isNew||!AW.isNew()){AX._destroyed.push(AW)}return true}});return AZ},sync:function(){var A0=this,AY,AZ,A1=[],A3=[],A2=A0._destroyed,AX=A0._flatData(A0._data);if(!A0.reader.model){return}for(AY=0,AZ=AX.length;AY<AZ;AY++){if(AX[AY].isNew()){A1.push(AX[AY])}else{if(AX[AY].dirty){A3.push(AX[AY])}}}var AW=A0._send("create",A1);AW.push.apply(AW,A0._send("update",A3));AW.push.apply(AW,A0._send("destroy",A2));Ao.when.apply(null,AW).then(function(){var A5,A4;for(A5=0,A4=arguments.length;A5<A4;A5++){A0._accept(arguments[A5])}A0._change({action:"sync"});A0.trigger(k)})},cancelChanges:function(AX){var AW=this;if(AX instanceof Au.data.Model){AW._cancelModel(AX)}else{AW._destroyed=[];AW._data=AW._observe(AW._pristineData);if(AW.options.serverPaging){AW._total=AW.reader.total(AW._pristine)}AW._change()}},hasChanges:function(){var AX,AW,AY=this._data;if(this._destroyed.length){return true}for(AX=0,AW=AY.length;AX<AW;AX++){if(AY[AX].isNew()||AY[AX].dirty){return true}}return false},_accept:function(AX){var A0=this,AW=AX.models,A4=AX.response,AY=0,A1=A0._isServerGrouped(),A3=A0._pristineData,A2=AX.type,AZ;A0.trigger(P,{response:A4,type:A2});if(A4&&!Ar(A4)){A4=A0.reader.parse(A4);if(A0._handleCustomErrors(A4)){return}A4=A0.reader.data(A4);if(!Ao.isArray(A4)){A4=[A4]}}else{A4=Ao.map(AW,function(A5){return A5.toJSON()})}if(A2==="destroy"){A0._destroyed=[]}for(AY=0,AZ=AW.length;AY<AZ;AY++){if(A2!=="destroy"){AW[AY].accept(A4[AY]);if(A2==="create"){A3.push(A1?AU(A0.group(),AW[AY]):A4[AY])}else{if(A2==="update"){A0._updatePristineForModel(AW[AY],A4[AY])}}}else{A0._removePristineForModel(AW[AY])}}},_updatePristineForModel:function(AX,AW){this._executeOnPristineForModel(AX,function(AZ,AY){Au.deepExtend(AY[AZ],AW)})},_executeOnPristineForModel:function(AX,AW){this._eachPristineItem(function(AZ){var AY=C(AZ,AX);if(AY>-1){AW(AY,AZ);return true}})},_removePristineForModel:function(AW){this._executeOnPristineForModel(AW,function(AY,AX){AX.splice(AY,1)})},_readData:function(AX){var AW=!this._isServerGrouped()?this.reader.data:this.reader.groups;return AW(AX)},_eachPristineItem:function(AW){this._eachItem(this._pristineData,AW)},_eachItem:function(AX,AW){if(AX&&AX.length){if(this._isServerGrouped()){Z(AX,AW)}else{AW(AX)}}},_pristineForModel:function(AZ){var AX,AY,AW=function(A0){AY=C(A0,AZ);if(AY>-1){AX=A0[AY];return true}};this._eachPristineItem(AW);return AX},_cancelModel:function(AY){var AW=this._pristineForModel(AY),AX;this._eachItem(this._data,function(AZ){AX=L(AZ,AY);if(AX!=-1){if(!AY.isNew()&&AW){AZ[AX].accept(AW)}else{AZ.splice(AX,1)}}})},_promise:function(A0,AX,AW){var AZ=this,AY=AZ.transport;return Ao.Deferred(function(A1){AZ.trigger(M,{type:AW});AY[AW].call(AY,W({success:function(A2){A1.resolve({response:A2,models:AX,type:AW})},error:function(A4,A2,A3){A1.reject(A4);AZ.error(A4,A2,A3)}},A0))}).promise()},_send:function(AZ,A2){var AY=this,A0,AX,AW=[],A1=AY.reader.serialize(V(A2));if(AY.options.batch){if(A2.length){AW.push(AY._promise({data:{models:A1}},A2,AZ))}}else{for(A0=0,AX=A2.length;A0<AX;A0++){AW.push(AY._promise({data:A1[A0]},[A2[A0]],AZ))}}return AW},read:function(AY){var AW=this,AX=AW._params(AY);AW._queueRequest(AX,function(){if(!AW.trigger(M,{type:"read"})){AW.trigger(Ap);AW._ranges=[];AW.transport.read({data:AX,success:N(AW.success,AW),error:N(AW.error,AW)})}else{AW._dequeueRequest()}})},success:function(AY){var AW=this,AX=AW.options;AW.trigger(P,{response:AY,type:"read"});AY=AW.reader.parse(AY);if(AW._handleCustomErrors(AY)){AW._dequeueRequest();return}AW._pristine=At(AY)?Ao.extend(true,{},AY):AY.slice?AY.slice(0):AY;AW._total=AW.reader.total(AY);if(AW._aggregate&&AX.serverAggregates){AW._aggregateResult=AW.reader.aggregates(AY)}AY=AW._readData(AY);AW._pristineData=AY.slice(0);AW._data=AW._observe(AY);AW._addRange(AW._data);AW._process(AW._data);AW._dequeueRequest()},_addRange:function(AZ){var AW=this,AY=AW._skip||0,AX=AY+AW._flatData(AZ).length;AW._ranges.push({start:AY,end:AX,data:AZ});AW._ranges.sort(function(A0,A1){return A0.start-A1.start})},error:function(AX,AW,AY){this._dequeueRequest();this.trigger(P,{});this.trigger(y,{xhr:AX,status:AW,errorThrown:AY})},_params:function(AY){var AW=this,AX=W({take:AW.take(),skip:AW.skip(),page:AW.page(),pageSize:AW.pageSize(),sort:AW._sort,filter:AW._filter,group:AW._group,aggregate:AW._aggregate},AY);if(!AW.options.serverPaging){delete AX.take;delete AX.skip;delete AX.page;delete AX.pageSize}if(!AW.options.serverGrouping){delete AX.group}else{if(AW.reader.model&&AX.group){AX.group=Ah(AX.group,AW.reader.model)}}if(!AW.options.serverFiltering){delete AX.filter}else{if(AW.reader.model&&AX.filter){AX.filter=AV(AX.filter,AW.reader.model)}}if(!AW.options.serverSorting){delete AX.sort}else{if(AW.reader.model&&AX.sort){AX.sort=Ah(AX.sort,AW.reader.model)}}if(!AW.options.serverAggregates){delete AX.aggregate}else{if(AW.reader.model&&AX.aggregate){AX.aggregate=Ah(AX.aggregate,AW.reader.model)}}return AX},_queueRequest:function(AY,AW){var AX=this;if(!AX._requestInProgress){AX._requestInProgress=true;AX._pending=Am;AW()}else{AX._pending={callback:N(AW,AX),options:AY}}},_dequeueRequest:function(){var AW=this;AW._requestInProgress=false;if(AW._pending){AW._queueRequest(AW._pending.options,AW._pending.callback)}},_handleCustomErrors:function(AX){if(this.reader.errors){var AW=this.reader.errors(AX);if(AW){this.trigger(y,{xhr:null,status:"customerror",errorThrown:"custom error",errors:AW});return true}}return false},_observe:function(AZ){var AW=this,AY=AW.reader.model,AX=false;if(AY&&AZ.length){AX=!(AZ[0] instanceof AY)}if(AZ instanceof Az){if(AX){AZ.type=AW.reader.model;AZ.wrapAll(AZ,AZ)}}else{AZ=new Az(AZ,AW.reader.model);AZ.parent=function(){return AW.parent()}}if(AW._isServerGrouped()){Ab(AZ,AY)}if(AW._changeHandler&&AW._data&&AW._data instanceof Az){AW._data.unbind(E,AW._changeHandler)}else{AW._changeHandler=N(AW._change,AW)}return AZ.bind(E,AW._changeHandler)},_change:function(AY){var AZ=this,A1,AX,AW=AY?AY.action:"";if(AW==="remove"){for(A1=0,AX=AY.items.length;A1<AX;A1++){if(!AY.items[A1].isNew||!AY.items[A1].isNew()){AZ._destroyed.push(AY.items[A1])}}}if(AZ.options.autoSync&&(AW==="add"||AW==="remove"||AW==="itemchange")){AZ.sync()}else{var A0=parseInt(AZ._total||AZ.reader.total(AZ._pristine),10);if(AW==="add"){A0+=AY.items.length}else{if(AW==="remove"){A0-=AY.items.length}else{if(AW!=="itemchange"&&AW!=="sync"&&!AZ.options.serverPaging){A0=AZ.reader.total(AZ._pristine)}}}AZ._total=A0;AZ._process(AZ._data,AY)}},_process:function(A0,AW){var AX=this,AY={},AZ;if(AX.options.serverPaging!==true){AY.skip=AX._skip;AY.take=AX._take||AX._pageSize;if(AY.skip===Am&&AX._page!==Am&&AX._pageSize!==Am){AY.skip=(AX._page-1)*AX._pageSize}}if(AX.options.serverSorting!==true){AY.sort=AX._sort}if(AX.options.serverFiltering!==true){AY.filter=AX._filter}if(AX.options.serverGrouping!==true){AY.group=AX._group}if(AX.options.serverAggregates!==true){AY.aggregate=AX._aggregate;AX._aggregateResult=z(A0,AY)}AZ=i.process(A0,AY);AX._view=AZ.data;if(AZ.total!==Am&&!AX.options.serverFiltering){AX._total=AZ.total}AW=AW||{};AW.items=AW.items||AX._view;AX.trigger(E,AW)},_mergeState:function(AX){var AW=this;if(AX!==Am){AW._pageSize=AX.pageSize;AW._page=AX.page;AW._sort=AX.sort;AW._filter=AX.filter;AW._group=AX.group;AW._aggregate=AX.aggregate;AW._skip=AX.skip;AW._take=AX.take;if(AW._skip===Am){AW._skip=AW.skip();AX.skip=AW.skip()}if(AW._take===Am&&AW._pageSize!==Am){AW._take=AW._pageSize;AX.take=AW._take}if(AX.sort){AW._sort=AX.sort=f(AX.sort)}if(AX.filter){AW._filter=AX.filter=AA(AX.filter)}if(AX.group){AW._group=AX.group=An(AX.group)}if(AX.aggregate){AW._aggregate=AX.aggregate=Ak(AX.aggregate)}}return AX},query:function(AX){var AW=this,AY,AZ=AW.options.serverSorting||AW.options.serverPaging||AW.options.serverFiltering||AW.options.serverGrouping||AW.options.serverAggregates;if(AZ||((AW._data===Am||AW._data.length===0)&&!AW._destroyed.length)){AW.read(AW._mergeState(AX))}else{if(!AW.trigger(M,{type:"read"})){AW.trigger(Ap);AY=i.process(AW._data,AW._mergeState(AX));if(!AW.options.serverFiltering){if(AY.total!==Am){AW._total=AY.total}else{AW._total=AW._data.length}}AW._view=AY.data;AW._aggregateResult=z(AW._data,AX);AW.trigger(P,{});AW.trigger(E,{items:AY.data})}}},fetch:function(AW){var AX=this;return Ao.Deferred(function(AZ){var AY=function(A1){AX.unbind(y,A0);AZ.resolve();if(AW){AW.call(AX,A1)}};var A0=function(A1){AZ.reject(A1)};AX.one(E,AY);AX.one(y,A0);AX._query()}).promise()},_query:function(AX){var AW=this;AW.query(W({},{page:AW.page(),pageSize:AW.pageSize(),sort:AW.sort(),filter:AW.filter(),group:AW.group(),aggregate:AW.aggregate()},AX))},next:function(AX){var AW=this,AZ=AW.page(),AY=AW.total();AX=AX||{};if(!AZ||(AY&&AZ+1>AW.totalPages())){return}AW._skip=AZ*AW.take();AZ+=1;AX.page=AZ;AW._query(AX);return AZ},prev:function(AX){var AW=this,AY=AW.page();AX=AX||{};if(!AY||AY===1){return}AW._skip=AW._skip-AW.take();AY-=1;AX.page=AY;AW._query(AX);return AY},page:function(AY){var AX=this,AW;if(AY!==Am){AY=Ag.max(Ag.min(Ag.max(AY,1),AX.totalPages()),1);AX._query({page:AY});return}AW=AX.skip();return AW!==Am?Ag.round((AW||0)/(AX.take()||1))+1:Am},pageSize:function(AX){var AW=this;if(AX!==Am){AW._query({pageSize:AX,page:1});return}return AW.take()},sort:function(AX){var AW=this;if(AX!==Am){AW._query({sort:AX});return}return AW._sort},filter:function(AX){var AW=this;if(AX===Am){return AW._filter}AW._query({filter:AX,page:1})},group:function(AX){var AW=this;if(AX!==Am){AW._query({group:AX});return}return AW._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(AX){var AW=this;if(AX!==Am){AW._query({aggregate:AX});return}return AW._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var AX=this,AW=AX.pageSize()||AX.total();return Ag.ceil((AX.total()||0)/AW)},inRange:function(AW,AZ){var AX=this,AY=Ag.min(AW+AZ,AX.total());if(!AX.options.serverPaging&&AX.data.length>0){return true}return AX._findRange(AW,AY).length>0},lastRange:function(){var AW=this._ranges;return AW[AW.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var AW=this._ranges;return AW.length&&AW[0].data.length&&AW[0].data[0].uid},range:function(A3,A1){A3=Ag.min(A3||0,this.total());var A2=this,A0=Ag.max(Ag.floor(A3/A1),0)*A1,AX=Ag.min(A0+A1,A2.total()),AY;AY=A2._findRange(A3,Ag.min(A3+A1,A2.total()));if(AY.length){A2._skip=A3>A2.skip()?Ag.min(AX,(A2.totalPages()-1)*A2.take()):A0;A2._take=A1;var AZ=A2.options.serverPaging;var AW=A2.options.serverSorting;var A4=A2.options.serverFiltering;try{A2.options.serverPaging=true;if(!A2._isServerGrouped()&&!(A2.group()&&A2.group().length)){A2.options.serverSorting=true}A2.options.serverFiltering=true;if(AZ){A2._data=AY=A2._observe(AY)}A2._process(AY)}finally{A2.options.serverPaging=AZ;A2.options.serverSorting=AW;A2.options.serverFiltering=A4}return}if(A1!==Am){if(!A2._rangeExists(A0,AX)){A2.prefetch(A0,A1,function(){if(A3>A0&&AX<A2.total()&&!A2._rangeExists(AX,Ag.min(AX+A1,A2.total()))){A2.prefetch(AX,A1,function(){A2.range(A3,A1)})}else{A2.range(A3,A1)}})}else{if(A0<A3){A2.prefetch(AX,A1,function(){A2.range(A3,A1)})}}}},_findRange:function(Be,A4){var A5=this,Bd=A5._ranges,AY,A9=[],Ba,Bc,A2,A7,A3,A6,A0,A8=A5.options,Bb=A8.serverSorting||A8.serverPaging||A8.serverFiltering||A8.serverGrouping||A8.serverAggregates,AX,AZ,AW;for(Ba=0,AW=Bd.length;Ba<AW;Ba++){AY=Bd[Ba];if(Be>=AY.start&&Be<=AY.end){AZ=0;for(Bc=Ba;Bc<AW;Bc++){AY=Bd[Bc];AX=A5._flatData(AY.data);if(AX.length&&Be+AZ>=AY.start){A3=AY.data;A6=AY.end;if(!Bb){var A1=An(A5.group()||[]).concat(f(A5.sort()||[]));A0=i.process(AY.data,{sort:A1,filter:A5.filter()});AX=A3=A0.data;if(A0.total!==Am){A6=A0.total}}A2=0;if(Be+AZ>AY.start){A2=(Be+AZ)-AY.start}A7=AX.length;if(A6>A4){A7=A7-(A6-A4)}AZ+=A7-A2;A9=A5._mergeGroups(A9,A3,A2,A7);if(A4<=AY.end&&AZ==A4-Be){return A9}}}break}}return[]},_mergeGroups:function(A1,A0,AY,AZ){if(this._isServerGrouped()){var AX=A0.toJSON(),AW;if(A1.length){AW=A1[A1.length-1]}AE(AW,AX,AY,AZ);return A1.concat(AX)}return A1.concat(A0.slice(AY,AZ))},skip:function(){var AW=this;if(AW._skip===Am){return(AW._page!==Am?(AW._page-1)*(AW.take()||1):Am)}return AW._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(AW,AX,AY){var AZ=this;return function(A4){var A3=false,A1={start:AW,end:AX,data:[]},A2,A0;AZ._dequeueRequest();for(A2=0,A0=AZ._ranges.length;A2<A0;A2++){if(AZ._ranges[A2].start===AW){A3=true;A1=AZ._ranges[A2];break}}if(!A3){AZ._ranges.push(A1)}AZ.trigger(P,{response:A4,type:"read"});A4=AZ.reader.parse(A4);A1.data=AZ._observe(AZ._readData(A4));A1.end=A1.start+AZ._flatData(A1.data).length;AZ._ranges.sort(function(A5,A6){return A5.start-A6.start});AZ._total=AZ.reader.total(A4);if(AY){AY()}}},prefetch:function(AW,A1,A0){var AX=this,AZ=Ag.min(AW+A1,AX.total()),AY={take:A1,skip:AW,page:AW/A1+1,pageSize:A1,sort:AX._sort,filter:AX._filter,group:AX._group,aggregate:AX._aggregate};if(!AX._rangeExists(AW,AZ)){clearTimeout(AX._timeout);AX._timeout=setTimeout(function(){AX._queueRequest(AY,function(){if(!AX.trigger(M,{type:"read"})){AX.transport.read({data:AX._params(AY),success:AX._prefetchSuccessHandler(AW,AZ,A0)})}else{AX._dequeueRequest()}})},100)}else{if(A0){A0()}}},_rangeExists:function(A0,AZ){var AX=this,AY=AX._ranges,A1,AW;for(A1=0,AW=AY.length;A1<AW;A1++){if(AY[A1].start<=A0&&AY[A1].end>=AZ){return true}}return false}});var AH={};AH.create=function(AW,AZ){var AY,AX=AW.transport;if(AX){AX.read=typeof AX.read===AM?{url:AX.read}:AX.read;if(AW.type){if(Au.data.transports[AW.type]&&!At(Au.data.transports[AW.type])){AY=new Au.data.transports[AW.type](W(AX,{data:AZ}))}else{AX=W(true,{},Au.data.transports[AW.type],AX)}AW.schema=W(true,{},Au.data.schemas[AW.type],AW.schema)}if(!AY){AY=p(AX.read)?AX:new Af(AX)}}else{AY=new l({data:AW.data})}return AY};AJ.create=function(A1){A1=A1&&A1.push?{data:A1}:A1;var A4=A1||{},AY=A4.data,A3=A4.fields,A5=A4.table,AW=A4.select,AZ,A0,A2={},AX;if(!AY&&A3&&!A4.transport){if(A5){AY=J(A5,A3)}else{if(AW){AY=Aq(AW,A3)}}}if(Au.data.Model&&A3&&(!A4.schema||!A4.schema.model)){for(AZ=0,A0=A3.length;AZ<A0;AZ++){AX=A3[AZ];if(AX.type){A2[AX.field]=AX}}if(!Ar(A2)){A4.schema=W(true,A4.schema,{model:{fields:A2}})}}A4.data=AY;return A4 instanceof AJ?A4:new AJ(A4)};function Aq(A3,A6){var A2=Ao(A3)[0].children,A0,A1,AY=[],A4,AX=A6[0],AW=A6[1],AZ,A5;for(A0=0,A1=A2.length;A0<A1;A0++){A4={};A5=A2[A0];if(A5.disabled){continue}A4[AX.field]=A5.text;AZ=A5.attributes.value;if(AZ&&AZ.specified){AZ=A5.value}else{AZ=A5.text}A4[AW.field]=AZ;AY.push(A4)}return AY}function J(A8,A7){var A5=Ao(A8)[0].tBodies[0],AW=A5?A5.rows:[],AZ,A0,A6,A1=A7.length,AY=[],AX,A2,A3,A4;for(AZ=0,A0=AW.length;AZ<A0;AZ++){A2={};A4=true;AX=AW[AZ].cells;for(A6=0;A6<A1;A6++){A3=AX[A6];if(A3.nodeName.toLowerCase()!=="th"){A4=false;A2[A7[A6].field]=A3.innerHTML}}if(!A4){AY.push(A2)}}return AY}var K=r.define({init:function(AZ){var AX=this,A0=AX.hasChildren||AZ&&AZ.hasChildren,AW="items",AY={};Au.data.Model.fn.init.call(AX,AZ);if(typeof AX.children===AM){AW=AX.children}AY={schema:{data:AW,model:{hasChildren:A0,id:AX.idField}}};if(typeof AX.children!==AM){W(AY,AX.children)}AY.data=AZ;if(!A0){A0=AY.schema.data}if(typeof A0===AM){A0=Au.getter(A0)}if(p(A0)){AX.hasChildren=!!A0.call(AX,AX)}AX._childrenOptions=AY;if(AX.hasChildren){AX._initChildren()}AX._loaded=!!(AZ&&(AZ[AW]||AZ._loaded))},_initChildren:function(){var AX=this;var AZ,AY,AW;if(!(AX.children instanceof m)){AZ=AX.children=new m(AX._childrenOptions);AY=AZ.transport;AW=AY.parameterMap;AY.parameterMap=function(A0){A0[AX.idField||"id"]=AX.id;if(AW){A0=AW(A0)}return A0};AZ.parent=function(){return AX};AZ.bind(E,function(A0){A0.node=A0.node||AX;AX.trigger(E,A0)});AZ.bind(y,function(A0){var A1=AX.parent();if(A1){A0.node=A0.node||AX;A1.trigger(y,A0)}});AX._updateChildrenField()}},append:function(AW){this._initChildren();this.loaded(true);this.children.add(AW)},hasChildren:false,level:function(){var AW=this.parentNode(),AX=0;while(AW&&AW.parentNode){AX++;AW=AW.parentNode?AW.parentNode():null}return AX},_updateChildrenField:function(){var AW=this._childrenOptions.schema.data;this[AW||"items"]=this.children.data()},load:function(){var AW=this,AX={};if(AW.hasChildren){AW._initChildren();AX[AW.idField||"id"]=AW.id;if(!AW._loaded){AW.children._data=Am}AW.children.one(E,function(){AW._loaded=true;AW._updateChildrenField()})._query(AX)}else{AW.loaded(true)}},parentNode:function(){var AW=this.parent();return AW.parent()},loaded:function(AW){if(AW!==Am){this._loaded=AW}else{return this._loaded}},shouldSerialize:function(AW){return r.fn.shouldSerialize.call(this,AW)&&AW!=="children"&&AW!=="_loaded"&&AW!=="hasChildren"&&AW!=="_childrenOptions"}});function X(AW){return function(){var AY=this._data,AX=AJ.fn[AW].apply(this,Al.call(arguments));if(this._data!=AY){this._attachBubbleHandlers()}return AX}}var m=AJ.extend({init:function(AX){var AW=K.define({children:AX});AJ.fn.init.call(this,W(true,{},{schema:{modelBase:AW,model:AW}},AX));this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var AW=this;AW._data.bind(y,function(AX){AW.trigger(y,AX)})},remove:function(AY){var AW=AY.parentNode(),AZ=this,AX;if(AW&&AW._initChildren){AZ=AW.children}AX=AJ.fn.remove.call(AZ,AY);if(AW&&!AZ.data().length){AW.hasChildren=false}return AX},success:X("success"),data:X("data"),insert:function(AX,AY){var AW=this.parent();if(AW&&AW._initChildren){AW.hasChildren=true;AW._initChildren()}return AJ.fn.insert.call(this,AX,AY)},_find:function(A0,A1){var AY,AX,AZ,A2,AW;AZ=AJ.fn[A0].call(this,A1);if(AZ){return AZ}A2=this._flatData(this.data());if(!A2){return}for(AY=0,AX=A2.length;AY<AX;AY++){AW=A2[AY].children;if(!(AW instanceof m)){continue}AZ=AW[A0](A1);if(AZ){return AZ}}},get:function(AW){return this._find("get",AW)},getByUid:function(AW){return this._find("getByUid",AW)}});function Y(AX,A8){var A9=Ao(AX).children(),Bb,AW,Ba=[],A0,A7=A8[0].field,A1=A8[1]&&A8[1].field,A2=A8[2]&&A8[2].field,Bc=A8[3]&&A8[3].field,AY,A5,AZ,A4,A6;function A3(Be,Bd){return Be.filter(Bd).add(Be.find(Bd))}for(Bb=0,AW=A9.length;Bb<AW;Bb++){A0={_loaded:true};AY=A9.eq(Bb);AZ=AY[0].firstChild;A6=AY.children();AX=A6.filter("ul");A6=A6.filter(":not(ul)");A5=AY.attr("data-id");if(A5){A0.id=A5}if(AZ){A0[A7]=AZ.nodeType==3?AZ.nodeValue:A6.text()}if(A1){A0[A1]=A3(A6,"a").attr("href")}if(Bc){A0[Bc]=A3(A6,"img").attr("src")}if(A2){A4=A3(A6,".k-sprite").prop("className");A0[A2]=A4&&Ao.trim(A4.replace("k-sprite",""))}if(AX.length){A0.items=Y(AX.eq(0),A8)}if(AY.attr("data-hasChildren")=="true"){A0.hasChildren=true}Ba.push(A0)}return Ba}m.create=function(AX){AX=AX&&AX.push?{data:AX}:AX;var AW=AX||{},A0=AW.data,AZ=AW.fields,AY=AW.list;if(A0&&A0._dataSource){return A0._dataSource}if(!A0&&AZ&&!AW.transport){if(AY){A0=Y(AY,AZ)}}AW.data=A0;return AW instanceof m?AW:new m(AW)};var e=Au.Observable.extend({init:function(AY,AX,AW){Au.Observable.fn.init.call(this);this._prefetching=false;this.dataSource=AY;this.prefetch=!AW;var AZ=this;AY.bind("change",function(){AZ._change()});this._syncWithDataSource();this.setViewSize(AX)},setViewSize:function(AW){this.viewSize=AW;this._recalculate()},at:function(AZ){var AX=this.pageSize,AY;if(AZ>=this.total()){this.trigger("endreached",{index:AZ});return}if(!this.useRanges){return this.dataSource.view()[AZ]}if(this.useRanges){if(AZ<this.dataOffset||AZ>this.skip+AX){var AW=Math.floor(AZ/AX)*AX;this.range(AW)}if(AZ===this.prefetchThreshold){this._prefetch()}if(AZ===this.midPageThreshold){this.range(this.nextMidRange)}else{if(AZ===this.nextPageThreshold){this.range(this.nextFullRange)}else{if(AZ===this.pullBackThreshold){if(this.offset===this.skip){this.range(this.previousMidRange)}else{this.range(this.previousFullRange)}}}}AY=this.dataSource.at(AZ-this.dataOffset)}if(AY===Am){this.trigger("endreached",{index:AZ})}return AY},indexOf:function(AW){return this.dataSource.data().indexOf(AW)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var AY=this,AX=AY.pageSize,AW=AY.skip-AY.viewSize,AZ=Ag.max(Ag.floor(AW/AX),0)*AX+AX;this.offset=AW;this.dataSource.prefetch(AZ,AX,function(){AY._goToRange(AW,true)})},range:function(AW){if(this.offset===AW){return}var AY=this,AX=this.pageSize,A0=Ag.max(Ag.floor(AW/AX),0)*AX+AX,AZ=this.dataSource;this.offset=AW;this._recalculate();if(AZ.inRange(AW,AX)){this._goToRange(AW)}else{if(this.prefetch){AZ.prefetch(A0,AX,function(){AY._goToRange(AW,true)})}}},syncDataSource:function(){var AW=this.offset;this.offset=null;this.range(AW)},destroy:function(){this.unbind()},_prefetch:function(){var AX=this,AW=this.pageSize,AZ=this.skip+AW,AY=this.dataSource;if(!AY.inRange(AZ,AW)&&!this._prefetching&&this.prefetch){this._prefetching=true;this.trigger("prefetching",{skip:AZ,take:AW});AY.prefetch(AZ,AW,function(){AX._prefetching=false;AX.trigger("prefetched",{skip:AZ,take:AW})})}},_goToRange:function(AW,AX){if(this.offset!==AW){return}this.dataOffset=AW;this._expanding=AX;this.dataSource.range(AW,this.pageSize)},_change:function(){var AX=this.dataSource,AW=AX.firstItemUid();this.length=this.useRanges?AX.lastRange().end:AX.view().length;if(this._firstItemUid!==AW||!this.useRanges){this._syncWithDataSource();this._recalculate();this.trigger("reset",{offset:this.offset})}this.trigger("resize");if(this._expanding){this.trigger("expand")}delete this._expanding},_syncWithDataSource:function(){var AW=this.dataSource;this._firstItemUid=AW.firstItemUid();this.dataOffset=this.offset=AW.skip()||0;this.pageSize=AW.pageSize();this.useRanges=AW.options.serverPaging},_recalculate:function(){var AY=this.pageSize,AX=this.offset,AZ=this.viewSize,AW=Math.ceil(AX/AY)*AY;this.skip=AW;this.midPageThreshold=AW+AY-1;this.nextPageThreshold=AW+AZ-1;this.prefetchThreshold=AW+Math.floor(AY/3*2);this.pullBackThreshold=this.offset-1;this.nextMidRange=AW+AY-AZ;this.nextFullRange=AW;this.previousMidRange=AX-AZ;this.previousFullRange=AW-AY}});var AP=Au.Observable.extend({init:function(AW,AY){var AX=this;Au.Observable.fn.init.call(AX);this.dataSource=AW;this.batchSize=AY;this._total=0;this.buffer=new e(AW,AY*3);this.buffer.bind({"endreached":function(AZ){AX.trigger("endreached",{index:AZ.index})},"prefetching":function(AZ){AX.trigger("prefetching",{skip:AZ.skip,take:AZ.take})},"prefetched":function(AZ){AX.trigger("prefetched",{skip:AZ.skip,take:AZ.take})},"reset":function(){AX._total=0;AX.trigger("reset")},"resize":function(){AX._total=Math.ceil(this.length/AX.batchSize);AX.trigger("resize",{total:AX.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(A1){var AY=this.buffer,AW=A1*this.batchSize,A2=this.batchSize,A0=[],AZ;if(AY.offset>AW){AY.at(AY.offset-1)}for(var AX=0;AX<A2;AX++){AZ=AY.at(AW+AX);if(AZ===Am){break}A0.push(AZ)}return A0},total:function(){return this._total},destroy:function(){this.buffer.destroy();this.unbind()}});W(true,Au.data,{readers:{json:AD},Query:i,DataSource:AJ,HierarchicalDataSource:m,Node:K,ObservableObject:T,ObservableArray:Az,LocalTransport:l,RemoteTransport:Af,Cache:AO,DataReader:AD,Model:r,Buffer:e,BatchBuffer:AP})})(window.kendo.jQuery);kendo_module({id:"binder",name:"MVVM",category:"framework",description:"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).",depends:["core","data"]});(function(W,X){var S=window.kendo,V=S.Observable,B=S.data.ObservableObject,Q=S.data.ObservableArray,i={}.toString,e={},G=Array.prototype.splice,R=S.Class,P,j=W.proxy,b="value",N="source",Z="events",K="checked",Y="change";(function(){var k=document.createElement("a");if(k.innerText!==X){P="innerText"}else{if(k.textContent!==X){P="textContent"}}})();var D=V.extend({init:function(k,m){var l=this;V.fn.init.call(l);l.source=k[0];l.parents=k;l.path=m;l.dependencies={};l.dependencies[m]=true;l.observable=l.source instanceof V;l._access=function(n){l.dependencies[n.field]=true};if(l.observable){l._change=function(n){l.change(n)};l.source.bind(Y,l._change)}},_parents:function(){var k=this.parents;var l=this.get();if(l&&typeof l.parent=="function"){var m=l.parent();if(W.inArray(m,k)<0){k=[m].concat(k)}}return k},change:function(k){var m,n,o=k.field,l=this;if(l.path==="this"){l.trigger(Y,k)}else{for(m in l.dependencies){if(m.indexOf(o)===0){n=m.charAt(o.length);if(!n||n==="."||n==="["){l.trigger(Y,k);break}}}}},start:function(k){k.bind("get",this._access)},stop:function(k){k.unbind("get",this._access)},get:function(){var l=this,m=l.source,n=0,o=l.path,k=m;if(!l.observable){return k}l.start(l.source);k=m.get(o);while(k===X&&m){m=l.parents[++n];if(m instanceof B){k=m.get(o)}}if(k===X){m=l.source;while(k===X&&m){m=m.parent();if(m instanceof B){k=m.get(o)}}}if(typeof k==="function"){n=o.lastIndexOf(".");if(n>0){m=m.get(o.substring(0,n))}l.start(m);k=k.call(m,l.source);l.stop(m)}if(m&&m!==l.source){l.currentSource=m;m.unbind(Y,l._change).bind(Y,l._change)}l.stop(l.source);return k},set:function(m){var k=this,l=k.currentSource||k.source;l.set(k.path,m)},destroy:function(){if(this.observable){this.source.unbind(Y,this._change)}}});var g=D.extend({get:function(){var k=this.source,n=this.path,m=0,l;l=k.get(n);while(!l&&k){k=this.parents[++m];if(k instanceof B){l=k.get(n)}}return j(l,k)}});var I=D.extend({init:function(k,n,l){var m=this;D.fn.init.call(m,k,n);m.template=l},render:function(l){var k;this.start(this.source);k=S.render(this.template,l);this.stop(this.source);return k}});var O=R.extend({init:function(m,l,k){this.element=m;this.bindings=l;this.options=k},bind:function(l,k){var m=this;l=k?l[k]:l;l.bind(Y,function(n){m.refresh(k||n)});m.refresh(k)},destroy:function(){}});e.attr=O.extend({refresh:function(k){this.element.setAttribute(k,this.bindings.attr[k].get())}});e.style=O.extend({refresh:function(k){this.element.style[k]=this.bindings.style[k].get()||""}});e.enabled=O.extend({refresh:function(){if(this.bindings.enabled.get()){this.element.removeAttribute("disabled")}else{this.element.setAttribute("disabled","disabled")}}});e.readonly=O.extend({refresh:function(){if(this.bindings.readonly.get()){this.element.setAttribute("readonly","readonly")}else{this.element.removeAttribute("readonly")}}});e.disabled=O.extend({refresh:function(){if(this.bindings.disabled.get()){this.element.setAttribute("disabled","disabled")}else{this.element.removeAttribute("disabled")}}});e.events=O.extend({init:function(m,l,k){O.fn.init.call(this,m,l,k);this.handlers={}},refresh:function(k){var n=W(this.element),l=this.bindings.events[k],m=this.handlers[k];if(m){n.off(k,m)}m=this.handlers[k]=l.get();n.on(k,l.source,m)},destroy:function(){var l=W(this.element),k;for(k in this.handlers){l.off(k,this.handlers[k])}}});e.text=O.extend({refresh:function(){var k=this.bindings.text.get();if(k==null){k=""}this.element[P]=k}});e.visible=O.extend({refresh:function(){if(this.bindings.visible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});e.invisible=O.extend({refresh:function(){if(!this.bindings.invisible.get()){this.element.style.display=""}else{this.element.style.display="none"}}});e.html=O.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}});e.value=O.extend({init:function(m,l,k){O.fn.init.call(this,m,l,k);this._change=j(this.change,this);this.eventName=k.valueUpdate||Y;W(this.element).on(this.eventName,this._change);this._initChange=false},change:function(){this._initChange=this.eventName!=Y;var l=this.element.value;var k=this.element.type;if(k=="date"){l=S.parseDate(l,"yyyy-MM-dd")}else{if(k=="datetime-local"){l=S.parseDate(l,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"])}else{if(k=="number"){l=S.parseFloat(l)}}}this.bindings[b].set(l);this._initChange=false},refresh:function(){if(!this._initChange){var l=this.bindings[b].get();if(l==null){l=""}var k=this.element.type;if(k=="date"){l=S.toString(l,"yyyy-MM-dd")}else{if(k=="datetime-local"){l=S.toString(l,"yyyy-MM-ddTHH:mm:ss")}}this.element.value=l}this._initChange=false},destroy:function(){W(this.element).off(this.eventName,this._change)}});e.source=O.extend({init:function(n,m,l){O.fn.init.call(this,n,m,l);var k=this.bindings.source.get();if(k instanceof S.data.DataSource&&l.autoBind!==false){k.fetch()}},refresh:function(k){var l=this,m=l.bindings.source.get();if(m instanceof Q||m instanceof S.data.DataSource){k=k||{};if(k.action=="add"){l.add(k.index,k.items)}else{if(k.action=="remove"){l.remove(k.index,k.items)}else{if(k.action!="itemchange"){l.render()}}}}else{l.render()}},container:function(){var k=this.element;if(k.nodeName.toLowerCase()=="table"){if(!k.tBodies[0]){k.appendChild(document.createElement("tbody"))}k=k.tBodies[0]}return k},template:function(){var k=this.options,l=k.template,m=this.container().nodeName.toLowerCase();if(!l){if(m=="select"){if(k.valueField||k.textField){l=S.format('<option value="#:{0}#">#:{1}#</option>',k.valueField||k.textField,k.textField||k.valueField)}else{l="<option>#:data#</option>"}}else{if(m=="tbody"){l="<tr><td>#:data#</td></tr>"}else{if(m=="ul"||m=="ol"){l="<li>#:data#</li>"}else{l="#:data#"}}}l=S.template(l)}return l},destroy:function(){var k=this.bindings.source.get();k.unbind(Y,this._change)},add:function(m,r){var k=this.container(),p,n,o,q,l=k.cloneNode(false),s=k.children[m];W(l).html(S.render(this.template(),r));if(l.children.length){p=this.bindings.source._parents();for(n=0,o=r.length;n<o;n++){q=l.children[0];k.insertBefore(q,s||null);M(q,r[n],this.options.roles,[r[n]].concat(p))}}},remove:function(n,m){var k,o=this.container();for(k=0;k<m.length;k++){var l=o.children[n];a(l);o.removeChild(l)}},render:function(){var m=this.bindings.source.get(),k,o,l,p=this.container(),n=this.template(),q;if(m instanceof S.data.DataSource){m=m.view()}if(!(m instanceof Q)&&i.call(m)!=="[object Array]"){if(m.parent){q=m.parent}m=new Q([m]);if(m.parent){m.parent=q}}if(this.bindings.template){c(p);W(p).html(this.bindings.template.render(m));if(p.children.length){k=this.bindings.source._parents();for(o=0,l=m.length;o<l;o++){M(p.children[o],m[o],this.options.roles,[m[o]].concat(k))}}}else{W(p).html(S.render(n,m))}}});e.input={checked:O.extend({init:function(m,l,k){O.fn.init.call(this,m,l,k);this._change=j(this.change,this);W(this.element).change(this._change)},change:function(){var m=this.element;var l=this.value();if(m.type=="radio"){this.bindings[K].set(l)}else{if(m.type=="checkbox"){var k=this.bindings[K].get();var n;if(k instanceof Q){l=this.element.value;if(l!=="on"&&l!=="off"){n=k.indexOf(l);if(n>-1){k.splice(n,1)}else{k.push(l)}}}else{this.bindings[K].set(l)}}}},refresh:function(){var l=this.bindings[K].get(),k=l,m=this.element;if(m.type=="checkbox"){if(k instanceof Q){l=this.element.value;if(k.indexOf(l)>=0){l=true}}m.checked=l===true}else{if(m.type=="radio"&&l!=null){if(m.value===l.toString()){m.checked=true}}}},value:function(){var l=this.element,k=l.value;if(l.type=="checkbox"){k=l.checked}return k},destroy:function(){W(this.element).off(Y,this._change)}})};e.select={value:O.extend({init:function(m,l,k){O.fn.init.call(this,m,l,k);this._change=j(this.change,this);W(this.element).change(this._change)},change:function(){var s=[],k=this.element,r,q=this.options.valueField||this.options.textField,m=this.options.valuePrimitive,t,l,p,n,o;for(n=0,o=k.options.length;n<o;n++){t=k.options[n];if(t.selected){p=t.attributes.value;if(p&&p.specified){p=t.value}else{p=t.text}s.push(p)}}if(q){r=this.bindings.source.get();for(l=0;l<s.length;l++){for(n=0,o=r.length;n<o;n++){if(r[n].get(q)==s[l]){s[l]=r[n];break}}}}p=this.bindings[b].get();if(p instanceof Q){p.splice.apply(p,[0,p.length].concat(s))}else{if(!m&&(p instanceof B||!q)){this.bindings[b].set(s[0])}else{this.bindings[b].set(s[0].get(q))}}},refresh:function(){var n,k=this.element,m=k.options,o=this.bindings[b].get(),r=o,q=this.options.valueField||this.options.textField,p=false,s;if(!(r instanceof Q)){r=new Q([o])}k.selectedIndex=-1;for(var l=0;l<r.length;l++){o=r[l];if(q&&o instanceof B){o=o.get(q)}for(n=0;n<m.length;n++){s=m[n].value;if(s===""&&o!==""){s=m[n].text}if(s==o){m[n].selected=true;p=true}}}},destroy:function(){W(this.element).off(Y,this._change)}})};e.widget={events:O.extend({init:function(m,l,k){O.fn.init.call(this,m.element[0],l,k);this.widget=m;this.handlers={}},refresh:function(k){var l=this.bindings.events[k],m=this.handlers[k];if(m){this.widget.unbind(k,m)}m=l.get();this.handlers[k]=function(n){n.data=l.source;m(n);if(n.data===l.source){delete n.data}};this.widget.bind(k,this.handlers[k])},destroy:function(){var k;for(k in this.handlers){this.widget.unbind(k,this.handlers[k])}}}),checked:O.extend({init:function(m,l,k){O.fn.init.call(this,m.element[0],l,k);this.widget=m;this._change=j(this.change,this);this.widget.bind(Y,this._change)},change:function(){this.bindings[K].set(this.value())},refresh:function(){this.widget.check(this.bindings[K].get()===true)},value:function(){var l=this.element,k=l.value;if(k=="on"||k=="off"){k=l.checked}return k},destroy:function(){this.widget.unbind(Y,this._change)}}),visible:O.extend({init:function(m,l,k){O.fn.init.call(this,m.element[0],l,k);this.widget=m},refresh:function(){var k=this.bindings.visible.get();this.widget.wrapper[0].style.display=k?"":"none"}}),invisible:O.extend({init:function(m,l,k){O.fn.init.call(this,m.element[0],l,k);this.widget=m},refresh:function(){var k=this.bindings.invisible.get();this.widget.wrapper[0].style.display=k?"none":""}}),enabled:O.extend({init:function(m,l,k){O.fn.init.call(this,m.element[0],l,k);this.widget=m},refresh:function(){if(this.widget.enable){this.widget.enable(this.bindings.enabled.get())}}}),disabled:O.extend({init:function(m,l,k){O.fn.init.call(this,m.element[0],l,k);this.widget=m},refresh:function(){if(this.widget.enable){this.widget.enable(!this.bindings.disabled.get())}}}),source:O.extend({init:function(n,m,l){var k=this;O.fn.init.call(k,n.element[0],m,l);k.widget=n;k._dataBinding=j(k.dataBinding,k);k._dataBound=j(k.dataBound,k);k._itemChange=j(k.itemChange,k)},itemChange:function(k){M(k.item[0],k.data,this._ns(k.ns),[k.data].concat(this.bindings.source._parents()))},dataBinding:function(){var m,k,n=this.widget,l=n.items();for(m=0,k=l.length;m<k;m++){a(l[m])}},_ns:function(l){l=l||S.ui;var k=[S.ui,S.dataviz.ui,S.mobile.ui];k.splice(W.inArray(l,k),1);k.unshift(l);return S.rolesFromNamespaces(k)},dataBound:function(k){var l,m,q=this.widget,r=q.items(),s=q.dataSource,p=s.view(),n,o=s.group()||[];if(r.length){if(o.length){p=U(p)}n=this.bindings.source._parents();for(l=0,m=p.length;l<m;l++){M(r[l],p[l],this._ns(k.ns),[p[l]].concat(n))}}},refresh:function(k){var l=this,m,n=l.widget;k=k||{};if(!k.action){l.destroy();n.bind("dataBinding",l._dataBinding);n.bind("dataBound",l._dataBound);n.bind("itemChange",l._itemChange);m=l.bindings.source.get();if(n.dataSource instanceof S.data.DataSource&&n.dataSource!=m){if(m instanceof S.data.DataSource){n.setDataSource(m)}else{if(m&&m._dataSource){n.setDataSource(m._dataSource)}else{n.dataSource.data(m)}}}}},destroy:function(){var k=this.widget;k.unbind("dataBinding",this._dataBinding);k.unbind("dataBound",this._dataBound);k.unbind("itemChange",this._itemChange)}}),value:O.extend({init:function(n,l,k){O.fn.init.call(this,n.element[0],l,k);this.widget=n;this._change=W.proxy(this.change,this);this.widget.first(Y,this._change);var m=this.bindings.value.get();this._valueIsObservableObject=!k.valuePrimitive&&(m==null||m instanceof B);this._valueIsObservableArray=m instanceof Q;this._initChange=false},change:function(){var q=this.widget.value(),r=this.options.dataValueField||this.options.dataTextField,n=i.call(q)==="[object Array]",o=this._valueIsObservableObject,l,k,t=[],v,u,m,p,s;this._initChange=true;if(r){if(this.bindings.source){s=this.bindings.source.get()}if(q===""&&(o||this.options.valuePrimitive)){q=null}else{if(!s||s instanceof S.data.DataSource){s=this.widget.dataSource.view()}if(n){k=q.length;t=q.slice(0)}for(m=0,p=s.length;m<p;m++){v=s[m];u=v.get(r);if(n){for(l=0;l<k;l++){if(u==t[l]){t[l]=v;break}}}else{if(u==q){q=o?v:u;break}}}if(t[0]){if(this._valueIsObservableArray){q=t}else{if(o||!r){q=t[0]}else{q=t[0].get(r)}}}}}this.bindings.value.set(q);this._initChange=false},refresh:function(){if(!this._initChange){var n=this.options.dataValueField||this.options.dataTextField,k=this.bindings.value.get(),m=0,l,o=[];if(n){if(k instanceof Q){for(l=k.length;m<l;m++){o[m]=k[m].get(n)}k=o}else{if(k instanceof B){k=k.get(n)}}}this.widget.value(k)}this._initChange=false},destroy:function(){this.widget.unbind(Y,this._change)}}),multiselect:{value:O.extend({init:function(m,l,k){O.fn.init.call(this,m.element[0],l,k);this.widget=m;this._change=W.proxy(this.change,this);this.widget.first(Y,this._change);this._initChange=false},change:function(){var t=this,w=t.bindings[b].get(),p=t.options.valuePrimitive,n=p?t.widget.value():t.widget.dataItems();var u=this.options.dataValueField||this.options.dataTextField;n=n.slice(0);t._initChange=true;if(w instanceof Q){var s=[];var o=n.length;var v=0,q=0;var l=w[v];var m=false;var r;var k;var x;while(l){x=false;for(q=0;q<o;q++){if(p){m=n[q]==l}else{k=n[q];k=k.get?k.get(u):k;m=k==(l.get?l.get(u):l)}if(m){n.splice(q,1);o-=1;x=true;break}}if(!x){s.push(l);G.call(w,v,1);r=v}else{v+=1}l=w[v]}G.apply(w,[w.length,0].concat(n));if(s.length){w.trigger("change",{action:"remove",items:s,index:r})}if(n.length){w.trigger("change",{action:"add",items:n,index:w.length-1})}}else{t.bindings[b].set(n)}t._initChange=false},refresh:function(){if(!this._initChange){var o=this.options.dataValueField||this.options.dataTextField,k=this.bindings.value.get(),m=0,l,p=[],n;if(o){if(k instanceof Q){for(l=k.length;m<l;m++){n=k[m];p[m]=n.get?n.get(o):n}k=p}else{if(k instanceof B){k=k.get(o)}}}this.widget.value(k)}},destroy:function(){this.widget.unbind(Y,this._change)}})}};var A=R.extend({init:function(l,k){this.target=l;this.options=k;this.toDestroy=[]},bind:function(n){var q=this.target.nodeName.toLowerCase(),k,p,l,o,m=e[q]||{};for(k in n){if(k==b){p=true}else{if(k==N){l=true}else{if(k==Z){o=true}else{this.applyBinding(k,n,m)}}}}if(l){this.applyBinding(N,n,m)}if(p){this.applyBinding(b,n,m)}if(o){this.applyBinding(Z,n,m)}},applyBinding:function(p,q,o){var k=o[p]||e[p],n=this.toDestroy,m,l=q[p];if(k){k=new k(this.target,q,this.options);n.push(k);if(l instanceof D){k.bind(l);n.push(l)}else{for(m in l){k.bind(l,m);n.push(l[m])}}}else{if(p!=="template"){throw new Error("The "+p+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")}}},destroy:function(){var m,k,l=this.toDestroy;for(m=0,k=l.length;m<k;m++){l[m].destroy()}}});var d=A.extend({bind:function(n){var l=this,k,o=false,p=false,m=e.widget[l.target.options.name.toLowerCase()]||{};for(k in n){if(k==b){o=true}else{if(k==N){p=true}else{l.applyBinding(k,n)}}}if(p){l.applyBinding(N,n)}if(o){l.applyBinding(b,n,m[b])}},applyBinding:function(p,q,o){var k=o||e.widget[p],n=this.toDestroy,m,l=q[p];if(k){k=new k(this.target,q,this.target.options);n.push(k);if(l instanceof D){k.bind(l);n.push(l)}else{for(m in l){k.bind(l,m);n.push(l[m])}}}else{throw new Error("The "+p+" binding is not supported by the "+this.target.options.name+" widget")}}});function U(n){var m,k,l=[];for(m=0,k=n.length;m<k;m++){if(n[m].hasSubgroups){l=l.concat(U(n[m].items))}else{l=l.concat.apply(l,n[m].items)}}return l}function C(m,k){var l=S.initWidget(m,{},k);if(l){return new d(l)}}var T=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,H=/\s/g;function L(l){var m={},o,p,s,n,r,q,k;k=l.match(T);for(o=0,p=k.length;o<p;o++){s=k[o];n=s.indexOf(":");r=s.substring(0,n);q=s.substring(n+1);if(q.charAt(0)=="{"){q=L(q)}m[r]=q}return m}function J(n,m,k){var l,o={};for(l in n){o[l]=new k(m,n[l])}return o}function M(p,u,l,r){var w=p.getAttribute("data-"+S.ns+"role"),n,k=p.getAttribute("data-"+S.ns+"bind"),o=p.children,t=[],s=true,m,q={},v;r=r||[u];if(w||k){E(p)}if(w){v=C(p,l)}if(k){k=L(k.replace(H,""));if(!v){q=S.parseOptions(p,{textField:"",valueField:"",template:"",valueUpdate:Y,valuePrimitive:false,autoBind:true});q.roles=l;v=new A(p,q)}v.source=u;m=J(k,r,D);if(q.template){m.template=new I(r,"",q.template)}if(m.click){k.events=k.events||{};k.events.click=k.click;delete m.click}if(m.source){s=false}if(k.attr){m.attr=J(k.attr,r,D)}if(k.style){m.style=J(k.style,r,D)}if(k.events){m.events=J(k.events,r,g)}v.bind(m)}if(v){p.kendoBindingTarget=v}if(s&&o){for(n=0;n<o.length;n++){t[n]=o[n]}for(n=0;n<t.length;n++){M(t[n],u,l,r)}}}function f(k,n){var p,l,m,o=S.rolesFromNamespaces([].slice.call(arguments,2));n=S.observable(n);k=W(k);for(p=0,l=k.length;p<l;p++){m=k[p];if(m.nodeType===1){M(m,n,o)}}}function E(l){var k=l.kendoBindingTarget;if(k){k.destroy();if(W.support.deleteExpando){delete l.kendoBindingTarget}else{if(l.removeAttribute){l.removeAttribute("kendoBindingTarget")}else{l.kendoBindingTarget=null}}}}function a(k){E(k);c(k)}function c(m){var n=m.children;if(n){for(var l=0,k=n.length;l<k;l++){a(n[l])}}}function h(k){var m,l;k=W(k);for(m=0,l=k.length;m<l;m++){a(k[m])}}function F(n,k){var l=n.element,m=l[0].kendoBindingTarget;if(m){f(l,m.source,k)}}S.unbind=h;S.bind=f;S.data.binders=e;S.data.Binder=O;S.notify=F;S.observable=function(k){if(!(k instanceof B)){k=new B(k)}return k};S.observableHierarchy=function(k){var l=S.data.HierarchicalDataSource.create(k);function m(p){var o,n;for(o=0;o<p.length;o++){p[o]._initChildren();n=p[o].children;n.fetch();p[o].items=n.data();m(p[o].items)}}l.fetch();m(l.data());l._data._dataSource=l;return l._data}})(window.kendo.jQuery);kendo_module({id:"validator",name:"Validator",category:"web",description:"The Validator offers an easy way to do a client-side form validation.",depends:["core"]});(function(V,U){var D=window.kendo,S=D.ui.Widget,P=".kendoValidator",H="k-invalid-msg",C=new RegExp(H,"i"),Q="k-invalid",A=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,X=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,F=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",O=":checkbox:not([disabled],[readonly])",R="[type=number],[type=range]",L="blur",Y="name",G="form",Z="novalidate",I=V.proxy,W=function(a,b){if(typeof b==="string"){b=new RegExp("^(?:"+b+")$")}return b.test(a)},B=function(b,c,d){var a=b.val();if(b.filter(c).length&&a!==""){return W(a,d)}return true},J=function(b,a){if(b.length){return b[0].attributes[a]!=null}return false};if(!D.ui.validator){D.ui.validator={rules:{},messages:{}}}function K(c){var d=D.ui.validator.ruleResolvers||{},a={},b;for(b in d){V.extend(true,a,d[b].resolve(c))}return a}function E(a){return a.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function M(a){a=(a+"").split(".");if(a.length>1){return a[1].length}return 0}function N(a){if(V.parseHTML){return V(V.parseHTML(a))}return V(a)}var T=S.extend({init:function(c,b){var a=this,d=K(c);b=b||{};b.rules=V.extend({},D.ui.validator.rules,d.rules,b.rules);b.messages=V.extend({},D.ui.validator.messages,d.messages,b.messages);S.fn.init.call(a,c,b);a._errorTemplate=D.template(a.options.errorTemplate);if(a.element.is(G)){a.element.attr(Z,Z)}a._errors={};a._attachEvents()},events:["validate"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(b){var a=b.filter("[type=checkbox]").length&&!b.is(":checked"),c=b.val();return !(J(b,"required")&&(c===""||!c||a))},pattern:function(a){if(a.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&a.val()!==""){return W(a.val(),a.attr("pattern"))}return true},min:function(b){if(b.filter(R+",["+D.attr("type")+"=number]").filter("[min]").length&&b.val()!==""){var a=parseFloat(b.attr("min"))||0,c=D.parseFloat(b.val());return a<=c}return true},max:function(a){if(a.filter(R+",["+D.attr("type")+"=number]").filter("[max]").length&&a.val()!==""){var c=parseFloat(a.attr("max"))||0,b=D.parseFloat(a.val());return c>=b}return true},step:function(d){if(d.filter(R+",["+D.attr("type")+"=number]").filter("[step]").length&&d.val()!==""){var a=parseFloat(d.attr("min"))||0,b=parseFloat(d.attr("step"))||1,e=parseFloat(d.val()),c=M(b),f;if(c){f=Math.pow(10,c);return(((e-a)*f)%(b*f))/Math.pow(100,c)===0}return((e-a)%b)===0}return true},email:function(a){return B(a,"[type=email],["+D.attr("type")+"=email]",A)},url:function(a){return B(a,"[type=url],["+D.attr("type")+"=url]",X)},date:function(a){if(a.filter("[type^=date],["+D.attr("type")+"=date]").length&&a.val()!==""){return D.parseDate(a.val(),a.attr(D.attr("format")))!==null}return true}},validateOnBlur:true},destroy:function(){S.fn.destroy.call(this);this.element.off(P)},_submit:function(a){if(!this.validate()){a.stopPropagation();a.stopImmediatePropagation();a.preventDefault();return false}return true},_attachEvents:function(){var a=this;if(a.element.is(G)){a.element.on("submit"+P,I(a._submit,a))}if(a.options.validateOnBlur){if(!a.element.is(F)){a.element.on(L+P,F,function(){a.validateInput(V(this))});a.element.on("click"+P,O,function(){a.validateInput(V(this))})}else{a.element.on(L+P,function(){a.validateInput(a.element)});if(a.element.is(O)){a.element.on("click"+P,function(){a.validateInput(a.element)})}}}},validate:function(){var a;var e;var c=false;var b;this._errors={};if(!this.element.is(F)){var d=false;a=this.element.find(F);for(e=0,b=a.length;e<b;e++){if(!this.validateInput(a.eq(e))){d=true}}c=!d}else{c=this.validateInput(this.element)}this.trigger("validate",{valid:c});return c},validateInput:function(h){h=V(h);var f=this,a=f._errorTemplate,b=f._checkValidity(h),c=b.valid,i="."+H,e=(h.attr(Y)||""),d=f._findMessageContainer(e).add(h.next(i)).hide(),j;h.removeAttr("aria-invalid");if(!c){j=f._extractMessage(h,b.key);f._errors[e]=j;var g=N(a({message:E(j)}));f._decorateMessageContainer(g,e);if(!d.replaceWith(g).length){g.insertAfter(h)}g.show();h.attr("aria-invalid",true)}h.toggleClass(Q,!c);return c},hideMessages:function(){var b=this,a="."+H,c=b.element;if(!c.is(F)){c.find(a).hide()}else{c.next(a).hide()}},_findMessageContainer:function(h){var c=D.ui.validator.messageLocators,i,a=V(),d=this.element[0].getElementsByTagName("*");for(var e=0,f=d.length;e<f;e++){var b=d[e];if(C.test(b.className)){var g=b.getAttribute(D.attr("for"));if(g===h){a=a.add(b)}}}for(i in c){a=a.add(c[i].locate(this.element,h))}return a},_decorateMessageContainer:function(a,c){var d=D.ui.validator.messageLocators,b;a.addClass(H).attr(D.attr("for"),c||"");for(b in d){d[b].decorate(a,c)}a.attr("role","alert")},_extractMessage:function(c,e){var b=this,d=b.options.messages[e],a=c.attr(Y);d=D.isFunction(d)?d(c):d;return D.format(c.attr(D.attr(e+"-msg"))||c.attr("validationMessage")||c.attr("title")||d||"",a,c.attr(e))},_checkValidity:function(c){var b=this.options.rules,a;for(a in b){if(!b[a](c)){return{valid:false,key:a}}}return{valid:true}},errors:function(){var b=[],a=this._errors,c;for(c in a){b.push(a[c])}return b}});D.ui.plugin(T)})(window.kendo.jQuery);kendo_module({id:"userevents",name:"User Events",category:"framework",depends:["core"],hidden:true});(function(c,b){var a=window.kendo,I=a.support,L=window.document,D=a.Class,R=a.Observable,S=c.now,N=c.extend,V=I.mobileOS,K=V&&V.android,J=800,M=I.browser.ie?5:0,G="press",e="hold",P="select",Q="start",f="move",W="end",O="cancel",U="tap",B="release",d="gesturestart",Z="gesturechange",T="gestureend",Y="gesturetap";function E(o,h){var i=o.x.location,j=o.y.location,k=h.x.location,l=h.y.location,n=i-k,m=j-l;return{center:{x:(i+k)/2,y:(j+l)/2},distance:Math.sqrt(n*n+m*m)}}function F(h){var m=[],n=h.originalEvent,k=h.currentTarget,j=0,o,l,i;if(h.api){m.push({id:2,event:h,target:h.target,currentTarget:h.target,location:h})}else{if(h.type.match(/touch/)){l=n?n.changedTouches:[];for(o=l.length;j<o;j++){i=l[j];m.push({location:i,event:h,target:i.target,currentTarget:k,id:i.identifier})}}else{if(I.pointers||I.msPointers){m.push({location:n,event:h,target:h.target,currentTarget:k,id:n.pointerId})}else{m.push({id:1,event:h,target:h.target,currentTarget:k,location:h})}}}return m}var A=D.extend({init:function(j,h){var i=this;i.axis=j;i._updateLocationData(h);i.startLocation=i.location;i.velocity=i.delta=0;i.timeStamp=S()},move:function(h){var i=this,k=h["page"+i.axis],j=S(),l=(j-i.timeStamp)||1;if(!k&&K){return}i.delta=k-i.location;i._updateLocationData(h);i.initialDelta=k-i.startLocation;i.velocity=i.delta/l;i.timeStamp=j},_updateLocationData:function(h){var i=this,j=i.axis;i.location=h["page"+j];i.client=h["client"+j];i.screen=h["screen"+j]}});var H=D.extend({init:function(k,j,h){var i=this;N(i,{x:new A("X",h.location),y:new A("Y",h.location),userEvents:k,target:j,currentTarget:h.currentTarget,initialTouch:h.target,id:h.id,_moved:false,_finished:false});i.press=function(){i._trigger(G,h);i._holdTimeout=setTimeout(function(){i._trigger(e,h)},k.minHold)}},move:function(i){var h=this;if(h._finished){return}h.x.move(i.location);h.y.move(i.location);if(!h._moved){if(h._withinIgnoreThreshold()){return}if(!C.current||C.current===h.userEvents){h._start(i)}else{return h.dispose()}}if(!h._finished){h._trigger(f,i)}},end:function(i){var h=this;h.endTime=S();if(h._finished){return}if(h._moved){h._trigger(W,i)}else{h._trigger(U,i)}clearTimeout(h._holdTimeout);h._trigger(B,i);h.dispose()},dispose:function(){var h=this,i=h.userEvents,j=i.touches;h._finished=true;j.splice(c.inArray(h,j),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(h){clearTimeout(this._holdTimeout);this.startTime=S();this._moved=true;this._trigger(Q,h)},_trigger:function(i,j){var h=this,k=j.event,l={touch:h,x:h.x,y:h.y,target:h.target,event:k};if(h.userEvents.notify(i,l)){k.preventDefault()}},_withinIgnoreThreshold:function(){var i=this.x.initialDelta,h=this.y.initialDelta;return Math.sqrt(i*i+h*h)<=this.userEvents.threshold}});function X(h){h.preventDefault();var i=c(h.data.root),k=i.closest(".k-widget").parent();if(!k[0]){k=i.parent()}var j=c.extend(true,{},h,{target:i[0]});k.trigger(c.Event(h.type,j))}function g(h){var j=a.eventMap.up.split(" "),k=0,i=j.length;for(;k<i;k++){h(j[k])}}var C=R.extend({init:function(m,k){var j=this,l,h=a.guid();k=k||{};l=j.filter=k.filter;j.threshold=k.threshold||M;j.minHold=k.minHold||J;j.touches=[];j._maxTouches=k.multiTouch?2:1;j.allowSelection=k.allowSelection;j.captureUpIfMoved=k.captureUpIfMoved;j.eventNS=h;m=c(m).handler(j);R.fn.init.call(j);N(j,{element:m,surface:k.global?c(L.documentElement):c(k.surface||m),stopPropagation:k.stopPropagation,pressed:false});j.surface.handler(j).on(a.applyEventMap("move",h),"_move").on(a.applyEventMap("up cancel",h),"_end");m.on(a.applyEventMap("down",h),l,"_start");if(I.pointers||I.msPointers){m.css("-ms-touch-action","pinch-zoom double-tap-zoom")}if(k.preventDragEvent){m.on(a.applyEventMap("dragstart",h),a.preventDefault)}m.on(a.applyEventMap("mousedown selectstart",h),l,{root:m},"_select");if(j.captureUpIfMoved&&I.eventCapture){var i=j.surface[0],n=c.proxy(j.preventIfMoving,j);g(function(o){i.addEventListener(o,n,true)})}j.bind([G,e,U,Q,f,W,B,O,d,Z,T,Y,P],k)},preventIfMoving:function(h){if(this._isMoved()){h.preventDefault()}},destroy:function(){var i=this;if(i._destroyed){return}i._destroyed=true;if(i.captureUpIfMoved&&I.eventCapture){var h=i.surface[0];g(function(j){h.removeEventListener(j,i.preventIfMoving)})}i.element.kendoDestroy(i.eventNS);i.surface.kendoDestroy(i.eventNS);i.element.removeData("handler");i.surface.removeData("handler");i._disposeAll();i.unbind();delete i.surface;delete i.element},capture:function(){C.current=this},cancel:function(){this._disposeAll();this.trigger(O)},notify:function(j,k){var i=this,h=i.touches;if(this._isMultiTouch()){switch(j){case f:j=Z;break;case W:j=T;break;case U:j=Y;break}N(k,{touches:h},E(h[0],h[1]))}return this.trigger(j,k)},press:function(h,i,j){this._apiCall("_start",h,i,j)},move:function(h,i){this._apiCall("_move",h,i)},end:function(h,i){this._apiCall("_end",h,i)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){var h=this.touches;while(h.length>0){h.pop().dispose()}},_isMoved:function(){return c.grep(this.touches,function(h){return h.isMoved()}).length},_select:function(h){if(!this.allowSelection||this.trigger(P,{event:h})){X(h)}},_start:function(h){var m=this,k=0,j=m.filter,o,n=F(h),l=n.length,i;if(m._maxTouchesReached()){return}C.current=null;m.currentTarget=h.currentTarget;if(m.stopPropagation){h.stopPropagation()}for(;k<l;k++){if(m._maxTouchesReached()){break}i=n[k];if(j){o=c(i.currentTarget)}else{o=m.element}if(!o.length){continue}i=new H(m,o,i);m.touches.push(i);i.press();if(m._isMultiTouch()){m.notify("gesturestart",{})}}},_move:function(h){this._eachTouch("move",h)},_end:function(h){this._eachTouch("end",h)},_eachTouch:function(p,h){var m=this,n={},o=F(h),l=m.touches,k,j,q,i;for(k=0;k<l.length;k++){j=l[k];n[j.id]=j}for(k=0;k<o.length;k++){q=o[k];i=n[q.id];if(i){i[p](q)}}},_apiCall:function(h,i,j,k){this[h]({api:true,pageX:i,pageY:j,clientX:i,clientY:j,target:k||this.element,stopPropagation:c.noop,preventDefault:c.noop})}});a.getTouches=F;a.touchDelta=E;a.UserEvents=C})(window.kendo.jQuery);kendo_module({id:"draganddrop",name:"Drag & drop",category:"framework",description:"Drag & drop functionality for any DOM element.",depends:["core","userevents"]});(function(a,b){var O=window.kendo,A=O.support,l=window.document,N=O.Class,K=O.ui.Widget,Y=O.Observable,L=O.UserEvents,t=a.proxy,q=a.extend,I=O.getOffset,D={},G={},p={},m,r=A.mobileOS,j=r&&r.android,Z=(j&&r.browser=="chrome"),k="keyup",d="change",T="dragstart",H="hold",i="drag",S="dragend",V="dragcancel",h="dragenter",C="dragleave",X="drop";function U(w,v){try{return a.contains(w,v)||w==v}catch(u){return false}}function o(u){if(Z){return l.elementFromPoint(u.x.screen,u.y.screen)}else{return l.elementFromPoint(u.x.client,u.y.client)}}function M(v,u){return parseInt(v.css(u),10)||0}function W(u,v){return Math.min(Math.max(u,v.min),v.max)}function E(x,z){var v=I(x),Aa=v.left+M(x,"borderLeftWidth")+M(x,"paddingLeft"),y=v.top+M(x,"borderTopWidth")+M(x,"paddingTop"),w=Aa+x.width()-z.outerWidth(true),u=y+x.height()-z.outerHeight(true);return{x:{min:Aa,max:w},y:{min:y,max:u}}}function F(Aa,z,w){var x,v,y=0,Ab=z&&z.length,u=w&&w.length;while(Aa&&Aa.parentNode){for(y=0;y<Ab;y++){x=z[y];if(x.element[0]===Aa){return{target:x,targetElement:Aa}}}for(y=0;y<u;y++){v=w[y];if(A.matchesSelector.call(Aa,v.options.filter)){return{target:v,targetElement:Aa}}}Aa=Aa.parentNode}return b}var f=Y.extend({init:function(x,v){var u=this,w=x[0];u.capture=false;if(w.addEventListener){a.each(O.eventMap.down.split(" "),function(){w.addEventListener(this,t(u._press,u),true)});a.each(O.eventMap.up.split(" "),function(){w.addEventListener(this,t(u._release,u),true)})}else{a.each(O.eventMap.down.split(" "),function(){w.attachEvent(this,t(u._press,u))});a.each(O.eventMap.up.split(" "),function(){w.attachEvent(this,t(u._release,u))})}Y.fn.init.call(u);u.bind(["press","release"],v||{})},captureNext:function(){this.capture=true},cancelCapture:function(){this.capture=false},_press:function(u){var v=this;v.trigger("press");if(v.capture){u.preventDefault()}},_release:function(u){var v=this;v.trigger("release");if(v.capture){u.preventDefault();v.cancelCapture()}}});var R=Y.extend({init:function(v){var u=this;Y.fn.init.call(u);u.forcedEnabled=false;a.extend(u,v);u.scale=1;if(u.horizontal){u.measure="offsetWidth";u.scrollSize="scrollWidth";u.axis="x"}else{u.measure="offsetHeight";u.scrollSize="scrollHeight";u.axis="y"}},makeVirtual:function(){a.extend(this,{virtual:true,forcedEnabled:true,_virtualMin:1000,_virtualMax:-1000})},virtualSize:function(u,v){if(this._virtualMin!==u||this._virtualMax!==v){this._virtualMin=u;this._virtualMax=v;this.update()}},outOfBounds:function(u){return u>this.max||u<this.min},forceEnabled:function(){this.forcedEnabled=true},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(u){this.scale=u},update:function(y){var v=this,w=v.virtual?v._virtualMax:v.getTotal(),x=w*v.scale,u=v.getSize();v.max=v.virtual?-v._virtualMin:0;v.size=u;v.total=x;v.min=Math.min(v.max,u-x);v.minScale=u/w;v.centerOffset=(x-u)/2;v.enabled=v.forcedEnabled||(x>u);if(!y){v.trigger(d,v)}}});var c=Y.extend({init:function(v){var u=this;Y.fn.init.call(u);u.x=new R(q({horizontal:true},v));u.y=new R(q({horizontal:false},v));u.container=v.container;u.forcedMinScale=v.minScale;u.maxScale=v.maxScale||100;u.bind(d,v)},rescale:function(u){this.x.rescale(u);this.y.rescale(u);this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var u=this;u.x.update();u.y.update();u.enabled=u.x.enabled||u.y.enabled;u.minScale=u.forcedMinScale||Math.min(u.x.minScale,u.y.minScale);u.fitScale=Math.max(u.x.minScale,u.y.minScale);u.trigger(d)}});var B=Y.extend({init:function(v){var u=this;q(u,v);Y.fn.init.call(u)},dragMove:function(v){var w=this,x=w.dimension,z=w.axis,y=w.movable,u=y[z]+v;if(!x.enabled){return}if((u<x.min&&v<0)||(u>x.max&&v>0)){v*=w.resistance}y.translateAxis(z,v);w.trigger(d,w)}});var J=N.extend({init:function(v){var u=this,w,z,Ab,Aa;q(u,{elastic:true},v);Ab=u.elastic?0.5:0;Aa=u.movable;u.x=w=new B({axis:"x",dimension:u.dimensions.x,resistance:Ab,movable:Aa});u.y=z=new B({axis:"y",dimension:u.dimensions.y,resistance:Ab,movable:Aa});u.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(x){u.gesture=x;u.offset=u.dimensions.container.offset()},gesturechange:function(Ac){var Aj=u.gesture,Ad=Aj.center,x=Ac.center,Ai=Ac.distance/Aj.distance,y=u.dimensions.minScale,Ae=u.dimensions.maxScale,Ah;if(Aa.scale<=y&&Ai<1){Ai+=(1-Ai)*0.8}if(Aa.scale*Ai>=Ae){Ai=Ae/Aa.scale}var Af=Aa.x+u.offset.left,Ag=Aa.y+u.offset.top;Ah={x:(Af-Ad.x)*Ai+x.x-Af,y:(Ag-Ad.y)*Ai+x.y-Ag};Aa.scaleWith(Ai);w.dragMove(Ah.x);z.dragMove(Ah.y);u.dimensions.rescale(Aa.scale);u.gesture=Ac;Ac.preventDefault()},move:function(x){if(x.event.target.tagName.match(/textarea|input/i)){return}if(w.dimension.enabled||z.dimension.enabled){w.dragMove(x.x.delta);z.dragMove(x.y.delta);x.preventDefault()}else{x.touch.skip()}},end:function(x){x.preventDefault()}})}});var e=A.transitions.prefix+"Transform",g;if(A.hasHW3D){g=function(u,v,w){return"translate3d("+u+"px,"+v+"px,0) scale("+w+")"}}else{g=function(u,v,w){return"translate("+u+"px,"+v+"px) scale("+w+")"}}var n=Y.extend({init:function(v){var u=this;Y.fn.init.call(u);u.element=a(v);u.element[0].style.webkitTransformOrigin="left top";u.x=0;u.y=0;u.scale=1;u._saveCoordinates(g(u.x,u.y,u.scale))},translateAxis:function(v,u){this[v]+=u;this.refresh()},scaleTo:function(u){this.scale=u;this.refresh()},scaleWith:function(u){this.scale*=u;this.refresh()},translate:function(u){this.x+=u.x;this.y+=u.y;this.refresh()},moveAxis:function(v,u){this[v]=u;this.refresh()},moveTo:function(u){q(this,u);this.refresh()},refresh:function(){var u=this,v=u.x,w=u.y,z;if(u.round){v=Math.round(v);w=Math.round(w)}z=g(v,w,u.scale);if(z!=u.coordinates){if(O.support.browser.msie&&O.support.browser.version<10){u.element[0].style.position="absolute";u.element[0].style.left=u.x+"px";u.element[0].style.top=u.y+"px"}else{u.element[0].style[e]=z}u._saveCoordinates(z);u.trigger(d)}},_saveCoordinates:function(u){this.coordinates=u}});var s=K.extend({init:function(x,w){var v=this;K.fn.init.call(v,x,w);var u=v.options.group;if(!(u in G)){G[u]=[v]}else{G[u].push(v)}},events:[h,C,X],options:{name:"DropTarget",group:"default"},destroy:function(){var u=this.options.group,v=G[u]||p[u],w;if(v.length>1){K.fn.destroy.call(this);for(w=0;w<v.length;w++){if(v[w]==this){v.splice(w,1);break}}}else{s.destroyGroup(u)}},_trigger:function(x,v){var w=this,u=D[w.options.group];if(u){return w.trigger(x,q({},v.event,{draggable:u,dropTarget:v.dropTarget}))}},_over:function(u){this._trigger(h,u)},_out:function(u){this._trigger(C,u)},_drop:function(v){var w=this,u=D[w.options.group];if(u){u.dropped=!w._trigger(X,v)}}});s.destroyGroup=function(u){var v=G[u]||p[u],w;if(v){for(w=0;w<v.length;w++){K.fn.destroy.call(v[w])}v.length=0;delete G[u];delete p[u]}};s._cache=G;var Q=s.extend({init:function(x,w){var v=this;K.fn.init.call(v,x,w);var u=v.options.group;if(!(u in p)){p[u]=[v]}else{p[u].push(v)}},options:{name:"DropTargetArea",group:"default",filter:null}});var P=K.extend({init:function(w,v){var u=this;K.fn.init.call(u,w,v);u._activated=false;u.userEvents=new L(u.element,{global:true,stopPropagation:true,filter:u.options.filter,threshold:u.options.distance,start:t(u._start,u),hold:t(u._hold,u),move:t(u._drag,u),end:t(u._end,u),cancel:t(u._cancel,u)});u._afterEndHandler=t(u._afterEnd,u);u.captureEscape=function(x){if(x.keyCode===O.keys.ESC){u._trigger(V,{event:x});u.userEvents.cancel()}}},events:[H,T,i,S,V],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,holdToDrag:false,dropped:false},cancelHold:function(){this._activated=false},_updateHint:function(v){var w=this,Aa,x=w.options,u=w.boundaries,z=x.axis,y=w.options.cursorOffset;if(y){Aa={left:v.x.location+y.left,top:v.y.location+y.top}}else{w.hintOffset.left+=v.x.delta;w.hintOffset.top+=v.y.delta;Aa=a.extend({},w.hintOffset)}if(u){Aa.top=W(Aa.top,u.y);Aa.left=W(Aa.left,u.x)}if(z==="x"){delete Aa.top}else{if(z==="y"){delete Aa.left}}w.hint.css(Aa)},_start:function(w){var x=this,y=x.options,z=y.container,u=y.hint;if(y.holdToDrag&&!x._activated){x.userEvents.cancel();return}x.currentTarget=w.target;x.currentTargetOffset=I(x.currentTarget);if(u){if(x.hint){x.hint.stop(true,true).remove()}x.hint=O.isFunction(u)?a(u.call(x,x.currentTarget)):u;var v=I(x.currentTarget);x.hintOffset=v;x.hint.css({position:"absolute",zIndex:20000,left:v.left,top:v.top}).appendTo(l.body)}D[y.group]=x;x.dropped=false;if(z){x.boundaries=E(z,x.hint)}if(x._trigger(T,w)){x.userEvents.cancel();x._afterEnd()}a(l).on(k,x.captureEscape)},_hold:function(u){this.currentTarget=u.target;if(this._trigger(H,u)){this.userEvents.cancel()}else{this._activated=true}},_drag:function(u){var v=this;u.preventDefault();v._withDropTarget(u,function(x,w){if(!x){if(m){m._trigger(C,q(u,{dropTarget:a(m.targetElement)}));m=null}return}if(m){if(w===m.targetElement){return}m._trigger(C,q(u,{dropTarget:a(m.targetElement)}))}x._trigger(h,q(u,{dropTarget:a(w)}));m=q(x,{targetElement:w})});v._trigger(i,u);if(v.hint){v._updateHint(u)}},_end:function(u){var v=this;v._withDropTarget(u,function(x,w){if(x){x._drop(q({},u,{dropTarget:a(w)}));m=null}});v._trigger(S,u);v._cancel(u.event)},_cancel:function(){var u=this;u._activated=false;if(u.hint&&!u.dropped){setTimeout(function(){u.hint.stop(true,true).animate(u.currentTargetOffset,"fast",u._afterEndHandler)},0)}else{u._afterEnd()}},_trigger:function(w,u){var v=this;return v.trigger(w,q({},u.event,{x:u.x,y:u.y,currentTarget:v.currentTarget,dropTarget:u.dropTarget}))},_withDropTarget:function(u,w){var y=this,Ab,v,z=y.options,Aa=G[z.group],x=p[z.group];if(Aa&&Aa.length||x&&x.length){Ab=o(u);if(y.hint&&U(y.hint[0],Ab)){y.hint.hide();Ab=o(u);if(!Ab){Ab=o(u)}y.hint.show()}v=F(Ab,Aa,x);if(v){w(v.target,v.targetElement)}else{w()}}},destroy:function(){var u=this;K.fn.destroy.call(u);u._afterEnd();u.userEvents.destroy()},_afterEnd:function(){var u=this;if(u.hint){u.hint.remove()}delete D[u.options.group];u.trigger("destroy");a(l).off(k,u.captureEscape)}});O.ui.plugin(s);O.ui.plugin(Q);O.ui.plugin(P);O.TapCapture=f;O.containerBoundaries=E;q(O.ui,{Pane:J,PaneDimensions:c,Movable:n})})(window.kendo.jQuery);kendo_module({id:"mobile.scroller",name:"Scroller",category:"mobile",description:"The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.",depends:["core","fx","draganddrop"]});(function(R,S){var N=window.kendo,f=N.mobile,Z=N.effects,T=f.ui,O=R.proxy,g=R.extend,L=T.Widget,M=N.Class,A=N.ui.Movable,K=N.ui.Pane,P=N.ui.PaneDimensions,Q=Z.Transition,J=Z.Animation,c=Math.abs,E=500,W=0.7,V=0.96,Y=10,D=55,a=0.5,h=5,B="km-scroller-release",e="km-scroller-refresh",b="pull",U="change",X="resize",H="scroll";var F=J.extend({init:function(j){var i=this;J.fn.init.call(i);g(i,j);i.userEvents.bind("gestureend",O(i.start,i));i.tapCapture.bind("press",O(i.cancel,i))},done:function(){return this.dimensions.minScale-this.movable.scale<0.01},tick:function(){var i=this.movable;i.scaleWith(1.1);this.dimensions.rescale(i.scale)},onEnd:function(){var i=this.movable;i.scaleTo(this.dimensions.minScale);this.dimensions.rescale(i.scale)}});var I=J.extend({init:function(j){var i=this;J.fn.init.call(i);g(i,j,{transition:new Q({axis:j.axis,movable:j.movable,onEnd:function(){i._end()}})});i.tapCapture.bind("press",function(){i.cancel()});i.userEvents.bind("end",O(i.start,i));i.userEvents.bind("gestureend",O(i.start,i));i.userEvents.bind("tap",O(i.onEnd,i))},onCancel:function(){this.transition.cancel()},freeze:function(i){var j=this;j.cancel();j._moveTo(i)},onEnd:function(){var i=this;if(i._outOfBounds()){i._snapBack()}else{i._end()}},done:function(){return c(this.velocity)<1},start:function(i){var j=this;if(!j.dimension.enabled){return}if(j._outOfBounds()){j._snapBack()}else{j.velocity=Math.max(Math.min(i.touch[j.axis].velocity*j.velocityMultiplier,D),-D);if(j.velocity){j.tapCapture.captureNext();J.fn.start.call(j)}else{j._end()}}},tick:function(){var l=this,k=l.dimension,m=l._outOfBounds()?a:l.friction,i=(l.velocity*=m),j=l.movable[l.axis]+i;if(!l.elastic&&k.outOfBounds(j)){j=Math.max(Math.min(j,k.max),k.min);l.velocity=0}l.movable.moveAxis(l.axis,j)},_end:function(){this.tapCapture.cancelCapture();this.end()},_outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},_snapBack:function(){var j=this,i=j.dimension,k=j.movable[j.axis]>i.max?i.max:i.min;j._moveTo(k)},_moveTo:function(i){this.transition.moveTo({location:i,duration:E,ease:Q.easeOutExpo})}});var C=J.extend({init:function(j){var i=this;N.effects.Animation.fn.init.call(this);g(i,j,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates();this.moveTo(this.origin)},done:function(){return c(this.offset.y)<h&&c(this.offset.x)<h},onEnd:function(){this.moveTo(this.destination)},setCoordinates:function(i,j){this.offset={};this.origin=i;this.destination=j},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4};this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}});var d=M.extend({init:function(j){var i=this,k=j.axis==="x",l=R('<div class="km-touch-scrollbar km-'+(k?"horizontal":"vertical")+'-scrollbar" />');g(i,j,{element:l,elementSize:0,movable:new A(l),scrollMovable:j.movable,size:k?"width":"height"});i.scrollMovable.bind(U,O(i._move,i));i.container.append(l)},_move:function(){var n=this,j=n.axis,k=n.dimension,i=k.size,p=n.scrollMovable,m=i/k.total,o=Math.round(-p[j]*m),l=Math.round(i*m);if(o+l>i){l=i-o}else{if(o<0){l+=o;o=0}}if(n.elementSize!=l){n.element.css(n.size,l+"px");n.elementSize=l}n.movable.moveAxis(j,o)},show:function(){this.element.css({opacity:W,visibility:"visible"})},hide:function(){this.element.css({opacity:0})}});var G=L.extend({init:function(k,q){var p=this;L.fn.init.call(p,k,q);k=p.element;p._native=p.options.useNative&&N.support.hasNativeScrolling;if(p._native){k.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>');g(p,{scrollElement:k,fixedContainer:k.children().first()});return}k.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var l=k.children().eq(1),r=new N.TapCapture(k),s=new A(l),i=new P({element:l,container:k,forcedEnabled:p.options.zoom}),n=this.options.avoidScrolling,m=new N.UserEvents(k,{allowSelection:true,preventDragEvent:true,captureUpIfMoved:true,multiTouch:p.options.zoom,start:function(v){i.refresh();var y=c(v.x.velocity),x=c(v.y.velocity),u=y*2>=x,w=x*2>=y;if(!n(v)&&p.enabled&&(i.x.enabled&&u||i.y.enabled&&w)){m.capture()}else{m.cancel()}}}),t=new K({movable:s,dimensions:i,userEvents:m,elastic:p.options.elastic}),j=new F({movable:s,dimensions:i,userEvents:m,tapCapture:r}),o=new C({moveTo:function(u){p.scrollTo(u.x,u.y)}});s.bind(U,function(){p.scrollTop=-s.y;p.scrollLeft=-s.x;p.trigger(H,{scrollTop:p.scrollTop,scrollLeft:p.scrollLeft})});g(p,{movable:s,dimensions:i,zoomSnapBack:j,animatedScroller:o,userEvents:m,pane:t,tapCapture:r,pulled:false,enabled:true,scrollElement:l,scrollTop:0,scrollLeft:0,fixedContainer:k.children().first()});p._initAxis("x");p._initAxis("y");i.refresh();if(p.options.pullToRefresh){p._initPullToRefresh()}},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(i,j){this.dimensions.y.virtualSize(i,j)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:false,pullOffset:140,elastic:true,useNative:false,avoidScrolling:function(){return false},pullToRefresh:false,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},events:[b,H,X],_resize:function(){if(!this._native){this.dimensions.refresh()}this.reset()},setOptions:function(j){var i=this;L.fn.setOptions.call(i,j);if(j.pullToRefresh){i._initPullToRefresh()}},reset:function(){if(this._native){this.scrollElement.scrollTop(0)}else{this.movable.moveTo({x:0,y:0});this._scale(1)}},zoomOut:function(){var i=this.dimensions;i.refresh();this._scale(i.fitScale);this.movable.moveTo(i.centerCoordinates())},enable:function(){this.enabled=true},disable:function(){this.enabled=false},scrollTo:function(i,j){if(this._native){this.scrollElement.scrollLeft(i);this.scrollElement.scrollTop(j)}else{this.dimensions.refresh();this.movable.moveTo({x:i,y:j})}},animatedScrollTo:function(k,l){var i={x:this.movable.x,y:this.movable.y},j={x:k,y:l};this.animatedScroller.setCoordinates(i,j);this.animatedScroller.start()},pullHandled:function(){var i=this;i.refreshHint.removeClass(e);i.hintContainer.html(i.pullTemplate({}));i.yinertia.onEnd();i.xinertia.onEnd()},destroy:function(){L.fn.destroy.call(this);if(this.userEvents){this.userEvents.destroy()}},_scale:function(i){this.dimensions.rescale(i);this.movable.scaleTo(i)},_initPullToRefresh:function(){var i=this;i.dimensions.y.forceEnabled();i.pullTemplate=N.template(i.options.pullTemplate);i.releaseTemplate=N.template(i.options.releaseTemplate);i.refreshTemplate=N.template(i.options.refreshTemplate);i.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+i.pullTemplate({})+"</span></span>");i.refreshHint=i.scrollElement.children().first();i.hintContainer=i.refreshHint.children(".km-template");i.pane.y.bind("change",O(i._paneChange,i));i.userEvents.bind("end",O(i._dragEnd,i))},_dragEnd:function(){var i=this;if(!i.pulled){return}i.pulled=false;i.refreshHint.removeClass(B).addClass(e);i.hintContainer.html(i.refreshTemplate({}));i.yinertia.freeze(i.options.pullOffset/2);i.trigger("pull")},_paneChange:function(){var i=this;if(i.movable.y/a>i.options.pullOffset){if(!i.pulled){i.pulled=true;i.refreshHint.removeClass(e).addClass(B);i.hintContainer.html(i.releaseTemplate({}))}}else{if(i.pulled){i.pulled=false;i.refreshHint.removeClass(B);i.hintContainer.html(i.pullTemplate({}))}}},_initAxis:function(n){var j=this,l=j.movable,i=j.dimensions[n],k=j.tapCapture,m=new d({axis:n,movable:l,dimension:i,container:j.element});j.pane[n].bind(U,function(){m.show()});j[n+"inertia"]=new I({axis:n,movable:l,tapCapture:k,userEvents:j.userEvents,dimension:i,elastic:j.options.elastic,friction:j.options.friction||V,velocityMultiplier:j.options.velocityMultiplier||Y,end:function(){m.hide();j.trigger("scrollEnd",{axis:n,scrollTop:j.scrollTop,scrollLeft:j.scrollLeft})}})}});T.plugin(G)})(window.kendo.jQuery);kendo_module({id:"groupable",name:"Groupable",category:"framework",depends:["core","draganddrop"],advanced:true});(function(L,A){var C=window.kendo,K=C.ui.Widget,D=L.proxy,I=false,G=".kendoGroupable",M=C.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:false}),F=function(N){return L('<div class="k-header k-drag-clue" />').css({width:N.width(),paddingLeft:N.css("paddingLeft"),paddingRight:N.css("paddingRight"),lineHeight:N.height()+"px",paddingTop:N.css("paddingTop"),paddingBottom:N.css("paddingBottom")}).html(N.attr(C.attr("title"))||N.attr(C.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},J=L('<div class="k-grouping-dropclue"/>'),E=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g;function B(N){return N.position().top+3}var H=K.extend({init:function(N,R){var Q=this,S,T=C.guid(),V=D(Q._intializePositions,Q),O,U,P=Q._dropCuePositions=[];K.fn.init.call(Q,N,R);I=C.support.isRtl(N);U=I?"right":"left";Q.draggable=O=Q.options.draggable||new C.ui.Draggable(Q.element,{filter:Q.options.draggableElements,hint:F,group:T});S=Q.groupContainer=L(Q.options.groupContainer,Q.element).kendoDropTarget({group:O.options.group,dragenter:function(W){if(Q._canDrag(W.draggable.currentTarget)){W.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add");J.css("top",B(S)).css(U,0).appendTo(S)}},dragleave:function(W){W.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied");J.remove()},drop:function(W){var X=W.draggable.currentTarget,b=X.attr(C.attr("field")),d=X.attr(C.attr("title")),c=Q.indicator(b),Z=Q._dropCuePositions,a=Z[Z.length-1],Y;if(!X.hasClass("k-group-indicator")&&!Q._canDrag(X)){return}if(a){Y=Q._dropCuePosition(C.getOffset(J).left+parseInt(a.element.css("marginLeft"),10)*(I?-1:1)+parseInt(a.element.css("marginRight"),10));if(Y&&Q._canDrop(L(c),Y.element,Y.left)){if(Y.before){Y.element.before(c||Q.buildIndicator(b,d))}else{Y.element.after(c||Q.buildIndicator(b,d))}Q._change()}}else{Q.groupContainer.append(Q.buildIndicator(b,d));Q._change()}}}).kendoDraggable({filter:"div.k-group-indicator",hint:F,group:O.options.group,dragcancel:D(Q._dragCancel,Q),dragstart:function(W){var a=W.currentTarget,Z=parseInt(a.css("marginLeft"),10),Y=a.position(),X=I?Y.left-Z:Y.left+a.outerWidth();V();J.css({top:B(S),left:X}).appendTo(S);this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){Q._dragEnd(this)},drag:D(Q._drag,Q)}).on("click"+G,".k-button",function(W){W.preventDefault();Q._removeIndicator(L(this).parent())}).on("click"+G,".k-link",function(W){var Y=L(this).parent(),X=Q.buildIndicator(Y.attr(C.attr("field")),Y.attr(C.attr("title")),Y.attr(C.attr("dir"))=="asc"?"desc":"asc");Y.before(X).remove();Q._change();W.preventDefault()});O.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){Q._dragEnd(this)},dragcancel:D(Q._dragCancel,Q),dragstart:function(W){var Y,Z,X;if(!Q.options.allowDrag&&!Q._canDrag(W.currentTarget)){W.preventDefault();return}V();if(P.length){Y=P[P.length-1].element;Z=parseInt(Y.css("marginRight"),10);X=Y.position().left+Y.outerWidth()+Z}else{X=0}},drag:D(Q._drag,Q)});Q.dataSource=Q.options.dataSource;if(Q.dataSource){Q._refreshHandler=D(Q.refresh,Q);Q.dataSource.bind("change",Q._refreshHandler)}},refresh:function(){var N=this,O=N.dataSource;N.groupContainer.empty().append(L.map(O.group()||[],function(P){var Q=P.field.replace(E,"\\$1");var R=N.element.find(N.options.filter).filter("["+C.attr("field")+"="+Q+"]");return N.buildIndicator(P.field,R.attr(C.attr("title")),P.dir)}).join(""));N._invalidateGroupContainer()},destroy:function(){var N=this;K.fn.destroy.call(N);N.groupContainer.off(G).kendoDropTarget("destroy").kendoDraggable("destroy");if(!N.options.draggable){N.draggable.destroy()}if(N.dataSource&&N._refreshHandler){N.dataSource.unbind("change",N._refreshHandler)}},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{}},indicator:function(N){var O=L(".k-group-indicator",this.groupContainer);return L.grep(O,function(P){return L(P).attr(C.attr("field"))===N})[0]},buildIndicator:function(P,O,N){return M({field:P.replace(/"/g,"'"),dir:N,title:O,ns:C.ns})},descriptors:function(){var P=this,R=L(".k-group-indicator",P.groupContainer),N,S,Q,T,O;N=P.element.find(P.options.filter).map(function(){var U=L(this),V=U.attr(C.attr("aggregates")),W=U.attr(C.attr("field"));if(V&&V!==""){S=V.split(",");V=[];for(T=0,O=S.length;T<O;T++){V.push({field:W,aggregate:S[T]})}}return V}).toArray();return L.map(R,function(U){U=L(U);Q=U.attr(C.attr("field"));return{field:Q,dir:U.attr(C.attr("dir")),aggregates:N||[]}})},_removeIndicator:function(N){var O=this;N.remove();O._invalidateGroupContainer();O._change()},_change:function(){var N=this;if(N.dataSource){N.dataSource.group(N.descriptors())}},_dropCuePosition:function(Q){var S=this._dropCuePositions;if(!J.is(":visible")||S.length===0){return}Q=Math.ceil(Q);var P=S[S.length-1],O=P.left,N=P.right,R=parseInt(P.element.css("marginLeft"),10),T=parseInt(P.element.css("marginRight"),10);if(Q>=N&&!I||Q<O&&I){Q={left:P.element.position().left+(!I?P.element.outerWidth()+T:-R),element:P.element,before:false}}else{Q=L.grep(S,function(U){return(U.left<=Q&&Q<=U.right)||(I&&Q>U.right)})[0];if(Q){Q={left:I?Q.element.position().left+Q.element.outerWidth()+T:Q.element.position().left-R,element:Q.element,before:true}}}return Q},_drag:function(O){var N=this._dropCuePosition(O.x.location);if(N){J.css({left:N.left,right:"auto"})}},_canDrag:function(O){var N=O.attr(C.attr("field"));return O.attr(C.attr("groupable"))!="false"&&N&&(O.hasClass("k-group-indicator")||!this.indicator(N))},_canDrop:function(N,R,P){var O=N.next(),Q=N[0]!==R[0]&&(!O[0]||R[0]!==O[0]||(!I&&P>O.position().left||I&&P<O.position().left));return Q},_dragEnd:function(N){var O=this,P=N.currentTarget.attr(C.attr("field")),Q=O.indicator(P);if(N!==O.options.draggable&&!N.dropped&&Q){O._removeIndicator(L(Q))}O._dragCancel()},_dragCancel:function(){J.remove();this._dropCuePositions=[]},_intializePositions:function(){var O=this,P=L(".k-group-indicator",O.groupContainer),N;O._dropCuePositions=L.map(P,function(Q){Q=L(Q);N=C.getOffset(Q).left;return{left:parseInt(N,10),right:parseInt(N+Q.outerWidth(),10),element:Q}})},_invalidateGroupContainer:function(){var N=this.groupContainer;if(N.is(":empty")){N.html(this.options.messages.empty)}}});C.ui.plugin(H)})(window.kendo.jQuery);kendo_module({id:"reorderable",name:"Reorderable",category:"framework",depends:["core","draganddrop"],advanced:true});(function(G,A){var H=window.kendo,F=H.ui.Widget,E="change",C="k-reorderable";function B(I,J){I=G(I);if(J){I.find(".k-drag-status").removeClass("k-add").addClass("k-denied")}else{I.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}}var D=F.extend({init:function(M,L){var J=this,I,K=H.guid()+"-reorderable";F.fn.init.call(J,M,L);M=J.element.addClass(C);L=J.options;J.draggable=I=L.draggable||new H.ui.Draggable(M,{group:K,filter:L.filter,hint:L.hint});J.reorderDropCue=G('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>');M.find(I.options.filter).kendoDropTarget({group:I.options.group,dragenter:function(O){if(!J._draggable){return}var P=this.element,N,Q=P[0]===J._draggable[0];B(O.draggable.hint,Q);if(!Q){N=H.getOffset(P);J.reorderDropCue.css({height:P.outerHeight(),top:N.top,left:N.left+(P.index()>J._draggable.index()?P.outerWidth():0)}).appendTo(document.body)}},dragleave:function(N){B(N.draggable.hint,true);J.reorderDropCue.remove()},drop:function(){if(!J._draggable){return}var N=J._draggable[0],O=this.element[0],P;if(N!==O){P=M.find(I.options.filter);J.trigger(E,{element:J._draggable,oldIndex:P.index(N),newIndex:P.index(O)})}}});I.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){J.reorderDropCue.remove();J._draggable=null},dragend:function(){J.reorderDropCue.remove();J._draggable=null},dragstart:function(N){J._draggable=N.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:[E],destroy:function(){var I=this;F.fn.destroy.call(I);if(I.draggable){I.draggable.destroy()}H.destroy(I.element)}});H.ui.plugin(D)})(window.kendo.jQuery);kendo_module({id:"resizable",name:"Resizable",category:"framework",depends:["core","draganddrop"],advanced:true});(function(K,A){var C=window.kendo,N=C.ui,J=N.Widget,D=K.proxy,F=C.isFunction,G=K.extend,I="horizontal",H="vertical",B="start",E="resize",M="resizeend";var L=J.extend({init:function(Q,P){var O=this;J.fn.init.call(O,Q,P);O.orientation=O.options.orientation.toLowerCase()!=H?I:H;O._positionMouse=O.orientation==I?"x":"y";O._position=O.orientation==I?"left":"top";O._sizingDom=O.orientation==I?"outerWidth":"outerHeight";O.draggable=new N.Draggable(Q,{distance:0,filter:P.handle,drag:D(O._resize,O),dragcancel:D(O._cancel,O),dragstart:D(O._start,O),dragend:D(O._stop,O)});O.userEvents=O.draggable.userEvents},events:[E,M,B],options:{name:"Resizable",orientation:I},resize:function(){},_max:function(P){var Q=this,O=Q.hint?Q.hint[Q._sizingDom]():0,R=Q.options.max;return F(R)?R(P):R!==A?(Q._initialElementPosition+R)-O:R},_min:function(P){var Q=this,O=Q.options.min;return F(O)?O(P):O!==A?Q._initialElementPosition+O:O},_start:function(P){var Q=this,O=Q.options.hint,R=K(P.currentTarget);Q._initialElementPosition=R.position()[Q._position];Q._initialMousePosition=P[Q._positionMouse].startLocation;if(O){Q.hint=F(O)?K(O(R)):O;Q.hint.css({position:"absolute"}).css(Q._position,Q._initialElementPosition).appendTo(Q.element)}Q.trigger(B,P);Q._maxPosition=Q._max(P);Q._minPosition=Q._min(P);K(document.body).css("cursor",R.css("cursor"))},_resize:function(Q){var R=this,O=K(Q.currentTarget),S=R._maxPosition,U=R._minPosition,P=R._initialElementPosition+(Q[R._positionMouse].location-R._initialMousePosition),T;T=U!==A?Math.max(U,P):P;R.position=T=S!==A?Math.min(S,T):T;if(R.hint){R.hint.toggleClass(R.options.invalidClass||"",T==S||T==U).css(R._position,T)}R.resizing=true;R.trigger(E,G(Q,{position:T}))},_stop:function(O){var P=this;if(P.hint){P.hint.remove()}P.resizing=false;P.trigger(M,G(O,{position:P.position}));K(document.body).css("cursor","")},_cancel:function(O){var P=this;if(P.hint){P.position=A;P.hint.css(P._position,P._initialElementPosition);P._stop(O)}},destroy:function(){var O=this;J.fn.destroy.call(O);if(O.draggable){O.draggable.destroy()}},press:function(Q){if(!Q){return}var P=Q.position(),O=this;O.userEvents.press(P.left,P.top,Q[0]);O.targetPosition=P;O.target=Q},move:function(P){var Q=this,O=Q._position,R=Q.targetPosition,S=Q.position;if(S===A){S=R[O]}R[O]=S+P;Q.userEvents.move(R.left,R.top)},end:function(){this.userEvents.end();this.target=this.position=A}});C.ui.plugin(L)})(window.kendo.jQuery);kendo_module({id:"sortable",name:"Sortable",category:"framework",depends:["data"],advanced:true});(function(M,A){var C=window.kendo,D=M.proxy,B="dir",J="asc",G="single",E="field",L="desc",F=".kendoSortable",H=".k-link",I="aria-sort",K=C.ui.Widget;var N=K.extend({init:function(R,P){var O=this,Q;K.fn.init.call(O,R,P);O._refreshHandler=D(O.refresh,O);O.dataSource=O.options.dataSource.bind("change",O._refreshHandler);Q=O.element.find(H);if(!Q[0]){Q=O.element.wrapInner('<a class="k-link" href="#"/>').find(H)}O.link=Q;O.element.on("click"+F,D(O._click,O))},options:{name:"Sortable",mode:G,allowUnsort:true,compare:null,filter:""},destroy:function(){var O=this;K.fn.destroy.call(O);O.element.off(F);O.dataSource.unbind("change",O._refreshHandler)},refresh:function(){var T=this,V=T.dataSource.sort()||[],R,S,Q,P,O=T.element,U=O.attr(C.attr(E));O.removeAttr(C.attr(B));O.removeAttr(I);for(R=0,S=V.length;R<S;R++){Q=V[R];if(U==Q.field){O.attr(C.attr(B),Q.dir)}}P=O.attr(C.attr(B));O.find(".k-i-arrow-n,.k-i-arrow-s").remove();if(P===J){M('<span class="k-icon k-i-arrow-n" />').appendTo(T.link);O.attr(I,"ascending")}else{if(P===L){M('<span class="k-icon k-i-arrow-s" />').appendTo(T.link);O.attr(I,"descending")}}},_click:function(O){var V=this,P=V.element,W=P.attr(C.attr(E)),Q=P.attr(C.attr(B)),R=V.options,U=V.options.compare,X=V.dataSource.sort()||[],S,T;O.preventDefault();if(R.filter&&!P.is(R.filter)){return}if(Q===J){Q=L}else{if(Q===L&&R.allowUnsort){Q=A}else{Q=J}}if(R.mode===G){X=[{field:W,dir:Q,compare:U}]}else{if(R.mode==="multiple"){for(S=0,T=X.length;S<T;S++){if(X[S].field===W){X.splice(S,1);break}}X.push({field:W,dir:Q,compare:U})}}V.dataSource.sort(X)}});C.ui.plugin(N)})(window.kendo.jQuery);kendo_module({id:"selectable",name:"Selectable",category:"framework",depends:["core","userevents"],advanced:true});(function(O,N){var G=window.kendo,M=G.ui.Widget,F=O.proxy,K=Math.abs,L="aria-selected",D="k-state-selected",Q="k-state-selecting",J="k-selectable",B="change",I=".kendoSelectable",A="k-state-unselecting",E=false;(function(R){(function(){R('<div class="parent"><span /></div>').on("click",">*",function(){E=true}).find("span").click().end().off()})()})(O);var P=M.extend({init:function(U,T){var S=this,R;M.fn.init.call(S,U,T);S._marquee=O("<div class='k-marquee'><div class='k-marquee-color'></div></div>");S._lastActive=null;S.element.addClass(J);R=S.options.multiple;S.userEvents=new G.UserEvents(S.element,{global:true,allowSelection:true,filter:(!E?"."+J+" ":"")+S.options.filter,tap:F(S._tap,S)});if(R){S.userEvents.bind("start",F(S._start,S)).bind("move",F(S._move,S)).bind("end",F(S._end,S)).bind("select",F(S._select,S))}},events:[B],options:{name:"Selectable",filter:">*",multiple:false},_tap:function(T){var Y=O(T.target),S=this,Z=T.event.ctrlKey||T.event.metaKey,X=S.options.multiple,R=X&&T.event.shiftKey,W,U=T.event.which,V=T.event.button;if(Y.closest("."+J)[0]!==S.element[0]||U&&U==3||V&&V==2){return}W=Y.hasClass(D);if(!X||!Z){S.clear()}if(R){S.selectRange(S._firstSelectee(),Y)}else{if(W&&Z){S._unselect(Y);S._notify(B)}else{S.value(Y)}S._lastActive=S._downTarget=Y}},_start:function(R){var S=this,U=O(R.target),V=U.hasClass(D),T=R.event.ctrlKey||R.event.metaKey;S._downTarget=U;if(U.closest("."+J)[0]!==S.element[0]){S.userEvents.cancel();S._downTarget=null;return}S._marquee.appendTo(document.body).css({left:R.x.client+1,top:R.y.client+1,width:0,height:0});if(!T){S.clear()}if(V){S._selectElement(U,true);if(T){U.addClass(A)}}},_move:function(R){var S=this,T={left:R.x.startLocation>R.x.location?R.x.location:R.x.startLocation,top:R.y.startLocation>R.y.location?R.y.location:R.y.startLocation,width:K(R.x.initialDelta),height:K(R.y.initialDelta)},U=S.element.find(S.options.filter);S._marquee.css(T);H(U,S._downTarget[0],T,(R.event.ctrlKey||R.event.metaKey));R.preventDefault()},_end:function(){var R=this;R._marquee.remove();R._unselect(R.element.find(R.options.filter+"."+A)).removeClass(A);R.value(R.element.find(R.options.filter+"."+Q));R._lastActive=R._downTarget},value:function(T){var S=this,R=F(S._selectElement,S);if(T){T.each(function(){R(this)});S._notify(B);return}return S.element.find(S.options.filter+"."+D)},_firstSelectee:function(){var R=this,S;if(R._lastActive!==null){return R._lastActive}S=R.value();return S.length>0?S[0]:R.element.find(R.options.filter)},_selectElement:function(T,S){var U=O(T),R=!S&&this._notify("select",{element:T});U.removeClass(Q);if(!R){U.addClass(D);if(this.options.aria){U.attr(L,true)}}},_notify:function(R,S){S=S||{};return this.trigger(R,S)},_unselect:function(R){R.removeClass(D);if(this.options.aria){R.attr(L,false)}return R},_select:function(R){var T="input,a,textarea,.k-multiselect-wrap,select",S=G.support.browser.msie;if(O(R.event.target).is(T)){this.userEvents.cancel();this._downTarget=null}else{if(!S||(S&&!O(G._activeElement()).is(T))){R.preventDefault()}}},clear:function(){var R=this.element.find(this.options.filter+"."+D);this._unselect(R)},selectRange:function(S,T){var Z=this,X=false,V,W,U,Y,a=Z.element.find(Z.options.filter),R=F(Z._selectElement,Z);S=O(S)[0];T=O(T)[0];for(V=0,W=a.length;V<W;V++){Y=a[V];if(X){R(Y);X=Y!==T}else{if(Y===S){X=S!==T;R(Y)}else{if(Y===T){U=S;S=T;T=U;X=true;R(Y)}else{O(Y).removeClass(D)}}}}Z._notify(B)},destroy:function(){var R=this;M.fn.destroy.call(R);R.element.off(I);R.userEvents.destroy()}});function C(U,S){var T=G.getOffset(U),R=S.left+S.width,V=S.top+S.height;T.right=T.left+U.outerWidth();T.bottom=T.top+U.outerHeight();return !(T.left>R||T.right<S.left||T.top>V||T.bottom<S.top)}function H(V,W,U,X){var S,R,T;for(S=0,R=V.length;S<R;S++){T=V.eq(S);if(C(T,U)){if(T.hasClass(D)){if(X&&W!==T[0]){T.removeClass(D).addClass(A)}}else{if(!T.hasClass(Q)&&!T.hasClass(A)){T.addClass(Q)}}}else{if(T.hasClass(Q)){T.removeClass(Q)}else{if(X&&T.hasClass(A)){T.removeClass(A).addClass(D)}}}}}G.ui.plugin(P)})(window.kendo.jQuery);kendo_module({id:"button",name:"Button",category:"web",description:"The Button widget displays styled buttons.",depends:["core"]});(function(M,A){var B=window.kendo,J=B.ui.Widget,C=M.proxy,K=B.keys,N="click",O="k-button",D="k-button-icon",I="k-button-icontext",E=".kendoButton",H="disabled",F="k-state-disabled",L="k-state-focused",P="k-state-selected";var G=J.extend({init:function(S,R){var Q=this;J.fn.init.call(Q,S,R);S=Q.wrapper=Q.element;R=Q.options;S.addClass(O).attr("role","button");R.enable=R.enable&&!S.attr(H);Q.enable(R.enable);Q._tabindex();Q._graphics();S.on(N+E,C(Q._click,Q)).on("focus"+E,C(Q._focus,Q)).on("blur"+E,C(Q._blur,Q)).on("keydown"+E,C(Q._keydown,Q)).on("keyup"+E,C(Q._keyup,Q));B.notify(Q)},events:[N],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:true},_isNativeButton:function(){return this.element.prop("tagName").toLowerCase()=="button"},_click:function(Q){if(this.options.enable){this.trigger(N,{event:Q})}},_focus:function(){if(this.options.enable){this.element.addClass(L)}},_blur:function(){this.element.removeClass(L)},_keydown:function(Q){var R=this;if(!R._isNativeButton()){if(Q.keyCode==K.ENTER||Q.keyCode==K.SPACEBAR){if(Q.keyCode==K.SPACEBAR){Q.preventDefault();if(R.options.enable){R.element.addClass(P)}}R._click(Q)}}},_keyup:function(){this.element.removeClass(P)},_graphics:function(){var W=this,Q=W.element,U=W.options,T=U.icon,V=U.spriteCssClass,Y=U.imageUrl,S,R,X;if(V||Y||T){X=true;Q.contents().not("span.k-sprite").not("span.k-icon").not("img.k-image").each(function(a,Z){if(Z.nodeType==1||Z.nodeType==3&&Z.nodeValue.trim().length>0){X=false}});if(X){Q.addClass(D)}else{Q.addClass(I)}}if(T){S=Q.children("span.k-icon").first();if(!S[0]){S=M('<span class="k-icon"></span>').prependTo(Q)}S.addClass("k-i-"+T)}else{if(V){S=Q.children("span.k-sprite").first();if(!S[0]){S=M('<span class="k-sprite"></span>').prependTo(Q)}S.addClass(V)}else{if(Y){R=Q.children("img.k-image").first();if(!R[0]){R=M('<img alt="icon" class="k-image" />').prependTo(Q)}R.attr("src",Y)}}}},enable:function(S){var Q=this,R=Q.element;if(S===A){S=true}S=!!S;Q.options.enable=S;R.toggleClass(F,!S).attr("aria-disabled",!S).attr(H,!S)}});B.ui.plugin(G)})(window.kendo.jQuery);kendo_module({id:"pager",name:"Pager",category:"framework",depends:["data"],advanced:true});(function(W,V){var U=window.kendo,E=U.ui,C=E.Widget,P=W.proxy,N=".k-i-seek-w",I=".k-i-seek-e",H=".k-i-arrow-w",D=".k-i-arrow-e",B="change",O=".kendoPager",X="click",A="keydown",F="disabled",M=U.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>');function K(Z,a,Y,b){return Z({idx:a,text:Y,ns:U.ns,numeric:b})}function J(Y,a,Z){return M({className:Y.substring(1),text:a,wrapClassName:Z||""})}function T(a,Z,b,Y){a.find(Z).parent().attr(U.attr("page"),b).attr("tabindex",-1).toggleClass("k-state-disabled",Y)}function L(Y,Z){T(Y,N,1,Z<=1)}function G(Y,Z){T(Y,H,Math.max(1,Z-1),Z<=1)}function Q(Y,a,Z){T(Y,D,Math.min(Z,a+1),a>=Z)}function S(Y,a,Z){T(Y,I,Z,a>=Z)}var R=C.extend({init:function(a,Z){var Y=this,c,b;C.fn.init.call(Y,a,Z);Z=Y.options;Y.dataSource=U.data.DataSource.create(Z.dataSource);Y.linkTemplate=U.template(Y.options.linkTemplate);Y.selectTemplate=U.template(Y.options.selectTemplate);c=Y.page();b=Y.totalPages();Y._refreshHandler=P(Y.refresh,Y);Y.dataSource.bind(B,Y._refreshHandler);if(Z.previousNext){if(!Y.element.find(N).length){Y.element.append(J(N,Z.messages.first,"k-pager-first"));L(Y.element,c,b)}if(!Y.element.find(H).length){Y.element.append(J(H,Z.messages.previous));G(Y.element,c,b)}}if(Z.numeric){Y.list=Y.element.find(".k-pager-numbers");if(!Y.list.length){Y.list=W('<ul class="k-pager-numbers k-reset" />').appendTo(Y.element)}}if(Z.input){if(!Y.element.find(".k-pager-input").length){Y.element.append('<span class="k-pager-input k-label">'+Z.messages.page+'<input class="k-textbox">'+U.format(Z.messages.of,b)+"</span>")}Y.element.on(A+O,".k-pager-input input",P(Y._keydown,Y))}if(Z.previousNext){if(!Y.element.find(D).length){Y.element.append(J(D,Z.messages.next));Q(Y.element,c,b)}if(!Y.element.find(I).length){Y.element.append(J(I,Z.messages.last,"k-pager-last"));S(Y.element,c,b)}}if(Z.pageSizes){if(!Y.element.find(".k-pager-sizes").length){W('<span class="k-pager-sizes k-label"><select/>'+Z.messages.itemsPerPage+"</span>").appendTo(Y.element).find("select").html(W.map(W.isArray(Z.pageSizes)?Z.pageSizes:[5,10,20],function(d){return"<option>"+d+"</option>"}).join("")).end().appendTo(Y.element)}Y.element.find(".k-pager-sizes select").val(Y.pageSize());if(U.ui.DropDownList){Y.element.find(".k-pager-sizes select").show().kendoDropDownList()}Y.element.on(B+O,".k-pager-sizes select",P(Y._change,Y))}if(Z.refresh){if(!Y.element.find(".k-pager-refresh").length){Y.element.append('<a href="#" class="k-pager-refresh k-link" title="'+Z.messages.refresh+'"><span class="k-icon k-i-refresh">'+Z.messages.refresh+"</span></a>")}Y.element.on(X+O,".k-pager-refresh",P(Y._refreshClick,Y))}if(Z.info){if(!Y.element.find(".k-pager-info").length){Y.element.append('<span class="k-pager-info k-label" />')}}Y.element.on(X+O,"a",P(Y._click,Y)).addClass("k-pager-wrap k-widget");if(Z.autoBind){Y.refresh()}U.notify(Y)},destroy:function(){var Y=this;C.fn.destroy.call(Y);Y.element.off(O);Y.dataSource.unbind(B,Y._refreshHandler)},events:[B],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:true,numeric:true,info:true,input:false,previousNext:true,pageSizes:false,refresh:false,messages:{display:"显示{0}到{1},共{2}",empty:"没有数据显示",page:"页",of:"of {0}",itemsPerPage:"条记录每页",first:"首页",previous:"上一页",next:"下一页",last:"尾页",refresh:"刷新"}},setDataSource:function(Z){var Y=this;Y.dataSource.unbind(B,Y._refreshHandler);Y.dataSource=Y.options.dataSource=Z;Z.bind(B,Y._refreshHandler);if(Y.options.autoBind){Z.fetch()}},refresh:function(c){var h=this,g,d,b=1,m="",Y,k=h.page(),i=h.options,j=h.pageSize(),a=h.dataSource.total(),l=h.totalPages(),f=h.linkTemplate,Z=i.buttonCount;if(c&&c.action=="itemchange"){return}if(i.numeric){if(k>Z){Y=(k%Z);b=(Y===0)?(k-Z)+1:(k-Y)+1}d=Math.min((b+Z)-1,l);if(b>1){m+=K(f,b-1,"...",false)}for(g=b;g<=d;g++){m+=K(g==k?h.selectTemplate:f,g,g,true)}if(d<l){m+=K(f,g,"...",false)}if(m===""){m=h.selectTemplate({text:0})}h.list.html(m)}if(i.info){if(a>0){m=U.format(i.messages.display,(k-1)*j+1,Math.min(k*j,a),a)}else{m=i.messages.empty}h.element.find(".k-pager-info").html(m)}if(i.input){h.element.find(".k-pager-input").html(h.options.messages.page+'<input class="k-textbox">'+U.format(i.messages.of,l)).find("input").val(k).attr(F,a<1).toggleClass("k-state-disabled",a<1)}if(i.previousNext){L(h.element,k,l);G(h.element,k,l);Q(h.element,k,l);S(h.element,k,l)}if(i.pageSizes){h.element.find(".k-pager-sizes select").val(j).filter("["+U.attr("role")+"=dropdownlist]").kendoDropDownList("value",j).kendoDropDownList("text",j)}},_keydown:function(Y){if(Y.keyCode===U.keys.ENTER){var Z=this.element.find(".k-pager-input").find("input"),a=parseInt(Z.val(),10);if(isNaN(a)||a<1||a>this.totalPages()){a=this.page()}Z.val(a);this.page(a)}},_refreshClick:function(Y){Y.preventDefault();this.dataSource.read()},_change:function(Y){var Z=parseInt(Y.currentTarget.value,10);if(!isNaN(Z)){this.dataSource.pageSize(Z)}},_click:function(Y){var Z=W(Y.currentTarget);Y.preventDefault();if(!Z.is(".k-state-disabled")){this.page(Z.attr(U.attr("page")))}},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(Y){if(Y!==V){this.dataSource.page(Y);this.trigger(B,{index:Y})}else{if(this.dataSource.total()>0){return this.dataSource.page()}else{return 0}}}});E.plugin(R)})(window.kendo.jQuery);kendo_module({id:"popup",name:"Pop-up",category:"framework",depends:["core"],advanced:true});(function(Y,a){var P=window.kendo,b=P.ui,K=b.Widget,j=P.support,I=P.getOffset,V=P._activeElement,T="open",L="close",S="deactivate",f="activate",Q="center",i="left",M="right",g="top",C="bottom",m="absolute",l="hidden",G="body",k="location",J="position",H="visible",E="effects",U="k-state-active",F="k-state-border",d=/k-state-border-(\w+)/,O=".k-picker-wrap, .k-dropdown-wrap, .k-link",c="down",D=Y(window),N=Y(document.documentElement),e="resize scroll",Z=j.transitions.css,h=Z+"transform",W=Y.extend,B=".kendoPopup",R=["font-family","font-size","font-stretch","font-style","font-weight","line-height"];function X(n,o){return n===o||Y.contains(n,o)}var A=K.extend({init:function(q,p){var o=this,n;p=p||{};if(p.isRtl){p.origin=p.origin||C+" "+M;p.position=p.position||g+" "+M}K.fn.init.call(o,q,p);q=o.element;p=o.options;o.collisions=p.collision?p.collision.split(" "):[];if(o.collisions.length===1){o.collisions.push(o.collisions[0])}n=Y(o.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");p.appendTo=Y(Y(p.appendTo)[0]||n[0]||G);o.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!p.isRtl).css({position:m}).appendTo(p.appendTo).on("mouseenter"+B,function(){o._hovered=true}).on("mouseleave"+B,function(){o._hovered=false});o.wrapper=Y();if(p.animation===false){p.animation={open:{effects:{}},close:{hide:true,effects:{}}}}W(p.animation.open,{complete:function(){o.wrapper.css({overflow:H});o.trigger(f)}});W(p.animation.close,{complete:function(){o.wrapper.hide();var r=o.wrapper.data(k),u=Y(p.anchor),s,t;if(r){o.wrapper.css(r)}if(p.anchor!=G){s=(u[0].className.match(d)||["","down"])[1];t=F+"-"+s;u.removeClass(t).children(O).removeClass(U).removeClass(t);q.removeClass(F+"-"+P.directions[s].reverse)}o._closing=false;o.trigger(S)}});o._mousedownProxy=function(r){o._mousedown(r)};o._resizeProxy=function(r){o._resize(r)};if(p.toggleTarget){Y(p.toggleTarget).on(p.toggleEvent+B,Y.proxy(o.toggle,o))}},events:[T,f,L,S],options:{name:"Popup",toggleEvent:"click",origin:C+" "+i,position:g+" "+i,anchor:G,collision:"flip fit",viewport:window,copyAnchorStyles:true,autosize:false,modal:false,animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}}},destroy:function(){var n=this,o=n.options,p=n.element.off(B),q;K.fn.destroy.call(n);if(o.toggleTarget){Y(o.toggleTarget).off(B)}if(!o.modal){N.unbind(c,n._mousedownProxy);D.unbind(e,n._resizeProxy)}if(o.appendTo[0]===document.body){q=p.parent(".k-animation-container");if(q[0]){q.remove()}else{p.remove()}}P.destroy(n.element.children())},open:function(u,v){var s=this,r={isFixed:!isNaN(parseInt(v,10)),x:u,y:v},p=s.element,t=s.options,o="down",w,z,n=Y(t.anchor);if(!s.visible()){if(t.copyAnchorStyles){p.css(P.getComputedStyles(n[0],R))}if(p.data("animating")||s.trigger(T)){return}if(!t.modal){N.unbind(c,s._mousedownProxy).bind(c,s._mousedownProxy);if(!(j.mobileOS.ios||j.mobileOS.android)){D.unbind(e,s._resizeProxy).bind(e,s._resizeProxy)}}s.wrapper=z=P.wrap(p,t.autosize).css({overflow:l,display:"block",position:m});if(j.mobileOS.android){z.add(n).css(h,"translatez(0)")}z.css(J);if(Y(t.appendTo)[0]==document.body){z.css(g,"-10000px")}w=W(true,{},t.animation.open);s.flipped=s._position(r);w.effects=P.parseEffects(w.effects,s.flipped);o=w.effects.slideIn?w.effects.slideIn.direction:o;if(t.anchor!=G){var q=F+"-"+o;p.addClass(F+"-"+P.directions[o].reverse);n.addClass(q).children(O).addClass(U).addClass(q)}p.data(E,w.effects).kendoStop(true).kendoAnimate(w)}},toggle:function(){var n=this;n[n.visible()?L:T]()},visible:function(){return this.element.is(":"+H)},close:function(){var p=this,r=p.options,q,n,o,s;if(p.visible()){q=(p.wrapper[0]?p.wrapper:P.wrap(p.element).hide());if(p._closing||p.trigger(L)){return}p.element.find(".k-popup").each(function(){var t=Y(this),u=t.data("kendoPopup");if(u){u.close()}});N.unbind(c,p._mousedownProxy);D.unbind(e,p._resizeProxy);n=W(true,{},r.animation.close);o=p.element.data(E);s=n.effects;if(!s&&!P.size(s)&&o&&P.size(o)){n.effects=o;n.reverse=true}p._closing=true;p.element.kendoStop(true);q.css({overflow:l});p.element.kendoAnimate(n)}},_resize:function(n){var o=this;if(n.type==="resize"){clearTimeout(o._resizeTimeout);o._resizeTimeout=setTimeout(function(){o._position();o._resizeTimeout=null},50)}else{if(!o._hovered&&!X(o.element[0],V())){o.close()}}},_mousedown:function(o){var r=this,t=r.element[0],s=r.options,n=Y(s.anchor)[0],p=s.toggleTarget,u=P.eventTarget(o),v=Y(u).closest(".k-popup"),q=v.parent().parent(".km-shim").length;v=v[0];if(!q&&v&&v!==r.element[0]){return}if(Y(o.target).closest("a").data("rel")==="popover"){return}if(!X(t,u)&&!X(n,u)&&!(p&&X(Y(p)[0],u))){r.close()}},_fit:function(o,n,q){var p=0;if(o+n>q){p=q-(o+n)}if(o<0){p=-o}return p},_flip:function(t,q,u,n,r,s,p){var o=0;p=p||q;if(s!==r&&s!==Q&&r!==Q){if(t+p>n){o+=-(u+q)}if(t+o<0){o+=u+q}}return o},_position:function(Ak){var Ah=this,Ab=Ah.element.css(J,""),o=Ah.wrapper,Ae=Ah.options,t=Y(Ae.viewport),u=Y(t).offset(),p=Y(Ae.anchor),Ai=Ae.origin.toLowerCase().split(" "),Af=Ae.position.toLowerCase().split(" "),Ac=Ah.collisions,Ag=j.zoomLevel(),Ad,v,x,q=10002,Aj=0,n;Ad=p.parents().filter(o.siblings());if(Ad[0]){x=Number(Y(Ad).css("zIndex"));if(x){q=x+1}else{v=p.parentsUntil(Ad);for(n=v.length;Aj<n;Aj++){x=Number(Y(v[Aj]).css("zIndex"));if(x&&q<x){q=x+1}}}}o.css("zIndex",q);if(Ak&&Ak.isFixed){o.css({left:Ak.x,top:Ak.y})}else{o.css(Ah._align(Ai,Af))}var y=I(o,J,p[0]===o.offsetParent()[0]),w=I(o),z=p.offsetParent().parent(".k-animation-container,.k-popup,.k-group");if(z.length){y=I(o,J,true);w=I(o)}if(t[0]===window){w.top-=(window.pageYOffset||document.documentElement.scrollTop||0);w.left-=(window.pageXOffset||document.documentElement.scrollLeft||0)}else{w.top-=u.top;w.left-=u.left}if(!Ah.wrapper.data(k)){o.data(k,W({},y))}var Aa=W({},w),r=W({},y);if(Ac[0]==="fit"){r.top+=Ah._fit(Aa.top,o.outerHeight(),t.height()/Ag)}if(Ac[1]==="fit"){r.left+=Ah._fit(Aa.left,o.outerWidth(),t.width()/Ag)}var s=W({},r);if(Ac[0]==="flip"){r.top+=Ah._flip(Aa.top,Ab.outerHeight(),p.outerHeight(),t.height()/Ag,Ai[0],Af[0],o.outerHeight())}if(Ac[1]==="flip"){r.left+=Ah._flip(Aa.left,Ab.outerWidth(),p.outerWidth(),t.width()/Ag,Ai[1],Af[1],o.outerWidth())}Ab.css(J,m);o.css(r);return(r.left!=s.left||r.top!=s.top)},_align:function(q,Ac){var Ad=this,z=Ad.wrapper,o=Y(Ad.options.anchor),s=q[0],v=q[1],u=Ac[0],r=Ac[1],p=I(o),y=Y(Ad.options.appendTo),Aa,x=z.outerWidth(),Af=z.outerHeight(),Ae=o.outerWidth(),t=o.outerHeight(),w=p.top,Ab=p.left,n=Math.round;if(y[0]!=document.body){Aa=I(y);w-=Aa.top;Ab-=Aa.left}if(s===C){w+=t}if(s===Q){w+=n(t/2)}if(u===C){w-=Af}if(u===Q){w-=n(Af/2)}if(v===M){Ab+=Ae}if(v===Q){Ab+=n(Ae/2)}if(r===M){Ab-=x}if(r===Q){Ab-=n(x/2)}return{top:w,left:Ab}}});b.plugin(A)})(window.kendo.jQuery);kendo_module({id:"tooltip",name:"Tooltip",category:"web",description:"The Tooltip widget displays a popup hint for a given html element.",depends:["core","popup"]});(function(c,b){var O=window.kendo,a=O.ui.Widget,N=O.ui.Popup,C=O.isFunction,J=c.isPlainObject,L=c.extend,T=c.proxy,A=c(document),E=O.isLocalUrl,f="_tt_active",Y="aria-describedby",Z="show",Q="hide",B="error",W="contentLoad",U="requestStart",H="k-content-frame",M='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',P=O.template("<iframe frameborder='0' class='"+H+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),S=".kendoTooltip",K={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},I={"top":"bottom","bottom":"top","left":"right","right":"left","center":"center"},e={bottom:"n",top:"s",left:"e",right:"w",center:"n"},F={"horizontal":{offset:"top",size:"outerHeight"},"vertical":{offset:"left",size:"outerWidth"}},D=function(g){return g.target.data(O.ns+"title")};function d(g){while(g.length){G(g);g=g.parent()}}function G(h){var g=h.data(O.ns+"title");if(g){h.attr("title",g);h.removeData(O.ns+"title")}}function V(h){var g=h.attr("title");if(g){h.data(O.ns+"title",g);h.attr("title","")}}function R(g){while(g.length&&!g.is("body")){V(g);g=g.parent()}}var X=a.extend({init:function(i,h){var g=this,j;a.fn.init.call(g,i,h);j=g.options.position.match(/left|right/)?"horizontal":"vertical";g.dimensions=F[j];g._documentKeyDownHandler=T(g._documentKeyDown,g);g.element.on(g.options.showOn+S,g.options.filter,T(g._showOn,g)).on("mouseenter"+S,g.options.filter,T(g._mouseenter,g));if(this.options.autoHide){g.element.on("mouseleave"+S,g.options.filter,T(g._mouseleave,g))}},options:{name:"Tooltip",filter:"",content:D,showAfter:100,callout:true,position:"bottom",showOn:"mouseenter",autoHide:true,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:true}}},events:[Z,Q,W,B,U],_mouseenter:function(g){R(c(g.currentTarget))},_showOn:function(g){var h=this;var i=c(g.currentTarget);if(h.options.showOn&&h.options.showOn.match(/click|focus/)){h._show(i)}else{clearTimeout(h.timeout);h.timeout=setTimeout(function(){h._show(i)},h.options.showAfter)}},_appendContent:function(j){var i=this,l=i.options.content,k=i.content,g=i.options.iframe,h;if(J(l)&&l.url){if(!("iframe" in i.options)){g=!E(l.url)}i.trigger(U,{options:l,target:j});if(!g){k.empty();O.ui.progress(k,true);i._ajaxRequest(l)}else{k.hide();h=k.find("."+H)[0];if(h){h.src=l.url||h.src}else{k.html(P({content:l}))}k.find("."+H).off("load"+S).on("load"+S,function(){i.trigger(W);k.show()})}}else{if(l&&C(l)){l=l({sender:this,target:j});i.content.html(l||"")}else{i.content.html(l)}}},_ajaxRequest:function(h){var g=this;jQuery.ajax(L({type:"GET",dataType:"html",cache:false,error:function(j,i){O.ui.progress(g.content,false);g.trigger(B,{status:i,xhr:j})},success:T(function(i){O.ui.progress(g.content,false);g.content.html(i);g.trigger(W)},g)},h))},_documentKeyDown:function(g){if(g.keyCode===O.keys.ESC){this.hide()}},refresh:function(){var g=this,h=g.popup;if(h&&h.options.anchor){g._appendContent(h.options.anchor)}},hide:function(){if(this.popup){this.popup.close()}},show:function(g){g=g||this.element;R(g);this._show(g)},_show:function(i){var g=this,h=g.target();if(!g.popup){g._initPopup()}if(h&&h[0]!=i[0]){g.popup.close();g.popup.element.kendoStop(true,true)}if(!h||h[0]!=i[0]){g._appendContent(i);g.popup.options.anchor=i}g.popup.one("deactivate",function(){d(i);i.removeAttr(Y);this.element.removeAttr("id").attr("aria-hidden",true);A.off("keydown"+S,g._documentKeyDownHandler)});g.popup.open()},_initPopup:function(){var h=this,i=h.options,g=c(O.template(M)({callout:i.callout&&i.position!=="center",dir:e[i.position],autoHide:i.autoHide}));h.popup=new N(g,L({activate:function(){var k=this.options.anchor,j=k[0].id||h.element[0].id;if(j){k.attr(Y,j+f);this.element.attr("id",j+f)}if(i.callout){h._positionCallout()}this.element.removeAttr("aria-hidden");A.on("keydown"+S,h._documentKeyDownHandler);h.trigger(Z)},close:function(){h.trigger(Q)},copyAnchorStyles:false,animation:i.animation},K[i.position]));g.css({width:i.width,height:i.height});h.content=g.find(".k-tooltip-content");h.arrow=g.find(".k-callout");if(i.autoHide){g.on("mouseleave"+S,T(h._mouseleave,h))}else{g.on("click"+S,".k-tooltip-button",T(h._closeButtonClick,h))}},_closeButtonClick:function(g){g.preventDefault();this.hide()},_mouseleave:function(h){if(this.popup){var k=c(h.currentTarget),g=k.offset(),j=h.pageX,i=h.pageY;g.right=g.left+k.outerWidth();g.bottom=g.top+k.outerHeight();if(j>g.left&&j<g.right&&i>g.top&&i<g.bottom){return}this.popup.close()}else{d(c(h.currentTarget))}clearTimeout(this.timeout)},_positionCallout:function(){var l=this,n=l.options.position,p=l.dimensions,i=p.offset,o=l.popup,g=o.options.anchor,q=c(g).offset(),k=parseInt(l.arrow.css("border-top-width"),10),h=c(o.element).offset(),j=e[o.flipped?I[n]:n],m=q[i]-h[i]+(c(g)[p.size]()/2)-k;l.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+j).css(i,m)},target:function(){if(this.popup){return this.popup.options.anchor}return null},destroy:function(){var g=this.popup;if(g){g.element.off(S);g.destroy()}this.element.off(S);A.off("keydown"+S,this._documentKeyDownHandler);a.fn.destroy.call(this)}});O.ui.plugin(X)})(window.kendo.jQuery);kendo_module({id:"list",name:"List",category:"framework",depends:["data","popup"],hidden:true});(function(a,d){var G=window.kendo,F=G.ui,X=F.Widget,Q=G.keys,I=G.support,M=G.htmlEncode,N=G._activeElement,A="id",R="li",B="change",c="character",T="k-state-focused",Z="k-state-hover",P="k-loading",O="open",Y="close",L="select",E="selected",V="progress",C="requestEnd",b="width",K=a.extend,e=a.proxy,D=I.browser,W=D.msie&&D.version<9,J=/"/g,H={"ComboBox":"DropDownList","DropDownList":"ComboBox"};var U=X.extend({init:function(i,h){var g=this,f=g.ns,j;X.fn.init.call(g,i,h);i=g.element;g._isSelect=i.is(L);g._template();g.ul=a('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:I.kineticScrollNeeded?"":"auto"}).on("mouseenter"+f,R,function(){a(this).addClass(Z)}).on("mouseleave"+f,R,function(){a(this).removeClass(Z)}).on("click"+f,R,e(g._click,g)).attr({tabIndex:-1,role:"listbox","aria-hidden":true});g.list=a("<div class='k-list-container'/>").append(g.ul).on("mousedown"+f,function(k){k.preventDefault()});j=i.attr(A);if(j){g.list.attr(A,j+"-list");g.ul.attr(A,j+"_listbox");g._optionID=j+"_option_selected"}g._header();g._accessors();g._initValue()},options:{valuePrimitive:false,headerTemplate:""},setOptions:function(f){X.fn.setOptions.call(this,f);if(f&&f.enable!==d){f.enabled=f.enable}},focus:function(){this._focused.focus()},readonly:function(f){this._editable({readonly:f===d?true:f,disable:false})},enable:function(f){this._editable({readonly:false,disable:!(f=f===d?true:f)})},_filterSource:function(i){var f=this,h=f.options,g=f.dataSource,j=g.filter()||{};S(j,h.dataTextField);if(i){j=j.filters||[];j.push(i)}g.filter(j)},_header:function(){var g=this.options.headerTemplate;var f;if(a.isFunction(g)){g=g()}if(g){this.list.prepend(g);f=this.ul.prev();this.header=f[0]?f:null}},_initValue:function(){var f=this,g=f.options.value;if(g!==null){f.element.val(g)}else{g=f._accessor();f.options.value=g}f._old=g},_ignoreCase:function(){var f=this,h=f.dataSource.reader.model,g;if(h&&h.fields){g=h.fields[f.options.dataTextField];if(g&&g.type&&g.type!=="string"){f.options.ignoreCase=false}}},items:function(){return this.ul[0].children},current:function(f){var g=this,h=g._optionID;if(f!==d){if(g._current){g._current.removeClass(T).removeAttr("aria-selected").removeAttr(A);g._focused.removeAttr("aria-activedescendant")}if(f){f.addClass(T);g._scroll(f);if(h){f.attr("id",h);g._focused.attr("aria-activedescendant",h)}}g._current=f}else{return g._current}},destroy:function(){var g=this,f=g.ns;X.fn.destroy.call(g);g._unbindDataSource();g.ul.off(f);g.list.off(f);g.popup.destroy();if(g._form){g._form.off("reset",g._resetHandler)}},dataItem:function(g){var f=this;if(g===d){g=f.selectedIndex}return f._data()[g]},_accessors:function(){var f=this,k=f.element,h=f.options,i=G.getter,g=k.attr(G.attr("text-field")),j=k.attr(G.attr("value-field"));if(g){h.dataTextField=g}if(j){h.dataValueField=j}f._text=i(h.dataTextField);f._value=i(h.dataValueField)},_aria:function(i){var f=this,g=f.options,h=f._focused;if(g.suggest!==d){h.attr("aria-autocomplete",g.suggest?"both":"list")}i=i?i+" "+f.ul[0].id:f.ul[0].id;h.attr("aria-owns",i);f.ul.attr("aria-live",!g.filter||g.filter==="none"?"off":"polite")},_blur:function(){var f=this;f._change();f.close()},_change:function(){var g=this,h=g.selectedIndex,j=g.options.value,f=g.value(),i;if(g._isSelect&&!g._bound&&j){f=j}if(f!==g._old){i=true}else{if(h!==d&&h!==g._oldIndex){i=true}}if(i){g._old=f;g._oldIndex=h;g.trigger(B);g.element.trigger(B)}},_click:function(f){if(!f.isDefaultPrevented()){this._accept(a(f.currentTarget))}},_data:function(){return this.dataSource.view()},_enable:function(){var f=this,g=f.options,h=f.element.is("[disabled]");if(g.enable!==d){g.enabled=g.enable}if(!g.enabled||h){f.enable(false)}else{f.readonly(f.element.is("[readonly]"))}},_focus:function(g){var f=this;if(f.popup.visible()&&g&&f.trigger(L,{item:g})){f.close();return}f._select(g);f._triggerCascade();f._blur()},_index:function(i){var h=this,j,g,f=h._data();for(j=0,g=f.length;j<g;j++){if(h._dataValue(f[j])==i){return j}}return -1},_dataValue:function(f){var g=this._value(f);if(g===d){g=this._text(f)}return g},_height:function(g){if(g){var h=this,i=h.list,j=h.popup.visible(),f=h.options.height;i=i.add(i.parent(".k-animation-container")).show().height(h.ul[0].scrollHeight>f?f:"auto");if(!j){i.hide()}}},_adjustListWidth:function(){var i=this.list,j=i[0].style.width,f=this.wrapper,g,h;if(!i.data(b)&&j){return}g=window.getComputedStyle?window.getComputedStyle(f[0],null):0;h=g?parseFloat(g.width):f.outerWidth();if(g&&(D.mozilla||D.msie)){h+=parseFloat(g.paddingLeft)+parseFloat(g.paddingRight)+parseFloat(g.borderLeftWidth)+parseFloat(g.borderRightWidth)}if(i.css("box-sizing")!=="border-box"){j=h-(i.outerWidth()-i.width())}else{j=h}i.css({fontFamily:f.css("font-family"),width:j}).data(b,j);return true},_popup:function(){var g=this,i=g.list,j=g._focused,h=g.options,f=g.wrapper;g.popup=new F.Popup(i,K({},h.popup,{anchor:f,open:function(k){g._adjustListWidth();if(g.trigger(O)){k.preventDefault()}else{j.attr("aria-expanded",true);g.ul.attr("aria-hidden",false)}},close:function(k){if(g.trigger(Y)){k.preventDefault()}else{j.attr("aria-expanded",false);g.ul.attr("aria-hidden",true)}},animation:h.animation,isRtl:I.isRtl(f)}));g.popup.one(O,function(){g._height(g._data().length)});g._touchScroller=G.touchScroller(g.popup.element)},_makeUnselectable:function(){if(W){this.list.find("*").attr("unselectable","on")}},_toggleHover:function(f){a(f.currentTarget).toggleClass(Z,f.type==="mouseenter")},_toggle:function(g){var f=this;g=g!==d?g:!f.popup.visible();if(!I.touch&&f._focused[0]!==N()){f._focused.focus()}f[g?O:Y]()},_scroll:function(o){if(!o){return}if(o[0]){o=o[0]}var n=this.ul[0],f=o.offsetTop,h=o.offsetHeight,j=n.scrollTop,l=n.clientHeight,g=f+h,m=this._touchScroller,k,i;if(m){k=m.dimensions.y;if(k.enabled&&f>k.size){f=f-k.size+h+4;m.scrollTo(0,-f)}}else{i=this.header?this.header.outerHeight():0;n.scrollTop=j>f?(f-i):g>(j+l)?(g-l-i):j}},_template:function(){var g=this,h=g.options,i=h.template,f=h.dataSource;if(g._isSelect&&g.element[0].length){if(!f){h.dataTextField=h.dataTextField||"text";h.dataValueField=h.dataValueField||"value"}}if(!i){g.template=G.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+G.expr(h.dataTextField,"data")+"}</li>",{useWithBlock:false})}else{i=G.template(i);g.template=function(j){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+i(j)+"</li>"}}},_triggerCascade:function(){var f=this,g=f.value();if((!f._bound&&g)||f._old!==g){f.trigger("cascade")}},_unbindDataSource:function(){var f=this;f.dataSource.unbind(B,f._refreshHandler).unbind(V,f._progressHandler).unbind(C,f._requestEndHandler).unbind("error",f._errorHandler)}});K(U,{caret:function(h){var g,f=h.ownerDocument.selection;if(f){g=Math.abs(f.createRange().moveStart(c,-h.value.length))}else{g=h.selectionStart}return g},selectText:function(j,g,i){try{if(j.createTextRange){j.focus();var h=j.createTextRange();h.collapse(true);h.moveStart(c,g);h.moveEnd(c,i-g);h.select()}else{j.setSelectionRange(g,i)}}catch(f){}},inArray:function(i,h){var j,g,f=h.children;if(!i||i.parentNode!==h){return -1}for(j=0,g=f.length;j<g;j++){if(i===f[j]){return j}}return -1}});G.ui.List=U;F.Select=U.extend({init:function(g,f){U.fn.init.call(this,g,f);this._initial=this.element.val()},setDataSource:function(f){this.options.dataSource=f;this._dataSource();this._bound=false;if(this.options.autoBind){this.dataSource.fetch()}},close:function(){this.popup.close()},select:function(g){var f=this;if(g===d){return f.selectedIndex}else{f._select(g);f._triggerCascade();f._old=f._accessor();f._oldIndex=f.selectedIndex}},_accessor:function(j,h){var k=this.element[0],g=this._isSelect,i=k.selectedIndex,f;if(j===d){if(g){if(i>-1){f=k.options[i];if(f){j=f.value}}}else{j=k.value}return j}else{if(g){if(i>-1){k.options[i].removeAttribute(E)}k.selectedIndex=h;f=k.options[h];if(f){f.setAttribute(E,E)}}else{k.value=j}}},_hideBusy:function(){var f=this;clearTimeout(f._busy);f._arrow.removeClass(P);f._focused.attr("aria-busy",false);f._busy=null},_showBusy:function(){var f=this;f._request=true;if(f._busy){return}f._busy=setTimeout(function(){f._focused.attr("aria-busy",true);f._arrow.addClass(P)},100)},_requestEnd:function(){this._request=false},_dataSource:function(){var f=this,j=f.element,h=f.options,g=h.dataSource||{},i;g=a.isArray(g)?{data:g}:g;if(f._isSelect){i=j[0].selectedIndex;if(i>-1){h.index=i}g.select=j;g.fields=[{field:h.dataTextField},{field:h.dataValueField}]}if(f.dataSource&&f._refreshHandler){f._unbindDataSource()}else{f._refreshHandler=e(f.refresh,f);f._progressHandler=e(f._showBusy,f);f._requestEndHandler=e(f._requestEnd,f);f._errorHandler=e(f._hideBusy,f)}f.dataSource=G.data.DataSource.create(g).bind(B,f._refreshHandler).bind(V,f._progressHandler).bind(C,f._requestEndHandler).bind("error",f._errorHandler)},_get:function(i){var g=this,j=g._data(),h,f;if(typeof i==="function"){for(h=0,f=j.length;h<f;h++){if(i(j[h])){i=h;break}}}if(typeof i==="number"){if(i<0){return a()}i=a(g.ul[0].children[i])}if(i&&i.nodeType){i=a(i)}return i},_move:function(f){var l=this,j=f.keyCode,n=l.ul[0],m=l.popup.visible()?"_select":"_accept",i=l._current,g=j===Q.DOWN,h,k;if(j===Q.UP||g){if(f.altKey){l.toggle(g)}else{h=n.firstChild;if(!h&&!l._accessor()&&l._state!=="filter"){if(!l._fetch){l.dataSource.one(B,function(){l._move(f);l._fetch=false});l._fetch=true;l._filterSource()}f.preventDefault();return true}if(g){if(!i||(l.selectedIndex===-1&&!l.value()&&i[0]===h)){i=h}else{i=i[0].nextSibling;if(!i&&h===n.lastChild){i=h}}l[m](i)}else{i=i?i[0].previousSibling:n.lastChild;if(!i&&h===n.lastChild){i=h}l[m](i)}}f.preventDefault();k=true}else{if(j===Q.ENTER||j===Q.TAB){if(l.popup.visible()){f.preventDefault()}l._accept(i);k=true}else{if(j===Q.ESC){if(l.popup.visible()){f.preventDefault()}l.close();k=true}}}return k},_selectItem:function(){var g=this,h=g.options,i=g.selectedIndex,j,f;j=g._isSelect&&!g._initial&&!h.value&&h.index&&!g._bound;if(!j){f=g._selectedValue||h.value||g._accessor()}if(f){g.value(f)}else{if(!g._bound||i>-1){if(!g._bound){i=h.index}g.select(i)}}},_fetchItems:function(g){var f=this,h=f.ul[0].firstChild;if(f._request){return true}if(!f._fetch&&!h){if(f.options.cascadeFrom){return !h}f.dataSource.one(B,function(){f.value(g);f._fetch=false});f._fetch=true;f.dataSource.fetch();return true}},_options:function(h,n){var m=this,f=m.element,l=f[0].selectedIndex,k=h.length,i="",o,q,p,g,j=0;if(n){j=1;i=n;if(n.indexOf(a(f[0].firstChild).text())===-1){l+=1}}for(;j<k;j++){o="<option";q=h[j];p=m._text(q);g=m._value(q);if(g!==d){g+="";if(g.indexOf('"')!==-1){g=g.replace(J,"&quot;")}o+=' value="'+g+'"'}o+=">";if(p!==d){o+=M(p)}o+="</option>";i+=o}f.html(i);f[0].selectedIndex=l===-1?0:l},_reset:function(){var h=this,i=h.element,g=i.attr("form"),f=g?a("#"+g):i.closest("form");if(f[0]){h._resetHandler=function(){setTimeout(function(){h.value(h._initial)})};h._form=f.on("reset",h._resetHandler)}},_cascade:function(){var i=this,f=i.options,g=f.cascadeFrom,m,h,j,k,l;if(g){i._selectedValue=f.value||i._accessor();h=a("#"+g);m=h.data("kendo"+f.name);if(!m){m=h.data("kendo"+H[f.name])}if(!m){return}f.autoBind=false;k=f.cascadeFromField||m.options.dataValueField;l=function(){var n=i._selectedValue||i.value();if(n){i.value(n);if(!i.dataSource.view()[0]||i.selectedIndex===-1){i._clearSelection(m,true)}}else{i.select(f.index)}i.enable();i._triggerCascade()};j=function(){var o=m.dataItem(),q=o?m._value(o):null,n,p;if(q||q===0){n=i.dataSource.filter()||{};S(n,k);p=n.filters||[];p.push({field:k,operator:"eq",value:q});i.dataSource.one(B,l).filter(p)}else{i.enable(false);i._clearSelection(m);i._triggerCascade()}};m.bind("cascade",function(){j()});if(m._bound){j()}else{if(!m.value()){i.enable(false)}}}}});function S(g,f){if(g.filters){g.filters=a.grep(g.filters,function(h){S(h,f);if(h.filters){return h.filters.length}else{return h.field!=f}})}}})(window.kendo.jQuery);kendo_module({id:"calendar",name:"Calendar",category:"web",description:"The Calendar widget renders a graphical calendar that supports navigation and selection.",depends:["core"]});(function(o,r){var a=window.kendo,Ap=a.support,y=a.ui,X=y.Widget,Y=a.keys,A=a.parseDate,H=a.date.adjustDST,Ah=a._extractFormat,u=a.template,As=a.getCulture,Z=a.support.transitions,W=Z?Z.css+"transform-origin":"",q=u('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:false}),I=u('<td role="gridcell">&nbsp;</td>',{useWithBlock:false}),D=a.support.browser,Af=D.msie&&D.version<9,G=".kendoCalendar",c="click"+G,Ac="keydown"+G,O="id",U="min",Ak="left",S="slideIn",M="month",Ae="century",g="change",T="navigate",Ab="value",t="k-state-hover",P="k-state-disabled",B="k-state-focused",w="k-other-month",Ao=' class="'+w+'"',i="k-nav-today",x="td:has(.k-link)",Aq="blur"+G,N="focus",Al=N+G,k=Ap.touch?"touchstart":"mouseenter",Ad=Ap.touch?"touchstart"+G:"mouseenter"+G,p=Ap.touch?"touchend"+G+" touchmove"+G:"mouseleave"+G,Aa=60000,d=86400000,V="_prevArrow",J="_nextArrow",b="aria-disabled",K="aria-selected",f=o.proxy,F=o.extend,Am=Date,v={month:0,year:1,decade:2,century:3};var R=X.extend({init:function(Aw,Au){var At=this,Av,Ax;X.fn.init.call(At,Aw,Au);Aw=At.wrapper=At.element;Au=At.options;Au.url=window.unescape(Au.url);At._templates();At._header();At._footer(At.footer);Ax=Aw.addClass("k-widget k-calendar").on(Ad+" "+p,x,Aj).on(Ac,"table.k-content",f(At._move,At)).on(c,x,function(Ay){var Az=Ay.currentTarget.firstChild;if(Az.href.indexOf("#")!=-1){Ay.preventDefault()}At._click(o(Az))}).on("mouseup"+G,function(){At._focusView(At.options.focusOnNav!==false)}).attr(O);if(Ax){At._cellID=Ax+"_cell_selected"}j(Au);Av=A(Au.value,Au.format,Au.culture);At._index=v[Au.start];At._current=new Am(+Q(Av,Au.min,Au.max));At._addClassProxy=function(){At._active=true;At._cell.addClass(B)};At._removeClassProxy=function(){At._active=false;At._cell.removeClass(B)};At.value(Av);a.notify(At)},options:{name:"Calendar",value:null,min:new Am(1900,0,1),max:new Am(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:M,depth:M,animation:{horizontal:{effects:S,reverse:true,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[g,T],setOptions:function(At){j(At);X.fn.setOptions.call(this,At)},destroy:function(){var At=this,Au=At._today;At.element.off(G);At._title.off(G);At[V].off(G);At[J].off(G);a.destroy(At._table);if(Au){a.destroy(Au.off(G))}X.fn.destroy.call(At)},current:function(){return this._current},view:function(){return this._view},focus:function(At){At=At||this._table;this._bindTable(At);At.focus()},min:function(At){return this._option(U,At)},max:function(At){return this._option("max",At)},navigateToPast:function(){this._navigate(V,-1)},navigateToFuture:function(){this._navigate(J,1)},navigateUp:function(){var At=this,Au=At._index;if(At._title.hasClass(P)){return}At.navigate(At._current,++Au)},navigateDown:function(Av){var At=this,Aw=At._index,Au=At.options.depth;if(!Av){return}if(Aw===v[Au]){if(+At._value!=+Av){At.value(Av);At.trigger(g)}return}At.navigate(Av,--Aw)},navigate:function(AB,AF){AF=isNaN(AF)?v[AF]:AF;var AI=this,AG=AI.options,AK=AG.culture,Az=AG.min,AE=AG.max,AA=AI._title,AC=AI._table,AD=AI._oldTable,Av=AI._value,At=AI._current,AH=AB&&+AB>+At,Ax=AF!==r&&AF!==AI._index,Au,AJ,Ay,Aw;if(!AB){AB=At}AI._current=AB=new Am(+Q(AB,Az,AE));if(AF===r){AF=AI._index}else{AI._index=AF}AI._view=AJ=Ai.views[AF];Ay=AJ.compare;Aw=AF===v[Ae];AA.toggleClass(P,Aw).attr(b,Aw);Aw=Ay(AB,Az)<1;AI[V].toggleClass(P,Aw).attr(b,Aw);Aw=Ay(AB,AE)>-1;AI[J].toggleClass(P,Aw).attr(b,Aw);if(AC&&AD&&AD.data("animating")){AD.kendoStop(true,true);AC.kendoStop(true,true)}AI._oldTable=AC;if(!AC||AI._changeView){AA.html(AJ.title(AB,Az,AE,AK));AI._table=Au=o(AJ.content(F({min:Az,max:AE,date:AB,url:AG.url,dates:AG.dates,format:AG.format,culture:AK},AI[AJ.name])));l(Au);AI._animate({from:AC,to:Au,vertical:Ax,future:AH});AI._focus(AB);AI.trigger(T)}if(AF===v[AG.depth]&&Av){AI._class("k-state-selected",AJ.toDateString(Av))}AI._class(B,AJ.toDateString(AB));if(!AC&&AI._cell){AI._cell.removeClass(B)}AI._changeView=true},value:function(Ay){var Av=this,Ax=Av._view,Aw=Av.options,Au=Av._view,At=Aw.min,Az=Aw.max;if(Ay===r){return Av._value}Ay=A(Ay,Aw.format,Aw.culture);if(Ay!==null){Ay=new Am(+Ay);if(!n(Ay,At,Az)){Ay=null}}Av._value=Ay;if(Au&&Ay===null&&Av._cell){Av._cell.removeClass("k-state-selected")}else{Av._changeView=!Ay||Ax&&Ax.compare(Ay,Av._current)!==0;Av.navigate(Ay)}},_move:function(Aw){var AA=this,AB=AA.options,AD=Aw.keyCode,At=AA._view,Au=AA._index,Ax=new Am(+AA._current),Ay=a.support.isRtl(AA.wrapper),Av,AE,AC,Az;if(Aw.target===AA._table[0]){AA._active=true}if(Aw.ctrlKey){if(AD==Y.RIGHT&&!Ay||AD==Y.LEFT&&Ay){AA.navigateToFuture();AE=true}else{if(AD==Y.LEFT&&!Ay||AD==Y.RIGHT&&Ay){AA.navigateToPast();AE=true}else{if(AD==Y.UP){AA.navigateUp();AE=true}else{if(AD==Y.DOWN){AA._click(o(AA._cell[0].firstChild));AE=true}}}}}else{if(AD==Y.RIGHT&&!Ay||AD==Y.LEFT&&Ay){Av=1;AE=true}else{if(AD==Y.LEFT&&!Ay||AD==Y.RIGHT&&Ay){Av=-1;AE=true}else{if(AD==Y.UP){Av=Au===0?-7:-4;AE=true}else{if(AD==Y.DOWN){Av=Au===0?7:4;AE=true}else{if(AD==Y.ENTER){AA._click(o(AA._cell[0].firstChild));AE=true}else{if(AD==Y.HOME||AD==Y.END){AC=AD==Y.HOME?"first":"last";Az=At[AC](Ax);Ax=new Am(Az.getFullYear(),Az.getMonth(),Az.getDate(),Ax.getHours(),Ax.getMinutes(),Ax.getSeconds(),Ax.getMilliseconds());AE=true}else{if(AD==Y.PAGEUP){AE=true;AA.navigateToPast()}else{if(AD==Y.PAGEDOWN){AE=true;AA.navigateToFuture()}}}}}}}}if(Av||AC){if(!AC){At.setDate(Ax,Av)}AA._focus(Q(Ax,AB.min,AB.max))}}if(AE){Aw.preventDefault()}return AA._current},_animate:function(Av){var Au=this,At=Av.from,Aw=Av.to,Ax=Au._active;if(!At){Aw.insertAfter(Au.element[0].firstChild);Au._bindTable(Aw)}else{if(At.parent().data("animating")){At.parent().kendoStop(true,true).remove();At.remove();Aw.insertAfter(Au.element[0].firstChild);Au._focusView(Ax)}else{if(!At.is(":visible")||Au.options.animation===false){Aw.insertAfter(At);At.remove();Au._focusView(Ax)}else{Au[Av.vertical?"_vertical":"_horizontal"](At,Aw,Av.future)}}}},_horizontal:function(At,Ay,Au){var Av=this,Aw=Av._active,Ax=Av.options.animation.horizontal,Az=Ax.effects,AA=At.outerWidth();if(Az&&Az.indexOf(S)!=-1){At.add(Ay).css({width:AA});At.wrap("<div/>");Av._focusView(Aw,At);At.parent().css({position:"relative",width:AA*2,"float":Ak,"margin-left":Au?0:-AA});Ay[Au?"insertAfter":"insertBefore"](At);F(Ax,{effects:S+":"+(Au?"right":Ak),complete:function(){At.remove();Ay.unwrap();Av._focusView(Aw);Av._oldTable=r}});At.parent().kendoStop(true,true).kendoAnimate(Ax)}},_vertical:function(At,Ay){var Aw=this,Au=Aw.options.animation.vertical,Az=Au.effects,Ax=Aw._active,AA,Av;if(Az&&Az.indexOf("zoom")!=-1){Ay.css({position:"absolute",top:At.prev().outerHeight(),left:0}).insertBefore(At);if(W){AA=Aw._cellByDate(Aw._view.toDateString(Aw._current));Av=AA.position();Av=(Av.left+parseInt(AA.width()/2,10))+"px "+(Av.top+parseInt(AA.height()/2,10)+"px");Ay.css(W,Av)}At.kendoStop(true,true).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){At.remove();Ay.css({position:"static",top:0,left:0});Aw._focusView(Ax);Aw._oldTable=r}});Ay.kendoStop(true,true).kendoAnimate(Au)}},_cellByDate:function(At){return this._table.find("td:not(."+w+")").filter(function(){return o(this.firstChild).attr(a.attr(Ab))===At})},_class:function(At,Av){var Au=this,Ax=Au._cellID,Aw=Au._cell;if(Aw){Aw.removeAttr(K).removeAttr(O)}Aw=Au._table.find("td:not(."+w+")").removeClass(At).filter(function(){return o(this.firstChild).attr(a.attr(Ab))===Av}).attr(K,true);if(At===B&&!Au._active&&Au.options.focusOnNav!==false){At=""}Aw.addClass(At);if(Aw[0]){Au._cell=Aw}if(Ax){Aw.attr(O,Ax);Au._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",Ax)}},_bindTable:function(At){At.on(Al,this._addClassProxy).on(Aq,this._removeClassProxy)},_click:function(At){var Ax=this,Au=Ax.options,Av=new Date(+Ax._current),Aw=At.attr(a.attr(Ab)).split("/");Aw=new Am(Aw[0],Aw[1],Aw[2]);H(Aw,0);Ax._view.setDate(Av,Aw);Ax.navigateDown(Q(Av,Au.min,Au.max))},_focus:function(Av){var At=this,Au=At._view;if(Au.compare(Av,At._current)!==0){At.navigate(Av)}else{At._current=Av;At._class(B,Au.toDateString(Av))}},_focusView:function(At,Au){if(At){this.focus(Au)}},_footer:function(Av){var At=this,Au=Ag(),Ax=At.element,Aw=Ax.find(".k-footer");if(!Av){At._toggle(false);Aw.hide();return}if(!Aw[0]){Aw=o('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(Ax)}At._today=Aw.show().find(".k-link").html(Av(Au)).attr("title",a.toString(Au,"D",At.options.culture));At._toggle()},_header:function(){var At=this,Av=At.element,Au=At.options.focusOnNav!==false,Aw;if(!Av.find(".k-header")[0]){Av.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>')}Aw=Av.find(".k-link").on(Ad+" "+p+" "+Al+" "+Aq,Aj).click(false);At._title=Aw.eq(1).on(c,function(){At._focusView(Au);At.navigateUp()});At[V]=Aw.eq(0).on(c,function(){At._focusView(Au);At.navigateToPast()});At[J]=Aw.eq(2).on(c,function(){At._focusView(Au);At.navigateToFuture()})},_navigate:function(At,Ax){var Au=this,Aw=Au._index+1,Av=new Am(+Au._current);At=Au[At];if(!At.hasClass(P)){if(Aw>3){Av.setFullYear(Av.getFullYear()+100*Ax)}else{Ai.views[Aw].setDate(Av,Ax)}Au.navigate(Av)}},_option:function(At,Aw){var Au=this,Av=Au.options,Ay=Au._value||Au._current,Ax;if(Aw===r){return Av[At]}Aw=A(Aw,Av.format,Av.culture);if(!Aw){return}Av[At]=new Am(+Aw);if(At===U){Ax=Aw>Ay}else{Ax=Ay>Aw}if(Ax||s(Ay,Aw)){Au._value=null;Au._changeView=true}if(!Au._changeView){Au._changeView=!!(Av.month.content||Av.month.empty)}Au.navigate(Au._value);Au._toggle()},_toggle:function(Av){var At=this,Au=At.options,Aw=At._today;if(Av===r){Av=n(Ag(),Au.min,Au.max)}if(Aw){Aw.off(c);if(Av){Aw.addClass(i).removeClass(P).on(c,f(At._todayClick,At))}else{Aw.removeClass(i).addClass(P).on(c,z)}}},_todayClick:function(At){var Au=this,Av=v[Au.options.depth],Aw=Ag();At.preventDefault();if(Au._view.compare(Au._current,Aw)===0&&Au._index==Av){Au._changeView=false}Au._value=Aw;Au.navigate(Aw,Av);Au.trigger(g)},_templates:function(){var Au=this,Av=Au.options,Aw=Av.footer,At=Av.month,Ax=At.content,Ay=At.empty;Au.month={content:u('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+a.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(Ax||"#=data.value#")+"</a></td>",{useWithBlock:!!Ax}),empty:u('<td role="gridcell">'+(Ay||"&nbsp;")+"</td>",{useWithBlock:!!Ay})};if(Aw!==false){Au.footer=u(Aw||'#= kendo.toString(data,"D","'+Av.culture+'") #',{useWithBlock:false})}}});y.plugin(R);var Ai={firstDayOfMonth:function(At){return new Am(At.getFullYear(),At.getMonth(),1)},firstVisibleDay:function(Aw,Av){Av=Av||a.culture().calendar;var Au=Av.firstDay,At=new Am(Aw.getFullYear(),Aw.getMonth(),0,Aw.getHours(),Aw.getMinutes(),Aw.getSeconds(),Aw.getMilliseconds());while(At.getDay()!=Au){Ai.setTime(At,-1*d)}return At},setTime:function(Aw,Au){var At=Aw.getTimezoneOffset(),Ax=new Am(Aw.getTime()+Au),Av=Ax.getTimezoneOffset()-At;Aw.setTime(Ax.getTime()+Av*Aa)},views:[{name:M,title:function(Av,At,Aw,Au){return e(Au).months.names[Av.getMonth()]+" "+Av.getFullYear()},content:function(AJ){var AM=this,AN=0,AD=AJ.min,AH=AJ.max,Ax=AJ.date,AE=AJ.dates,AI=AJ.format,Au=AJ.culture,AG=AJ.url,At=AG&&AE[0],AC=e(Au),AA=AC.firstDay,Av=AC.days,Aw=E(Av.names,AA),AB=E(Av.namesShort,AA),AO=Ai.firstVisibleDay(Ax,AC),Az=AM.first(Ax),Ay=AM.last(Ax),AL=AM.toDateString,AK=new Am(),AF='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';for(;AN<7;AN++){AF+='<th scope="col" title="'+Aw[AN]+'">'+AB[AN]+"</th>"}AK=new Am(AK.getFullYear(),AK.getMonth(),AK.getDate());H(AK,0);AK=+AK;return Ar({cells:42,perRow:7,html:AF+='</tr></thead><tbody><tr role="row">',start:new Am(AO.getFullYear(),AO.getMonth(),AO.getDate()),min:new Am(AD.getFullYear(),AD.getMonth(),AD.getDate()),max:new Am(AH.getFullYear(),AH.getMonth(),AH.getDate()),content:AJ.content,empty:AJ.empty,setter:AM.setDate,build:function(AT){var AR=[],AP=AT.getDay(),AQ="",AS="#";if(AT<Az||AT>Ay){AR.push(w)}if(+AT===AK){AR.push("k-today")}if(AP===0||AP===6){AR.push("k-weekend")}if(At&&An(+AT,AE)){AS=AG.replace("{0}",a.toString(AT,AI,Au));AQ=" k-action-link"}return{date:AT,dates:AE,ns:a.ns,title:a.toString(AT,"D",Au),value:AT.getDate(),dateString:AL(AT),cssClass:AR[0]?' class="'+AR.join(" ")+'"':"",linkClass:AQ,url:AS}}})},first:function(At){return Ai.firstDayOfMonth(At)},last:function(Aw){var Av=new Am(Aw.getFullYear(),Aw.getMonth()+1,0),Au=Ai.firstDayOfMonth(Aw),At=Math.abs(Av.getTimezoneOffset()-Au.getTimezoneOffset());if(At){Av.setHours(Au.getHours()+(At/60))}return Av},compare:function(Ax,Au){var Aw,At=Ax.getMonth(),Av=Ax.getFullYear(),Ay=Au.getMonth(),Az=Au.getFullYear();if(Av>Az){Aw=1}else{if(Av<Az){Aw=-1}else{Aw=At==Ay?0:At>Ay?1:-1}}return Aw},setDate:function(Av,Au){var At=Av.getHours();if(Au instanceof Am){Av.setFullYear(Au.getFullYear(),Au.getMonth(),Au.getDate())}else{Ai.setTime(Av,Au*d)}H(Av,At)},toDateString:function(At){return At.getFullYear()+"/"+At.getMonth()+"/"+At.getDate()}},{name:"year",title:function(At){return At.getFullYear()},content:function(Av){var Au=e(Av.culture).months.namesAbbr,Ax=this.toDateString,At=Av.min,Aw=Av.max;return Ar({min:new Am(At.getFullYear(),At.getMonth(),1),max:new Am(Aw.getFullYear(),Aw.getMonth(),1),start:new Am(Av.date.getFullYear(),0,1),setter:this.setDate,build:function(Ay){return{value:Au[Ay.getMonth()],ns:a.ns,dateString:Ax(Ay),cssClass:""}}})},first:function(At){return new Am(At.getFullYear(),0,At.getDate())},last:function(At){return new Am(At.getFullYear(),11,At.getDate())},compare:function(Au,At){return m(Au,At)},setDate:function(Aw,Av){var Au,At=Aw.getHours();if(Av instanceof Am){Au=Av.getMonth();Aw.setFullYear(Av.getFullYear(),Au,Aw.getDate());if(Au!==Aw.getMonth()){Aw.setDate(0)}}else{Au=Aw.getMonth()+Av;Aw.setMonth(Au);if(Au>11){Au-=12}if(Au>0&&Aw.getMonth()!=Au){Aw.setDate(0)}}H(Aw,At)},toDateString:function(At){return At.getFullYear()+"/"+At.getMonth()+"/1"}},{name:"decade",title:function(Au,At,Av){return L(Au,At,Av,10)},content:function(Au){var At=Au.date.getFullYear(),Av=this.toDateString;return Ar({start:new Am(At-At%10-1,0,1),min:new Am(Au.min.getFullYear(),0,1),max:new Am(Au.max.getFullYear(),0,1),setter:this.setDate,build:function(Ax,Aw){return{value:Ax.getFullYear(),ns:a.ns,dateString:Av(Ax),cssClass:Aw===0||Aw==11?Ao:""}}})},first:function(Au){var At=Au.getFullYear();return new Am(At-At%10,Au.getMonth(),Au.getDate())},last:function(Au){var At=Au.getFullYear();return new Am(At-At%10+9,Au.getMonth(),Au.getDate())},compare:function(Au,At){return m(Au,At,10)},setDate:function(Au,At){h(Au,At,1)},toDateString:function(At){return At.getFullYear()+"/0/1"}},{name:Ae,title:function(Au,At,Av){return L(Au,At,Av,100)},content:function(Ax){var Aw=Ax.date.getFullYear(),At=Ax.min.getFullYear(),Az=Ax.max.getFullYear(),Au=this.toDateString,Ay=At,Av=Az;Ay=Ay-Ay%10;Av=Av-Av%10;if(Av-Ay<10){Av=Ay+9}return Ar({start:new Am(Aw-Aw%100-10,0,1),min:new Am(Ay,0,1),max:new Am(Av,0,1),setter:this.setDate,build:function(AC,AB){var AD=AC.getFullYear(),AA=AD+9;if(AD<At){AD=At}if(AA>Az){AA=Az}return{ns:a.ns,value:AD+" - "+AA,dateString:Au(AC),cssClass:AB===0||AB==11?Ao:""}}})},first:function(Au){var At=Au.getFullYear();return new Am(At-At%100,Au.getMonth(),Au.getDate())},last:function(Au){var At=Au.getFullYear();return new Am(At-At%100+99,Au.getMonth(),Au.getDate())},compare:function(Au,At){return m(Au,At,100)},setDate:function(Au,At){h(Au,At,10)},toDateString:function(Au){var At=Au.getFullYear();return(At-At%10)+"/0/1"}}]};function L(AA,Av,Aw,At){var Au=AA.getFullYear(),Ay=Av.getFullYear(),Az=Aw.getFullYear(),Ax;Au=Au-Au%At;Ax=Au+(At-1);if(Au<Ay){Au=Ay}if(Ax>Az){Ax=Az}return Au+"-"+Ax}function Ar(AA){var Aw=0,Av,Au=AA.min,AF=AA.max,At=AA.start,Ay=AA.setter,AD=AA.build,Ax=AA.cells||12,AB=AA.perRow||4,AE=AA.content||q,AC=AA.empty||I,Az=AA.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(;Aw<Ax;Aw++){if(Aw>0&&Aw%AB===0){Az+='</tr><tr role="row">'}Av=AD(At,Aw);Az+=n(At,Au,AF)?AE(Av):AC(Av);Ay(At,1)}return Az+"</tr></tbody></table>"}function m(Aw,At,Ay){var Au=Aw.getFullYear(),Az=At.getFullYear(),Ax=Az,Av=0;if(Ay){Az=Az-Az%Ay;Ax=Az-Az%Ay+Ay-1}if(Au>Ax){Av=1}else{if(Au<Az){Av=-1}}return Av}function Ag(){var At=new Am();return new Am(At.getFullYear(),At.getMonth(),At.getDate())}function Q(Av,At,Aw){var Au=Ag();if(Av){Au=new Am(+Av)}if(At>Au){Au=new Am(+At)}else{if(Aw<Au){Au=new Am(+Aw)}}return Au}function n(Au,At,Av){return +Au>=+At&&+Au<=+Av}function E(At,Au){return At.slice(Au).concat(At.slice(0,Au))}function h(Av,Au,At){Au=Au instanceof Am?Au.getFullYear():Av.getFullYear()+At*Au;Av.setFullYear(Au)}function Aj(At){o(this).toggleClass(t,k.indexOf(At.type)>-1||At.type==N)}function z(At){At.preventDefault()}function e(At){return As(At).calendars.standard}function j(Av){var Aw=v[Av.start],Au=v[Av.depth],At=As(Av.culture);Av.format=Ah(Av.format||At.calendars.standard.patterns.d);if(isNaN(Aw)){Aw=0;Av.start=M}if(Au===r||Au>Aw){Av.depth=M}if(!Av.dates){Av.dates=[]}}function l(At){if(Af){At.find("*").attr("unselectable","on")}}function An(Aw,Av){for(var At=0,Au=Av.length;At<Au;At++){if(Aw===+Av[At]){return true}}return false}function C(At,Au){if(At){return At.getFullYear()===Au.getFullYear()&&At.getMonth()===Au.getMonth()&&At.getDate()===Au.getDate()}return false}function s(At,Au){if(At){return At.getFullYear()===Au.getFullYear()&&At.getMonth()===Au.getMonth()}return false}Ai.isEqualDatePart=C;Ai.makeUnselectable=l;Ai.restrictValue=Q;Ai.isInRange=n;Ai.normalize=j;Ai.viewsEnum=v;a.calendar=Ai})(window.kendo.jQuery);kendo_module({id:"datepicker",name:"DatePicker",category:"web",description:"The DatePicker widget allows the user to select a date from a calendar or by direct input.",depends:["calendar","popup"]});(function(d,e){var R=window.kendo,m=R.ui,N=m.Widget,A=R.parseDate,P=R.keys,g=R.template,V=R._activeElement,E="<div />",p="<span />",F=".kendoDatePicker",T="click"+F,M="open",O="close",W="change",i="dateView",J="disabled",h="readonly",s="k-state-default",B="k-state-focused",Z="k-state-selected",U="k-state-disabled",f="k-state-hover",C="keydown"+F,k="mouseenter"+F+" mouseleave"+F,j="mousedown"+F,I="id",L="min",G="max",H="month",S="aria-disabled",l="aria-expanded",K="aria-hidden",n="aria-readonly",b=R.calendar,c=b.isInRange,q=b.restrictValue,D=b.isEqualDatePart,r=d.extend,t=d.proxy,Q=Date;function a(w){var v=w.parseFormats,u=w.format;b.normalize(w);v=d.isArray(v)?v:[v];if(d.inArray(u,v)===-1){v.splice(0,0,w.format)}w.parseFormats=v}function o(u){u.preventDefault()}var Y=function(x){var w=this,z,v=document.body,u=X.sharedCalendar,y=d(E).attr(K,"true").addClass("k-calendar-container").appendTo(v);if(!u){u=X.sharedCalendar=new m.Calendar(d(E).attr(I,R.guid()).hide().appendTo(v),{focusOnNav:false});b.makeUnselectable(u.element)}w.calendar=u;w.options=x=x||{};z=x.id;if(z){z+="_dateview";y.attr(I,z);w._dateViewID=z}w.popup=new m.Popup(y,r(x.popup,x,{name:"Popup",isRtl:R.support.isRtl(x.anchor)}));w.div=y;w._templates();w.value(x.value)};Y.prototype={_calendar:function(){var v=this,x=v.popup,w=v.options,u=v.calendar,y=u.element;if(y.data(i)!==v){y.appendTo(x.element).data(i,v).off(T+" "+C).on(T,"td:has(.k-link)",t(v._click,v)).on(j,o).show();u.unbind(W).bind(W,w);u.month=v.month;u.options.dates=w.dates;u.options.depth=w.depth;u.options.culture=w.culture;u._footer(v.footer);u.min(w.min);u.max(w.max);u._value=null;u.navigate(v._value||v._current,w.start);v.value(v._value)}},destroy:function(){var w=this,u=w.calendar,y=u.element,x=y.data(i),v;if(x===e||x===w){v=d(".k-calendar-container");if(v.length>1){y.hide().appendTo(document.body)}else{y.off(F);u.destroy();u.element.remove();X.sharedCalendar=null}}w.popup.destroy()},open:function(){var u=this;u._calendar();u.popup.open()},close:function(){this.popup.close()},min:function(u){this._option(L,u)},max:function(u){this._option(G,u)},toggle:function(){var u=this;u[u.popup.visible()?O:M]()},move:function(w){var x=this,v=w.keyCode,u=x.calendar,y=w.ctrlKey&&v==P.DOWN||v==P.ENTER;if(v==P.ESC){x.close();return}if(w.altKey){if(v==P.DOWN){x.open();w.preventDefault()}else{if(v==P.UP){x.close();w.preventDefault()}}return}if(!x.popup.visible()){return}if(y&&u._cell.hasClass(Z)){x.close();w.preventDefault();return}x._current=u._move(w)},value:function(x){var v=this,u=v.calendar,w=v.options;v._value=x;v._current=new Q(+q(x,w.min,w.max));if(u.element.data(i)===v){u.value(x)}},_click:function(u){if(u.currentTarget.className.indexOf(Z)!==-1){this.close()}},_option:function(v,y){var w=this,x=w.options,u=w.calendar;x[v]=y;if(u.element.data(i)===w){u[v](y)}},_templates:function(){var v=this,w=v.options,x=w.footer,u=w.month||{},y=u.content,z=u.empty;v.month={content:g('<td#=data.cssClass#><a tabindex="-1" class="k-link" href="\\#" '+R.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(y||"#=data.value#")+"</a></td>",{useWithBlock:!!y}),empty:g("<td>"+(z||"&nbsp;")+"</td>",{useWithBlock:!!z})};if(x!==false){v.footer=g(x||'#= kendo.toString(data,"D","'+w.culture+'") #',{useWithBlock:false})}}};Y.normalize=a;R.DateView=Y;var X=N.extend({init:function(z,x){var w=this,u,y;N.fn.init.call(w,z,x);z=w.element;x=w.options;a(x);w._wrapper();w.dateView=new Y(r({},x,{id:z.attr(I),anchor:w.wrapper,change:function(){w._change(this.value());w.close()},close:function(Aa){if(w.trigger(O)){Aa.preventDefault()}else{z.attr(l,false);y.attr(K,true)}},open:function(Aa){var Ab=w.options,Ac;if(w.trigger(M)){Aa.preventDefault()}else{if(w.element.val()!==w._oldText){Ac=A(z.val(),Ab.parseFormats,Ab.culture);if(!Ac){w.dateView.value(Ac)}else{w.dateView._current=Ac;w.dateView.calendar._focus(Ac)}}z.attr(l,true);y.attr(K,false)}}}));y=w.dateView.div;w._icon();try{z[0].setAttribute("type","text")}catch(v){z[0].type="text"}z.addClass("k-input").attr({role:"textbox","aria-haspopup":true,"aria-expanded":false,"aria-owns":w.dateView._dateViewID});w._reset();w._template();u=z.is("[disabled]");if(u){w.enable(false)}else{w.readonly(z.is("[readonly]"))}w._old=w._update(x.value||w.element.val());w._oldText=z.val();R.notify(w)},events:[M,O,W],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:H,depth:H,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(x){var w=this,v=w.dateView,u=v.options;N.fn.setOptions.call(w,x);a(w.options);v.options=r(u,w.options,{change:u.change,close:u.close,open:u.open})},_editable:function(x){var v=this,y=v._dateIcon.off(F),z=v.element.off(F),u=v._inputWrapper.off(F),Aa=x.readonly,w=x.disable;if(!Aa&&!w){u.addClass(s).removeClass(U).on(k,v._toggleHover);z.removeAttr(J).removeAttr(h).attr(S,false).attr(n,false).on("keydown"+F,t(v._keydown,v)).on("blur"+F,t(v._blur,v)).on("focus"+F,function(){v._inputWrapper.addClass(B)});y.on(T,t(v._click,v)).on(j,o)}else{u.addClass(w?U:s).removeClass(w?s:U);z.attr(J,w).attr(h,Aa).attr(S,w).attr(n,Aa)}},readonly:function(u){this._editable({readonly:u===e?true:u,disable:false})},enable:function(u){this._editable({readonly:false,disable:!(u=u===e?true:u)})},destroy:function(){var u=this;N.fn.destroy.call(u);u.dateView.destroy();u.element.off(F);u._dateIcon.off(F);u._inputWrapper.off(F);if(u._form){u._form.off("reset",u._resetHandler)}},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(u){return this._option(L,u)},max:function(u){return this._option(G,u)},value:function(v){var u=this;if(v===e){return u._value}u._old=u._update(v);if(u._old===null){u.element.val("")}u._oldText=u.element.val()},_toggleHover:function(u){d(u.currentTarget).toggleClass(f,u.type==="mouseenter")},_blur:function(){var u=this,v=u.element.val();u.close();if(v!==u._oldText){u._change(v)}u._inputWrapper.removeClass(B)},_click:function(){var u=this,v=u.element;u.dateView.toggle();if(!R.support.touch&&v[0]!==V()){v.focus()}},_change:function(v){var u=this;v=u._update(v);if(+u._old!=+v){u._old=v;u._oldText=u.element.val();u.trigger(W);u.element.trigger(W)}},_keydown:function(v){var w=this,u=w.dateView,x=w.element.val();if(!u.popup.visible()&&v.keyCode==P.ENTER&&x!==w._oldText){w._change(x)}else{u.move(v);w._updateARIA(u._current)}},_icon:function(){var u=this,w=u.element,v;v=w.next("span.k-select");if(!v[0]){v=d('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(w)}u._dateIcon=v.attr({"role":"button","aria-controls":u.dateView._dateViewID})},_option:function(u,x){var v=this,w=v.options;if(x===e){return w[u]}x=A(x,w.parseFormats,w.culture);if(!x){return}w[u]=new Q(+x);v.dateView[u](x)},_update:function(y){var w=this,x=w.options,u=x.min,Aa=x.max,z=A(y,x.parseFormats,x.culture),v;if(+z===+w._value){v=R.toString(z,x.format,x.culture);if(v!==y){w.element.val(z===null?y:v)}return z}if(z!==null&&D(z,u)){z=q(z,u,Aa)}else{if(!c(z,u,Aa)){z=null}}w._value=z;w.dateView.value(z);w.element.val(z?R.toString(z,x.format,x.culture):y);w._updateARIA(z);return z},_wrapper:function(){var v=this,w=v.element,u;u=w.parents(".k-datepicker");if(!u[0]){u=w.wrap(p).parent().addClass("k-picker-wrap k-state-default");u=u.wrap(p).parent()}u[0].style.cssText=w[0].style.cssText;w.css({width:"100%",height:w[0].style.height});v.wrapper=u.addClass("k-widget k-datepicker k-header").addClass(w[0].className);v._inputWrapper=d(u[0].firstChild)},_reset:function(){var w=this,x=w.element,v=x.attr("form"),u=v?d("#"+v):x.closest("form");if(u[0]){w._resetHandler=function(){w.value(x[0].defaultValue)};w._form=u.on("reset",w._resetHandler)}},_template:function(){this._ariaTemplate=g(this.options.ARIATemplate)},_updateARIA:function(u){this.element.attr("aria-label",this._ariaTemplate({current:u}))}});m.plugin(X)})(window.kendo.jQuery);kendo_module({id:"autocomplete",name:"AutoComplete",category:"web",description:"The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]});(function(a,Z){var X=window.kendo,H=X.support,P=X._activeElement,N=H.placeholder,D=X.ui,S=X.keys,J=X.data.DataSource,M=D.List,Q="aria-disabled",B="aria-readonly",G="k-state-default",F="disabled",Y="readonly",V="k-state-focused",C="k-state-selected",U="k-state-disabled",O="k-state-hover",W=".kendoAutoComplete",A="mouseenter"+W+" mouseleave"+W,c=M.caret,I=M.selectText,R=a.proxy;function L(d,f,e){return e?f.substring(0,d).split(e).length-1:0}function b(d,f,e){return f.split(e)[L(d,f,e)]}function T(f,h,g,e){var d=h.split(e);d.splice(L(f,h,e),1,g);if(e&&d[d.length-1]!==""){d.push("")}return d.join(e)}function E(e){var d=e.value.length;I(e,d,d)}var K=M.extend({init:function(g,f){var e=this,d;e.ns=W;f=a.isArray(f)?{dataSource:f}:f;M.fn.init.call(e,g,f);g=e.element;f=e.options;f.placeholder=f.placeholder||g.attr("placeholder");if(N){g.attr("placeholder",f.placeholder)}e._wrapper();e._loader();e._dataSource();e._ignoreCase();g[0].type="text";d=e.wrapper;e._popup();g.addClass("k-input").on("keydown"+W,R(e._keydown,e)).on("paste"+W,R(e._search,e)).on("focus"+W,function(){e._prev=e._accessor();e._placeholder(false);d.addClass(V)}).on("blur"+W,function(){e._change();e._placeholder();d.removeClass(V)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":true});e._enable();e._old=e._accessor();if(g[0].id){g.attr("aria-owns",e.ul[0].id)}e._aria();e._placeholder();X.notify(e)},options:{name:"AutoComplete",enabled:true,suggest:false,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:true,highlightFirst:false,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var d=this;if(d.dataSource&&d._refreshHandler){d._unbindDataSource()}else{d._refreshHandler=R(d.refresh,d);d._progressHandler=R(d._showBusy,d)}d.dataSource=J.create(d.options.dataSource).bind("change",d._refreshHandler).bind("progress",d._progressHandler)},setDataSource:function(d){this.options.dataSource=d;this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(d){M.fn.setOptions.call(this,d);this._template();this._accessors();this._aria()},_editable:function(g){var e=this,h=e.element,d=e.wrapper.off(W),i=g.readonly,f=g.disable;if(!i&&!f){d.addClass(G).removeClass(U).on(A,e._toggleHover);h.removeAttr(F).removeAttr(Y).attr(Q,false).attr(B,false)}else{d.addClass(f?U:G).removeClass(f?G:U);h.attr(F,f).attr(Y,i).attr(Q,f).attr(B,i)}},close:function(){var d=this,e=d._current;if(e){e.removeClass(C)}d.current(null);d.popup.close()},destroy:function(){var d=this;d.element.off(W);d.wrapper.off(W);M.fn.destroy.call(d)},refresh:function(){var f=this,h=f.ul[0],i=f.popup,g=f.options,j=f._data(),e=j.length,d;f.trigger("dataBinding");h.innerHTML=X.render(f.template,j);f._height(e);if(i.visible()){i._position()}if(e){if(g.highlightFirst){f.current(a(h.firstChild))}if(g.suggest){f.suggest(a(h.firstChild))}}if(f._open){f._open=false;d=e?"open":"close";if(f._typing&&f.element[0]!==P()){d="close"}i[d]();f._typing=Z}if(f._touchScroller){f._touchScroller.reset()}f._makeUnselectable();f._hideBusy();f.trigger("dataBound")},select:function(d){this._select(d)},search:function(h){var e=this,f=e.options,i=f.ignoreCase,g=f.separator,d;h=h||e._accessor();e._current=null;clearTimeout(e._typing);if(g){h=b(c(e.element[0]),h,g)}d=h.length;if(!d){e.popup.close()}else{if(d>=e.options.minLength){e._open=true;e._filterSource({value:i?h.toLowerCase():h,operator:f.filter,field:f.dataTextField,ignoreCase:i})}}},suggest:function(i){var h=this,l=h._last,g=h._accessor(),d=h.element[0],k=c(d),f=h.options.separator,n=g.split(f),m=L(k,g,f),j=k,e;if(l==S.BACKSPACE||l==S.DELETE){h._last=Z;return}i=i||"";if(typeof i!=="string"){e=M.inArray(i[0],h.ul[0]);if(e>-1){i=h._text(h._data()[e])}else{i=""}}if(k<=0){k=g.toLowerCase().indexOf(i.toLowerCase())+1}e=g.substring(0,k).lastIndexOf(f);e=e>-1?k-(e+f.length):k;g=n[m].substring(0,e);if(i){e=i.toLowerCase().indexOf(g.toLowerCase());if(e>-1){i=i.substring(e+g.length);j=k+i.length;g+=i}if(f&&n[n.length-1]!==""){n.push("")}}n[m]=g;h._accessor(n.join(f||""));if(d===P()){I(d,k,j)}},value:function(d){if(d!==Z){this._accessor(d);this._old=d}else{return this._accessor()}},_accessor:function(e){var d=this,f=d.element[0];if(e!==Z){f.value=e===null?"":e;d._placeholder()}else{e=f.value;if(f.className.indexOf("k-readonly")>-1){if(e===d.options.placeholder){return""}else{return e}}return e}},_accept:function(e){var d=this;d._focus(e);E(d.element[0])},_keydown:function(f){var g=this,i=g.ul[0],d=f.keyCode,h=g._current,j=g.popup.visible();g._last=d;if(d===S.DOWN){if(j){g._move(h?h.next():a(i.firstChild))}f.preventDefault()}else{if(d===S.UP){if(j){g._move(h?h.prev():a(i.lastChild))}f.preventDefault()}else{if(d===S.ENTER||d===S.TAB){if(d===S.ENTER&&g.popup.visible()){f.preventDefault()}g._accept(h)}else{if(d===S.ESC){if(g.popup.visible()){f.preventDefault()}g.close()}else{g._search()}}}}},_move:function(e){var d=this;e=e[0]?e:null;d.current(e);if(d.options.suggest){d.suggest(e)}},_hideBusy:function(){var d=this;clearTimeout(d._busy);d._loading.hide();d.element.attr("aria-busy",false);d._busy=null},_showBusy:function(){var d=this;if(d._busy){return}d._busy=setTimeout(function(){d.element.attr("aria-busy",true);d._loading.show()},100)},_placeholder:function(e){if(N){return}var h=this,g=h.element,f=h.options.placeholder,d;if(f){d=g.val();if(e===Z){e=!d}if(!e){if(d!==f){f=d}else{f=""}}if(d===h._old&&!e){return}g.toggleClass("k-readonly",e).val(f);if(!f&&g[0]===document.activeElement){M.selectText(g[0],0,0)}}},_search:function(){var d=this;clearTimeout(d._typing);d._typing=setTimeout(function(){if(d._prev!==d._accessor()){d._prev=d._accessor();d.search()}},d.options.delay)},_select:function(h){var e=this,g=e.options.separator,i=e._data(),f,d;h=a(h);if(h[0]&&!h.hasClass(C)){d=M.inArray(h[0],e.ul[0]);if(d>-1){i=i[d];f=e._text(i);if(g){f=T(c(e.element[0]),e._accessor(),f,g)}e._accessor(f);e.current(h.addClass(C))}}},_loader:function(){this._loading=a('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(d){a(d.currentTarget).toggleClass(O,d.type==="mouseenter")},_wrapper:function(){var e=this,f=e.element,g=f[0],d;d=f.parent();if(!d.is("span.k-widget")){d=f.wrap("<span />").parent()}d.attr("tabindex",-1);d.attr("role","presentation");d[0].style.cssText=g.style.cssText;f.css({width:"100%",height:g.style.height});e._focused=e.element;e.wrapper=d.addClass("k-widget k-autocomplete k-header").addClass(g.className)}});D.plugin(K)})(window.kendo.jQuery);kendo_module({id:"dropdownlist",name:"DropDownList",category:"web",description:"The DropDownList widget displays a list of values and allows the selection of a single value from the list.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]});(function(T,S){var F=window.kendo,E=F.ui,R=E.Select,I=F.support.mobileOS,H=".kendoDropDownList",O="disabled",K="readonly",J="change",Q="k-state-focused",G="k-state-default",P="k-state-disabled",M="aria-disabled",B="aria-readonly",D="k-state-selected",L="mouseenter"+H+" mouseleave"+H,U="tabindex",N=T.proxy;var A=R.extend({init:function(a,Y){var X=this,Z=Y&&Y.index,W,b,V;X.ns=H;Y=T.isArray(Y)?{dataSource:Y}:Y;R.fn.init.call(X,a,Y);X._focusHandler=function(){X.wrapper.focus()};Y=X.options;a=X.element.on("focus"+H,X._focusHandler);this._inputTemplate();X._reset();X._word="";X._wrapper();X._tabindex();X.wrapper.data(U,X.wrapper.attr(U));X._aria();X._span();X._popup();X._mobile();X._dataSource();X._ignoreCase();X._enable();X._oldIndex=X.selectedIndex=-1;X._cascade();if(Z!==S){Y.index=Z}if(Y.autoBind){X.dataSource.fetch()}else{if(X.selectedIndex===-1){V=Y.text||"";if(!V){W=Y.optionLabel,b=W&&Y.index===0;if(X._isSelect){if(b){V=W}else{V=a.children(":selected").text()}}else{if(!a[0].value&&b){V=W}}}X._textAccessor(V)}}F.notify(X)},options:{name:"DropDownList",enabled:true,autoBind:true,index:0,text:null,value:null,template:"",valueTemplate:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:true,animation:{}},events:["open","close",J,"select","dataBinding","dataBound","cascade"],setOptions:function(V){R.fn.setOptions.call(this,V);this._template();this._inputTemplate();this._accessors();this._aria()},destroy:function(){var V=this;V.wrapper.off(H);V.element.off(H);V._inputWrapper.off(H);R.fn.destroy.call(V)},open:function(){var V=this;if(!V.ul[0].firstChild){V._open=true;if(!V._request){V.dataSource.fetch()}}else{V.popup.open();V._scroll(V._current)}},toggle:function(V){this._toggle(V)},refresh:function(){var W=this,Y=W._data(),V=Y.length,X=W.options.optionLabel;W.trigger("dataBinding");if(W._current){W.current(null)}W.ul[0].innerHTML=F.render(W.template,Y);W._height(V);if(W.popup.visible()){W.popup._position()}if(W._isSelect){if(X&&V){X=W._optionLabelText(X);X='<option value="">'+X+"</option>"}W._options(Y,X)}if(W._open){W._open=false;W.toggle(!!V)}W._hideBusy();W._makeUnselectable();if(!W._fetch){if(V){W._selectItem()}else{if(W._textAccessor()!==X){W.element.val("");W._textAccessor("")}}}W._bound=!!V;W.trigger("dataBound")},search:function(W){if(W){var V=this,X=V.options.ignoreCase;if(X){W=W.toLowerCase()}V._select(function(Y){var Z=V._text(Y);if(Z!==S){Z=(Z+"");if(X){Z=Z.toLowerCase()}return Z.indexOf(W)===0}})}},text:function(X){var V=this;var W,Z;var Y=V.options.ignoreCase;X=X===null?"":X;if(X!==S){if(typeof X==="string"){Z=Y?X.toLowerCase():X;W=V._select(function(a){a=V._text(a);if(Y){a=(a+"").toLowerCase()}return a===Z});if(W){X=W}}V._textAccessor(X)}else{return V._textAccessor()}},value:function(X){var W=this,Y,V;if(X!==S){if(X!==null){X=X.toString()}W._selectedValue=X;V=X||(W.options.optionLabel&&!W.element[0].disabled&&X==="");if(V&&W._fetchItems(X)){return}Y=W._index(X);W.select(Y>-1?Y:0)}else{return W._accessor()}},_editable:function(X){var Y=this,V=Y.element,d=X.disable,c=X.readonly,b=Y.wrapper.off(H),Z=Y._inputWrapper.off(L),W=function(){Z.addClass(Q);Y._blured=false},a=function(){if(!Y._blured){Y._triggerCascade();var e=window.self!==window.top;if(F.support.mobileOS.ios&&e){Y._change()}else{Y._blur()}Z.removeClass(Q);Y._blured=true;V.blur()}};if(!c&&!d){V.removeAttr(O).removeAttr(K);Z.addClass(G).removeClass(P).on(L,Y._toggleHover);b.attr(U,b.data(U)).attr(M,false).attr(B,false).on("click"+H,function(f){Y._blured=false;f.preventDefault();Y.toggle()}).on("keydown"+H,N(Y._keydown,Y)).on("keypress"+H,N(Y._keypress,Y)).on("focusin"+H,W).on("focusout"+H,a)}else{if(d){b.removeAttr(U);Z.addClass(P).removeClass(G)}else{Z.addClass(G).removeClass(P);b.on("focusin"+H,W).on("focusout"+H,a)}V.attr(O,d).attr(K,c);b.attr(M,d).attr(B,c)}},_accept:function(V){this._focus(V)},_optionLabelText:function(){var W=this.options,V=W.dataTextField,X=W.optionLabel;if(X&&V&&typeof X==="object"){return this._text(X)}return X},_data:function(){var a=this,Z=a.options,b=Z.optionLabel,d=Z.dataTextField,c=Z.dataValueField,W=a.dataSource.view(),Y=W.length,V=b,X=0;if(b&&Y){if(typeof b==="object"){V=b}else{if(d){V={};d=d.split(".");c=c.split(".");C(V,c,"");C(V,d,b)}}V=new F.data.ObservableArray([V]);for(;X<Y;X++){V.push(W[X])}W=V}return W},_keydown:function(W){var X=this,V=W.keyCode,Z=F.keys,Y=X.ul[0];if(V===Z.LEFT){V=Z.UP}else{if(V===Z.RIGHT){V=Z.DOWN}}W.keyCode=V;X._move(W);if(V===Z.HOME){W.preventDefault();X._select(Y.firstChild)}else{if(V===Z.END){W.preventDefault();X._select(Y.lastChild)}}},_selectNext:function(b,X){var a=this,W,c=X,Y=a._data(),Z=Y.length,V=a.options.ignoreCase,d=function(e,f){e=e+"";if(V){e=e.toLowerCase()}if(e.indexOf(b)===0){a._select(f);a._triggerEvents();return true}};for(;X<Z;X++){W=a._text(Y[X]);if(W&&d(W,X)){return true}}if(c>0){X=0;for(;X<=c;X++){W=a._text(Y[X]);if(W&&d(W,X)){return true}}}return false},_keypress:function(V){if(V.charCode===0){return}var W=this,Z=String.fromCharCode(V.charCode||V.keyCode),X=W.selectedIndex,Y=W._word;if(W.options.ignoreCase){Z=Z.toLowerCase()}if(Z===" "){V.preventDefault()}if(W._last===Z&&Y.length<=1&&X>-1){if(!Y){Y=Z}if(W._selectNext(Y,X+1)){return}}W._word=Y+Z;W._last=Z;W._search()},_popup:function(){R.fn._popup.call(this);this.popup.one("open",function(){this.wrapper=F.wrap(this.element).addClass("km-popup")})},_search:function(){var V=this,W=V.dataSource,X=V.selectedIndex,Y=V._word;clearTimeout(V._typing);V._typing=setTimeout(function(){V._word=""},V.options.delay);if(!V.ul[0].firstChild){W.one(J,function(){if(W.data()[0]){V._selectNext(Y,X)}}).fetch();return}V._selectNext(Y,X);V._triggerEvents()},_select:function(Z){var X=this,Y=X._current,a=null,V,W;Z=X._get(Z);if(Z&&Z[0]&&!Z.hasClass(D)){if(Y){Y.removeClass(D)}W=E.List.inArray(Z[0],X.ul[0]);if(W>-1){a=X._data()[W];V=X._value(a);X.selectedIndex=W;X._textAccessor(a);X._accessor(V!==S?V:X._text(a),W);X._selectedValue=X._accessor();X.current(Z.addClass(D));if(X._optionID){X._current.attr("aria-selected",true)}}}return a},_triggerEvents:function(){if(!this.popup.visible()){this._triggerCascade();this._change()}},_mobile:function(){var W=this,X=W.popup,V=X.element.parents(".km-root").eq(0);if(V.length&&I){X.options.animation.open.effects=(I.android||I.meego)?"fadeIn":(I.ios||I.wp)?"slideIn:up":X.options.animation.open.effects}},_span:function(){var W=this,V=W.wrapper,X="span.k-input",Y;Y=V.find(X);if(!Y[0]){V.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(W.element);Y=V.find(X)}W.span=Y;W._inputWrapper=T(V[0].firstChild);W._arrow=V.find(".k-icon").mousedown(function(Z){Z.preventDefault()})},_wrapper:function(){var W=this,X=W.element,Y=X[0],V;V=X.parent();if(!V.is("span.k-widget")){V=X.wrap("<span />").parent();V[0].style.cssText=Y.style.cssText}X.hide();W._focused=W.wrapper=V.addClass("k-widget k-dropdown k-header").addClass(Y.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":true,"aria-expanded":false})},_clearSelection:function(){var V=this,W=V.options.optionLabel;if(V.dataSource.view()[0]&&W){V.select(0);return}V.selectedIndex=-1;V.element.val("");V._textAccessor(W)},_inputTemplate:function(){var V=this,W=V.options.valueTemplate;if(!W){W=T.proxy(F.template("#:this._text(data)#"),V)}else{W=F.template(W)}V.valueTemplate=W},_textAccessor:function(X){var W=this.dataItem();var V=this.span;if(X!==S){if(T.isPlainObject(X)||X instanceof F.data.ObservableObject){W=X}else{if(!W||this._text(W)!==X){if(this.options.dataTextField){W={};W[this.options.dataTextField]=X;W[this.options.dataValueField]=this._accessor()}else{W=X}}}V.html(this.valueTemplate(W))}else{return V.text()}}});function C(W,a,Y){var X=0,V=a.length-1,Z;for(;X<V;++X){Z=a[X];if(!(Z in W)){W[Z]={}}W=W[Z]}W[a[V]]=Y}E.plugin(A)})(window.kendo.jQuery);kendo_module({id:"combobox",name:"ComboBox",category:"web",description:"The ComboBox widget allows the selection from pre-defined values or entering a new value.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]});(function(Z,Y){var W=window.kendo,E=W.ui,M=E.List,T=E.Select,I=W.support,N=I.placeholder,P=W._activeElement,S=W.keys,G=".kendoComboBox",a="click"+G,X="mousedown"+G,A="disabled",D="readonly",C="change",H="k-state-default",V="k-state-focused",U="k-state-disabled",Q="aria-disabled",J="aria-readonly",F="k-state-selected",b="filter",L="accept",K="rebind",O="mouseenter"+G+" mouseleave"+G,c=null,R=Z.proxy;var B=T.extend({init:function(g,f){var e=this,d;e.ns=G;f=Z.isArray(f)?{dataSource:f}:f;T.fn.init.call(e,g,f);e._focusHandler=function(){e.input.focus()};f=e.options;g=e.element.on("focus"+G,e._focusHandler);f.placeholder=f.placeholder||g.attr("placeholder");e._reset();e._wrapper();e._input();e._tabindex(e.input);e._popup();e._dataSource();e._ignoreCase();e._enable();e._cascade();e._aria();e._oldIndex=e.selectedIndex=-1;if(f.autoBind){e._filterSource()}else{d=f.text;if(!d&&e._isSelect){d=g.children(":selected").text()}if(d){e.input.val(d);e._prev=d}}if(!d){e._placeholder()}W.notify(e)},options:{name:"ComboBox",enabled:true,index:-1,text:null,value:null,autoBind:true,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:true,template:"",filter:"none",placeholder:"",suggest:false,cascadeFrom:"",cascadeFromField:"",ignoreCase:true,animation:{}},events:["open","close",C,"select","dataBinding","dataBound","cascade"],setOptions:function(d){T.fn.setOptions.call(this,d);this._template();this._accessors();this._aria()},current:function(f){var d=this,e=d._current;if(f===Y){return e}if(e){e.removeClass(F)}T.fn.current.call(d,f)},destroy:function(){var d=this;d.input.off(G);d.element.off(G);d._inputWrapper.off(G);T.fn.destroy.call(d)},_editable:function(h){var f=this,g=h.disable,j=h.readonly,e=f._inputWrapper.off(G),i=f.element.add(f.input.off(G)),d=f._arrow.parent().off(a+" "+X);if(!j&&!g){e.addClass(H).removeClass(U).on(O,f._toggleHover);i.removeAttr(A).removeAttr(D).attr(Q,false).attr(J,false);d.on(a,function(){f.toggle()}).on(X,function(k){k.preventDefault()});f.input.on("keydown"+G,R(f._keydown,f)).on("focus"+G,function(){e.addClass(V);f._placeholder(false)}).on("blur"+G,function(){e.removeClass(V);clearTimeout(f._typing);if(f.options.text!==f.input.val()){f.text(f.text())}f._placeholder();f._blur();f.element.blur()})}else{e.addClass(g?U:H).removeClass(g?H:U);i.attr(A,g).attr(D,j).attr(Q,g).attr(J,j)}},open:function(){var d=this,e=d.dataSource.options.serverFiltering;if(d.popup.visible()){return}if(!d.ul[0].firstChild||(d._state===L&&!e)){d._open=true;d._state=K;d._filterSource()}else{d.popup.open();d._scroll(d._current)}},refresh:function(){var i=this,l=i.ul[0],j=i.options,h=i._state,d=i._data(),f=d.length,e,g,k,m;i.trigger("dataBinding");l.innerHTML=W.render(i.template,d);i._height(f);if(i.popup.visible()){i.popup._position()}if(i._isSelect){e=i.element[0].firstChild;if(h===K){i._state="";g=i.value()}m=i._option;i._option=Y;i._options(d);if(m&&m[0].selected){i._custom(m.val())}else{if(!i._bound&&!e){i._custom("")}}}if(f){if(j.highlightFirst){i.current(Z(l.firstChild))}if(j.suggest&&i.input.val()&&i._request!==Y){i.suggest(Z(l.firstChild))}}if(h!==b&&!i._fetch){i._selectItem()}if(i._open){i._open=false;k=!!f;if(i._typing&&i.input[0]!==P()){k=false}i.toggle(k);i._typing=Y}if(i._touchScroller){i._touchScroller.reset()}i._makeUnselectable();i._hideBusy();i._bound=true;i.trigger("dataBound")},search:function(i){i=typeof i==="string"?i:this.text();var e=this,d=i.length,f=e.options,j=f.ignoreCase,g=f.filter,h=f.dataTextField;clearTimeout(e._typing);if(d>=f.minLength){e._state=b;if(g==="none"){e._filter(i)}else{e._open=true;e._filterSource({value:j?i.toLowerCase():i,field:h,operator:g,ignoreCase:j})}}},suggest:function(h){var e=this,i=e.input[0],g=e.text(),f=M.caret(i),d=e._last,j;if(d==S.BACKSPACE||d==S.DELETE){e._last=Y;return}h=h||"";if(typeof h!=="string"){j=M.inArray(h[0],e.ul[0]);if(j>-1){h=e._text(e.dataSource.view()[j])}else{h=""}}if(f<=0){f=g.toLowerCase().indexOf(h.toLowerCase())+1}if(h){j=h.toLowerCase().indexOf(g.toLowerCase());if(j>-1){g+=h.substring(j+g.length)}}else{g=g.substring(0,f)}if(g.length!==f||!h){i.value=g;if(i===P()){M.selectText(i,f,g.length)}}},text:function(f){f=f===null?"":f;var d=this,g=d.input[0],h=d.options.ignoreCase,i=f,e;if(f!==Y){e=d.dataItem();if(e&&d._text(e)===f&&d._value(e).toString()===d._old){d._triggerCascade();return}if(h){i=i.toLowerCase()}d._select(function(j){j=d._text(j);if(h){j=(j+"").toLowerCase()}return j===i});if(d.selectedIndex<0){d._custom(f);g.value=f}d._prev=g.value;d._triggerCascade()}else{return g.value}},toggle:function(e){var d=this;d._toggle(e)},value:function(f){var d=this,e=d.options,g;if(f!==Y){if(f!==null){f=f.toString()}d._selectedValue=f;if(!d._open&&f&&d._fetchItems(f)){return}g=d._index(f);if(g>-1){d.select(g)}else{d.current(c);d._custom(f);if(e.value!==f||e.text!==d.input.val()){d.text(f);d._placeholder()}}d._old=d._accessor();d._oldIndex=d.selectedIndex}else{return d._accessor()}},_accept:function(e){var d=this;if(e){d._focus(e)}else{d.text(d.text());d._change()}},_custom:function(f){var e=this,g=e.element,d=e._option;if(e._state===b){e._state=L}if(e._isSelect){if(!d){d=e._option=Z("<option/>");g.append(d)}d.text(f);d[0].selected=true}else{g.val(f)}e._selectedValue=f},_filter:function(h){var e=this,g=e.options,f=e.dataSource,i=g.ignoreCase,d=function(j){var k=e._text(j);if(k!==Y){k=k+"";if(k!==""&&h===""){return false}if(i){k=k.toLowerCase()}return k.indexOf(h)===0}};if(i){h=h.toLowerCase()}if(!e.ul[0].firstChild){f.one(C,function(){if(f.data()[0]){e.search(h)}}).fetch();return}if(e._highlight(d)!==-1){if(g.suggest&&e._current){e.suggest(e._current)}e.open()}e._hideBusy()},_highlight:function(e){var d=this,f;if(e===Y||e===null){return -1}e=d._get(e);f=M.inArray(e[0],d.ul[0]);if(f==-1){if(d.options.highlightFirst&&!d.text()){e=d.ul[0].firstChild;if(e){e=Z(e)}}else{e=c}}d.current(e);return f},_input:function(){var e=this,i=e.element.removeClass("k-input")[0],d=i.accessKey,j=e.wrapper,h="input.k-input",f=i.name||"",g;if(f){f='name="'+f+'_input" '}g=j.find(h);if(!g[0]){j.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+f+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(e.element);g=j.find(h)}g[0].style.cssText=i.style.cssText;if(i.maxLength>-1){g[0].maxLength=i.maxLength}g.addClass(i.className).val(this.options.text||i.value).css({width:"100%",height:i.style.height}).attr({"role":"combobox","aria-expanded":false}).show();if(N){g.attr("placeholder",e.options.placeholder)}if(d){i.accessKey="";g[0].accessKey=d}e._focused=e.input=g;e._inputWrapper=Z(j[0].firstChild);e._arrow=j.find(".k-icon").attr({"role":"button","tabIndex":-1});if(i.id){e._arrow.attr("aria-controls",e.ul[0].id)}},_keydown:function(f){var g=this,d=f.keyCode;g._last=d;clearTimeout(g._typing);if(d!=S.TAB&&!g._move(f)){g._search()}},_placeholder:function(e){if(N){return}var h=this,f=h.input,g=h.options.placeholder,d;if(g){d=h.value();if(e===Y){e=!d}f.toggleClass("k-readonly",e);if(!e){if(!d){g=""}else{return}}f.val(g);if(!g&&f[0]===P()){M.selectText(f[0],0,0)}}},_search:function(){var d=this;d._typing=setTimeout(function(){var e=d.text();if(d._prev!==e){d._prev=e;d.search(e)}},d.options.delay)},_select:function(h){var e=this,f,d,i=e._data(),g=e._highlight(h);e.selectedIndex=g;if(g!==-1){if(e._state===b){e._state=L}e._current.addClass(F);i=i[g];f=e._text(i);d=e._value(i);e._prev=e.input[0].value=f;e._accessor(d!==Y?d:f,g);e._selectedValue=e._accessor();e._placeholder();if(e._optionID){e._current.attr("aria-selected",true)}}},_wrapper:function(){var e=this,f=e.element,d=f.parent();if(!d.is("span.k-widget")){d=f.hide().wrap("<span />").parent();d[0].style.cssText=f[0].style.cssText}e.wrapper=d.addClass("k-widget k-combobox k-header").addClass(f[0].className).css("display","")},_clearSelection:function(h,e){var f=this,g=h._selectedValue||h.value(),d=g&&h.selectedIndex===-1;if(e||!g||d){f.value("")}}});E.plugin(B)})(window.kendo.jQuery);kendo_module({id:"multiselect",name:"MultiSelect",category:"web",description:"The MultiSelect widget allows the selection from pre-defined values.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]}]});(function(Z,b){var O=window.kendo,h=O.ui,V=h.List,N=O.keys,U=O._activeElement,M=O.data.ObservableArray,q=Z.proxy,f="id",e="li",a="accept",g="filter",K="open",L="close",c="change",J="progress",I="select",R="nextSibling",E="previousSibling",n=' style="display:none"',P="aria-disabled",i="aria-readonly",j="k-state-focused",l="k-loading-hidden",k="k-state-hover",S="k-state-disabled",H="disabled",G="readonly",D=".kendoMultiSelect",Q="click"+D,B="keydown"+D,W="mouseenter"+D,d="mouseleave"+D,A=W+" "+d,F=/"/g,o=Z.isArray,C=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"];var Y=V.extend({init:function(u,s){var r=this,v,t;r.ns=D;V.fn.init.call(r,u,s);r._wrapper();r._tagList();r._input();r._textContainer();r._loader();r._tabindex(r.input);u=r.element.attr("multiple","multiple").hide();s=r.options;t=s.value;if(!s.placeholder){s.placeholder=u.data("placeholder")}v=u.attr(f);if(v){r._tagID=v+"_tag_active";v=v+"_taglist";r.tagList.attr(f,v)}r._aria(v);r._dataSource();r._ignoreCase();r._popup();r._values=[];r._dataItems=[];r._reset();r._enable();r._placeholder();if(s.autoBind){r.dataSource.fetch()}else{if(t){if(!o(t)){t=[t]}if(Z.isPlainObject(t[0])||!s.dataValueField){r._retrieveData=true;r.dataSource.data(t);r.value(r._initialValues)}}}O.notify(r)},options:{name:"MultiSelect",enabled:true,autoBind:true,autoClose:true,highlightFirst:true,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:true,minLength:0,delay:100,value:null,maxSelectedItems:null,itemTemplate:"",tagTemplate:"",placeholder:"",height:200,animation:{}},events:[K,L,c,I,"dataBinding","dataBound"],setDataSource:function(r){this.options.dataSource=r;this._dataSource();if(this.options.autoBind){this.dataSource.fetch()}},setOptions:function(r){V.fn.setOptions.call(this,r);this._template();this._accessors();this._aria(this.tagList.attr(f))},current:function(r){this.currentTag(null);return V.fn.current.call(this,r)},currentTag:function(r){var s=this;if(r!==b){if(s._currentTag){s._currentTag.removeClass(j).removeAttr(f);s.input.removeAttr("aria-activedescendant")}if(r){r.addClass(j).attr(f,s._tagID);s.input.attr("aria-activedescendant",s._tagID)}s._currentTag=r}else{return s._currentTag}},dataItems:function(){return this._dataItems},destroy:function(){var s=this,r=s.ns;s.wrapper.off(r);s.tagList.off(r);s.input.off(r);V.fn.destroy.call(s)},_editable:function(u){var s=this,t=u.disable,w=u.readonly,r=s.wrapper.off(D),x=s.tagList.off(D),v=s.element.add(s.input.off(D));if(!w&&!t){r.removeClass(S).on(A,s._toggleHover).on("mousedown"+D,function(y){var z=y.target.className.indexOf("k-delete")!==-1;y.preventDefault();if(!z){if(s.input[0]!==U()){s.input.focus()}if(s.options.minLength===0){s.open()}}});s.input.on(B,q(s._keydown,s)).on("paste"+D,q(s._search,s)).on("focus"+D,function(){s._placeholder(false)}).on("blur"+D,function(){clearTimeout(s._typing);s._placeholder();s.close();if(s._state===g){s._state=a}s.element.blur()});v.removeAttr(H).removeAttr(G).attr(P,false).attr(i,false);x.on(W,e,function(){Z(this).addClass(k)}).on(d,e,function(){Z(this).removeClass(k)}).on(Q,".k-delete",function(y){s._unselect(Z(y.target).closest(e));s._change();s.close()})}else{if(t){r.addClass(S)}else{r.removeClass(S)}v.attr(H,t).attr(G,w).attr(P,t).attr(i,w)}},_close:function(){var r=this;if(r.options.autoClose||!r._visibleItems){r.close()}else{r.current(r.options.highlightFirst?T(r.ul[0]):null);r.popup._position()}},close:function(){this.popup.close();this.current(null)},open:function(){var r=this;if(!r.ul[0].firstChild||r._state===a||r._retrieveData){r._state="";r._open=true;r._retrieveData=false;r._filterSource()}else{if(r._visibleItems&&r._allowSelection()){r.popup.open();r.current(r.options.highlightFirst?T(r.ul[0]):null)}}},toggle:function(r){r=r!==b?r:!this.popup.visible();this[r?K:L]()},refresh:function(){var s=this,t=null,r;s.trigger("dataBinding");r=s._render(s.dataSource.view());s._height(r);if(s._setInitialValues){s._setInitialValues=false;s.value(s._initialValues)}if(s._open){s._open=false;s.toggle(r)}if(s.popup.visible()){s.popup._position();if(s.options.highlightFirst){t=T(s.ul[0])}}s.current(t);if(s._touchScroller){s._touchScroller.reset()}s._makeUnselectable();s._hideBusy();s.trigger("dataBound")},search:function(w){var s=this,t=s.options,x=t.ignoreCase,u=t.filter,v=t.dataTextField,r=s.input.val();if(t.placeholder===r){r=""}clearTimeout(s._typing);w=typeof w==="string"?w:r;if(w.length>=t.minLength){s._state=g;s._open=true;s._filterSource({value:x?w.toLowerCase():w,field:v,operator:u,ignoreCase:x})}},value:function(v){var t=this,r=Z(t.tagList[0].children),s=r.length,w,u=0;if(v===b){return t._values}if(t._fetchItems(v)){return}for(;u<s;u++){t._unselect(r.eq(u))}if(v!==null){v=o(v)||v instanceof M?v:[v];for(u=0,s=v.length;u<s;u++){w=t._index(v[u]);if(w>-1){t._select(w)}}t._old=t._values.slice()}},_dataSource:function(){var r=this,u=r.element,t=r.options,s=t.dataSource||{};s=o(s)?{data:s}:s;s.select=u;s.fields=[{field:t.dataTextField},{field:t.dataValueField}];if(r.dataSource&&r._refreshHandler){r._unbindDataSource()}else{r._refreshHandler=q(r.refresh,r);r._progressHandler=q(r._showBusy,r)}r.dataSource=O.data.DataSource.create(s).bind(c,r._refreshHandler).bind(J,r._progressHandler)},_fetchItems:function(s){var r=this;var t=Z.isArray(s)&&s.length===0;if(t||!s){return}if(!r._fetch&&!r.ul[0].firstChild){r.dataSource.one(c,function(){r.value(s);r._fetch=false});r._fetch=true;r.dataSource.fetch();return true}},_reset:function(){var t=this,u=t.element,s=u.attr("form"),r=s?Z("#"+s):u.closest("form");if(r[0]){t._resetHandler=function(){setTimeout(function(){t.value(t._initialValues)})};t._form=r.on("reset",t._resetHandler)}},_initValue:function(){var r=this,s=r.options.value||r.element.val();if(s===null){s=[]}else{if(!o(s)){s=[s]}s=r._mapValues(s)}r._old=r._initialValues=s;r._setInitialValues=!!s[0]},_mapValues:function(s){var r=this;if(s&&Z.isPlainObject(s[0])){s=Z.map(s,function(t){return r._value(t)})}return s},_change:function(){var r=this,s=r.value();if(!X(s,r._old)){r._old=s.slice();r.trigger(c);r.element.trigger(c)}},_click:function(r){var s=this,t=Z(r.currentTarget);if(!r.isDefaultPrevented()){if(s.trigger(I,{item:t})){s._close();return}s._select(t);s._change();s._close()}},_item:function(r,s){r=r[s]();if(r[0]&&!r.is(":visible")){r=this._item(r,s)}return r},_keydown:function(r){var v=this,x=r.keyCode,w=v._currentTag,s=v._current,y=v.input.val(),u=O.support.isRtl(v.wrapper),t=v.popup.visible();if(x===N.DOWN){r.preventDefault();if(!t){v.open();return}if(s){s=p(s[0],R)}else{s=T(v.ul[0])}if(s){v.current(Z(s))}}else{if(x===N.UP){if(t){if(s){s=p(s[0],E)}else{s=m(v.ul[0])}v.current(Z(s));if(!v._current[0]){v.close()}}r.preventDefault()}else{if((x===N.LEFT&&!u)||(x===N.RIGHT&&u)){if(!y){w=w?w.prev():Z(v.tagList[0].lastChild);if(w[0]){v.currentTag(w)}}}else{if((x===N.RIGHT&&!u)||(x===N.LEFT&&u)){if(!y&&w){w=w.next();v.currentTag(w[0]?w:null)}}else{if(x===N.ENTER&&t){if(s){if(v.trigger(I,{item:s})){v._close();return}v._select(s)}v._change();v._close();r.preventDefault()}else{if(x===N.ESC){if(t){r.preventDefault()}else{v.currentTag(null)}v.close()}else{if(x===N.HOME){if(t){v.current(T(v.ul[0]))}else{if(!y){w=v.tagList[0].firstChild;if(w){v.currentTag(Z(w))}}}}else{if(x===N.END){if(t){v.current(m(v.ul[0]))}else{if(!y){w=v.tagList[0].lastChild;if(w){v.currentTag(Z(w))}}}}else{if((x===N.DELETE||x===N.BACKSPACE)&&!y){if(x===N.BACKSPACE&&!w){w=Z(v.tagList[0].lastChild)}if(w&&w[0]){v._unselect(w);v._change();v._close()}}else{clearTimeout(v._typing);setTimeout(function(){v._scale()});v._search()}}}}}}}}}},_hideBusy:function(){var r=this;clearTimeout(r._busy);r.input.attr("aria-busy",false);r._loading.addClass(l);r._busy=null},_showBusy:function(){var r=this;if(r._busy){return}r._busy=setTimeout(function(){r.input.attr("aria-busy",true);r._loading.removeClass(l)},100)},_placeholder:function(s){var u=this,t=u.input,r=U();if(s===b){s=false;if(t[0]!==r){s=!u._dataItems[0]}u.wrapper.removeClass(j)}else{u.wrapper.addClass(j)}u._prev="";t.toggleClass("k-readonly",s).val(s?u.options.placeholder:"");if(t[0]===r){V.selectText(t[0],0,0)}u._scale()},_scale:function(){var t=this,s=t.wrapper,u=s.width(),v=t._span.text(t.input.val()),r;if(!s.is(":visible")){v.appendTo(document.documentElement);u=r=v.width()+25;v.appendTo(s)}else{r=v.width()+25}t.input.width(r>u?u:r)},_option:function(t,v){var r="<option",s=this._text(t),u=this._value(t);if(u!==b){u+="";if(u.indexOf('"')!==-1){u=u.replace(F,"&quot;")}r+=' value="'+u+'"'}if(v){r+=' selected="selected"'}r+=">";if(s!==b){r+=O.htmlEncode(s)}return r+="</option>"},_render:function(s){var v=this,u=s.length,r=v.itemTemplate,x=v._dataItems.slice(0),y=0,t=0,w="",z="",Aa,Ab;for(;t<u;t++){Aa=s[t];Ab=v._selected(x,Aa);z+=r(Aa,t,Ab);w+=v._option(Aa,Ab);if(!Ab){y+=1}}u=x.length;if(u){for(t=0;t<u;t++){w+=v._option(x[t],true)}}v.ul[0].innerHTML=z;v.element.html(w);v._visibleItems=y;return y},_selected:function(y,Aa){var w=this,x=w._text,r=w._value,v=r(Aa),u=y.length,z=false,s,t=0;if(v===b){v=x(Aa)}for(;t<u;t++){Aa=y[t];s=r(Aa);if(s===b){s=x(Aa)}if(s!==b&&s===v){z=true;break}}if(z){y.splice(t,1)}return z},_search:function(){var r=this;r._typing=setTimeout(function(){var s=r.input.val();if(r._prev!==s){r._prev=s;r.search(s)}},r.options.delay)},_allowSelection:function(){var r=this.options.maxSelectedItems;return r===null||r>this._values.length},_select:function(t){var r=this,u=r._values,s,v;if(!r._allowSelection()){return}if(!isNaN(t)){v=t;r.ul[0].children[v].style.display="none"}else{v=t.hide().data("idx")}r.element[0].children[v].selected=true;s=r.dataSource.view()[v];r.tagList.append(r.tagTemplate(s));r._dataItems.push(s);u.push(r._dataValue(s));r._visibleItems-=1;r.currentTag(null);r._placeholder();r._height(r._visibleItems);if(r._state===g){r._state=a}},_unselect:function(s){var v=this,r=s.index(),y,u,w,x,t;s.remove();v.currentTag(null);v._values.splice(r,1);y=v._dataItems.splice(r,1)[0];u=v._dataValue(y);r=v._index(u);if(r!==-1){Z(v.ul[0].children[r]).show();v.element[0].children[r].selected=false;v._visibleItems+=1;v._height(v._visibleItems)}else{r=v.dataSource.view().length;w=v.element[0].children;t=w.length;for(;r<t;r++){x=w[r];if(x.value==u){x.selected=false;break}}}v._placeholder()},_template:function(){var s=this,t=s.options,r=t.itemTemplate,u=t.tagTemplate,v=t.dataSource,w;if(s.element[0].length&&!v){t.dataTextField=t.dataTextField||"text";t.dataValueField=t.dataValueField||"value"}w=O.template("#:"+O.expr(t.dataTextField,"data")+"#",{useWithBlock:false});r=r?O.template(r):w;u=u?O.template(u):w;s.itemTemplate=function(z,y,x){return'<li tabindex="-1" role="option" data-idx="'+y+'" unselectable="on" class="k-item"'+(x?n:"")+">"+r(z)+"</li>"};s.tagTemplate=function(x){return'<li class="k-button" unselectable="on"><span unselectable="on">'+u(x)+'</span><span unselectable="on" class="k-icon k-delete">delete</span></li>'}},_input:function(){var s=this,r=s.element[0].accessKey,t=s._innerWrapper.children("input.k-input");if(!t[0]){t=Z('<input class="k-input" style="width: 25px" />').appendTo(s._innerWrapper)}s.element.removeAttr("accesskey");s._focused=s.input=t.attr({"accesskey":r,"role":"listbox","aria-expanded":false})},_tagList:function(){var r=this,s=r._innerWrapper.children("ul");if(!s[0]){s=Z('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(r._innerWrapper)}r.tagList=s},_loader:function(){this._loading=Z('<span class="k-icon k-loading '+l+'"></span>').insertAfter(this.input)},_textContainer:function(){var r=O.getComputedStyles(this.input[0],C);r.position="absolute";r.visibility="hidden";this._span=Z("<span/>").css(r).appendTo(this.wrapper)},_wrapper:function(){var s=this,t=s.element,r=t.parent("span.k-multiselect");if(!r[0]){r=t.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent();r[0].style.cssText=t[0].style.cssText;Z('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(t)}s.wrapper=r.addClass(t[0].className).css("display","");s._innerWrapper=Z(r[0].firstChild)}});function X(t,s){var r;if((t===null&&s!==null)||(t!==null&&s===null)){return false}r=t.length;if(r!==s.length){return false}while(r--){if(t[r]!==s[r]){return false}}return true}function T(s){var r=s.firstChild;if(r&&r.style.display==="none"){r=p(r,R)}if(r){return Z(r)}return r}function m(s){var r=s.lastChild;if(r&&r.style.display==="none"){r=p(r,E)}if(r){return Z(r)}return r}function p(r,s){r=r[s];if(r&&r.style.display==="none"){r=p(r,s)}return r}h.plugin(Y)})(window.kendo.jQuery);kendo_module({id:"colorpicker",name:"Color tools",category:"web",description:"Color selection widgets",depends:["core","popup","slider","userevents"]});(function(b,K,a){var O=window.kendo,G=O.Class,D=O.ui,Z=D.Widget,X=O.keys,U="background-color",W="k-state-selected",d="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",S="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",Q={apply:"Apply",cancel:"Cancel"},R=".kendoColorTools",T="click"+R,c="keydown"+R,B=O.support.browser,Y=B.msie&&B.version<9;var P=Z.extend({init:function(k,j){var i=this,h;Z.fn.init.call(i,k,j);k=i.element;j=i.options;i._value=j.value=C(j.value);h=i._ariaId=j.ariaId;if(h){k.attr("aria-labelledby",h)}if(j._standalone){i._triggerSelect=i._triggerChange}},options:{name:"ColorSelector",value:null,_standalone:true},events:["change","select","cancel"],color:function(h){if(h!==a){this._value=C(h);this._updateUI(this._value)}return this._value},value:function(h){h=this.color(h);if(h){if(this.options.opacity){h=h.toCssRgba()}else{h=h.toCss()}}return h||null},enable:function(h){if(arguments.length===0){h=true}if(h){b(".k-disabled-overlay",this.wrapper).remove()}else{this.wrapper.append("<div class='k-disabled-overlay'></div>")}this._onEnable(h)},_select:function(j,i){var h=this._value;j=this.color(j);if(!i){if(!j.equals(h)){this.trigger("change",{value:this.value()})}else{if(!this._standalone){this.trigger("cancel")}}}},_triggerSelect:function(h){E(this,"select",h)},_triggerChange:function(h){E(this,"change",h)},destroy:function(){if(this.element){this.element.off(R)}if(this.wrapper){this.wrapper.off(R).find("*").off(R)}this.wrapper=null;Z.fn.destroy.call(this)},_updateUI:b.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function E(i,h,j){j=C(j);if(j&&!j.equals(i.color())){if(h=="change"){i._value=j}if(j.a!=1){j=j.toCssRgba()}else{j=j.toCss()}i.trigger(h,{value:j})}}var N=P.extend({init:function(m,k){var j=this;P.fn.init.call(j,m,k);m=j.wrapper=j.element;k=j.options;var n=k.palette;if(n=="websafe"){n=S;k.columns=18}else{if(n=="basic"){n=d}}if(typeof n=="string"){n=n.split(",")}if(b.isArray(n)){n=b.map(n,function(o){return C(o)})}m.addClass("k-widget k-colorpalette").append(b(j._template({colors:n,columns:k.columns,tileSize:k.tileSize,value:j._value,id:k.ariaId}))).on(T,".k-item",function(o){j._select(b(o.currentTarget).css(U))}).attr("tabIndex",0).on(c,J(j._keydown,j));var i=k.tileSize,l,h;if(i){if(/number|string/.test(typeof i)){l=h=parseFloat(i)}else{if(typeof i=="object"){l=parseFloat(i.width);h=parseFloat(i.height)}else{throw new Error("Unsupported value for the 'tileSize' argument")}}m.find(".k-item").css({width:l,height:h})}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(h){if(h){this.wrapper.removeAttr("tabIndex")}else{this.wrapper.attr("tabIndex",0)}},_keydown:function(h){var k,l=this,p=l.wrapper,o=p.find(".k-item"),i=o.filter("."+W).get(0),n=h.keyCode;if(n==X.LEFT){k=H(o,i,-1)}else{if(n==X.RIGHT){k=H(o,i,1)}else{if(n==X.DOWN){k=H(o,i,l.options.columns)}else{if(n==X.UP){k=H(o,i,-l.options.columns)}else{if(n==X.ENTER){V(h);if(i){this._select(b(i).css(U))}}else{if(n==X.ESC){this._cancel()}}}}}}if(k){V(h);k=b(k);b(i).removeClass(W).removeAttr("aria-selected");k.addClass(W).attr("aria-selected",true);try{var j=C(k.css(U));l._triggerSelect(j)}catch(m){}}},_updateUI:function(j){var i=this,h=null;i.wrapper.find(".k-item."+W).removeClass(W).removeAttr("aria-selected");i.wrapper.find(".k-item").each(function(){var k=C(b(this).css(U));if(k&&k.equals(j)){h=this}});b(h).addClass(W).attr("aria-selected",true)},_template:O.template('<table class="k-palette k-reset"><tr># for (var i = 0; i < colors.length; ++i) { ## if (i && i % columns == 0) { # </tr><tr> # } #<td unselectable="on" style="background-color:#= colors[i].toCss() #" #=(id && i === 0) ? "id=\\""+id+"\\" aria-selected=\\"true\\"" : "" # class="k-item #= colors[i].equals(value) ? "'+W+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')});var e=P.extend({init:function(j,i){var h=this;P.fn.init.call(h,j,i);i=h.options;j=h.element;h.wrapper=j.addClass("k-widget k-flatcolorpicker").append(h._template(i));h._hueElements=b(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",j);h._selectedColor=b(".k-selected-color-display",j);h._colorAsText=b("input.k-color-value",j);h._sliders();h._hsvArea();h._updateUI(h._value||new M(1,0,0,1));j.find("input.k-color-value").on(c,function(o){var m=this;if(o.keyCode==X.ENTER){try{var k=C(m.value);var n=h.color();h._select(k,k.equals(n))}catch(l){b(m).addClass("k-state-error")}}else{if(h.options.autoupdate){setTimeout(function(){var p=C(m.value,true);if(p){h._updateUI(p,true)}},10)}}}).end().on(T,".k-controls button.apply",function(){h._select(h._getHSV())}).on(T,".k-controls button.cancel",function(){h._updateUI(h.color());h._cancel()});if(Y){h._applyIEFilter()}},destroy:function(){this._hueSlider.destroy();if(this._opacitySlider){this._opacitySlider.destroy()}this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null;P.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:false,buttons:false,input:true,preview:true,autoupdate:true,messages:Q},_applyIEFilter:function(){var i=this.element.find(".k-hue-slider .k-slider-track")[0],h=i.currentStyle.backgroundImage;h=h.replace(/^url\([\'\"]?|[\'\"]?\)$/g,"");i.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+h+"', sizingMethod='scale')"},_sliders:function(){var i=this,k=i.element;function h(l){i._updateUI(i._getHSV(l.value,null,null,null))}i._hueSlider=k.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:false,slide:h,change:h}).data("kendoSlider");function j(l){i._updateUI(i._getHSV(null,null,null,l.value/100))}i._opacitySlider=k.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:false,slide:j,change:j}).data("kendoSlider")},_hsvArea:function(){var j=this,l=j.element,h=l.find(".k-hsv-rectangle"),k=h.find(".k-draghandle").attr("tabIndex",0).on(c,J(j._keydown,j));function i(q,r){var n=this.offset,p=q-n.left,o=r-n.top,s=this.width,m=this.height;p=p<0?0:p>s?s:p;o=o<0?0:o>m?m:o;j._svChange(p/s,1-o/m)}j._hsvEvents=new O.UserEvents(h,{global:true,press:function(m){this.offset=O.getOffset(h);this.width=h.width();this.height=h.height();k.focus();i.call(this,m.x.location,m.y.location)},start:function(){h.addClass("k-dragging");k.focus()},move:function(m){m.preventDefault();i.call(this,m.x.location,m.y.location)},end:function(){h.removeClass("k-dragging")}});j._hsvRect=h;j._hsvHandle=k},_onEnable:function(i){this._hueSlider.enable(i);if(this._opacitySlider){this._opacitySlider.enable(i)}this.wrapper.find("input").attr("disabled",!i);var h=this._hsvRect.find(".k-draghandle");if(i){h.attr("tabIndex",0)}else{h.removeAttr("tabIndex")}},_keydown:function(k){var i=this;function j(m,l){var n=i._getHSV();n[m]+=l*(k.shiftKey?0.01:0.05);if(n[m]<0){n[m]=0}if(n[m]>1){n[m]=1}i._updateUI(n);V(k)}function h(l){var m=i._getHSV();m.h+=l*(k.shiftKey?1:5);if(m.h<0){m.h=0}if(m.h>359){m.h=359}i._updateUI(m);V(k)}switch(k.keyCode){case X.LEFT:if(k.ctrlKey){h(-1)}else{j("s",-1)}break;case X.RIGHT:if(k.ctrlKey){h(1)}else{j("s",1)}break;case X.UP:j(k.ctrlKey&&i._opacitySlider?"a":"v",1);break;case X.DOWN:j(k.ctrlKey&&i._opacitySlider?"a":"v",-1);break;case X.ENTER:i._select(i._getHSV());break;case X.F2:i.wrapper.find("input.k-color-value").focus().select();break;case X.ESC:i._cancel();break}},focus:function(){this._hsvHandle.focus()},_getHSV:function(n,i,k,p){var m=this._hsvRect,o=m.width(),j=m.height(),l=this._hsvHandle.position();if(n==null){n=this._hueSlider.value()}if(i==null){i=l.left/o}if(k==null){k=1-l.top/j}if(p==null){p=this._opacitySlider?this._opacitySlider.value()/100:1}return new L(n,i,k,p)},_svChange:function(h,i){var j=this._getHSV(null,h,i,null);this._updateUI(j)},_updateUI:function(k,h){var i=this,j=i._hsvRect;if(!k){return}this._colorAsText.removeClass("k-state-error");i._selectedColor.css(U,k.toDisplay());if(!h){i._colorAsText.val(i._opacitySlider?k.toCssRgba():k.toCss())}i._triggerSelect(k);k=k.toHSV();i._hsvHandle.css({left:k.s*j.width()+"px",top:(1-k.v)*j.height()+"px"});i._hueElements.css(U,new L(k.h,1,1,1).toCss());i._hueSlider.value(k.h);if(i._opacitySlider){i._opacitySlider.value(100*k.a)}},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:O.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')});function A(h,i,j){if(!j){j="0"}h=h.toString(16);while(i>h.length){h="0"+h}return h}function f(h){return parseFloat((+h).toFixed(3))}var F=G.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var h=this.toBytes();return"rgba("+h.r+", "+h.g+", "+h.b+", "+f(this.a)+")"},toDisplay:function(){if(Y){return this.toCss()}return this.toCssRgba()},equals:function(h){return h===this||h!==null&&this.toCssRgba()==C(h).toCssRgba()},diff:function(h){if(h==null){return NaN}var i=this.toBytes();h=h.toBytes();return Math.sqrt(Math.pow((i.r-h.r)*0.3,2)+Math.pow((i.g-h.g)*0.59,2)+Math.pow((i.b-h.b)*0.11,2))},clone:function(){var h=this.toBytes();if(h===this){h=new g(h.r,h.g,h.b,h.a)}return h}});var M=F.extend({init:function(i,h,j,k){this.r=i;this.g=h;this.b=j;this.a=k},toHSV:function(){var q,l,o,m,j,k;var i=this.r,p=this.g,n=this.b;q=Math.min(i,p,n);l=Math.max(i,p,n);k=l;o=l-q;if(o===0){return new L(0,0,k,this.a)}if(l!==0){j=o/l;if(i==l){m=(p-n)/o}else{if(p==l){m=2+(n-i)/o}else{m=4+(i-p)/o}}m*=60;if(m<0){m+=360}}else{j=0;m=-1}return new L(m,j,k,this.a)},toBytes:function(){return new g(this.r*255,this.g*255,this.b*255,this.a)}});var g=M.extend({init:function(i,h,j,k){this.r=Math.round(i);this.g=Math.round(h);this.b=Math.round(j);this.a=k},toRGB:function(){return new M(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return A(this.r,2)+A(this.g,2)+A(this.b,2)},toBytes:function(){return this}});var L=F.extend({init:function(i,j,k,l){this.h=i;this.s=j;this.v=k;this.a=l},toRGB:function(){var u=this.h,k=this.s,n=this.v;var w,j,z,x,y,l,m,o;if(k===0){j=z=x=n}else{u/=60;w=Math.floor(u);y=u-w;l=n*(1-k);m=n*(1-k*y);o=n*(1-k*(1-y));switch(w){case 0:j=n;z=o;x=l;break;case 1:j=m;z=n;x=l;break;case 2:j=l;z=n;x=o;break;case 3:j=l;z=m;x=n;break;case 4:j=o;z=l;x=n;break;default:j=n;z=l;x=m;break}}return new M(j,z,x,this.a)},toBytes:function(){return this.toRGB().toBytes()}});function C(j,h){if(j==null||j=="transparent"){return null}if(j instanceof F){return j}var i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(j);if(i){return new g(K(i[1],16),K(i[2],16),K(i[3],16),1)}i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(j);if(i){return new g(K(i[1]+i[1],16),K(i[2]+i[2],16),K(i[3]+i[3],16),1)}i=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(j);if(i){return new g(K(i[1],10),K(i[2],10),K(i[3],10),1)}i=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(j);if(i){return new g(K(i[1],10),K(i[2],10),K(i[3],10),parseFloat(i[4]))}i=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(j);if(i){return new M(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,1)}i=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(j);if(i){return new M(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4]))}if(!h){throw new Error("Cannot parse color: "+j)}return a}function H(h,l,i){h=Array.prototype.slice.call(h);var j=h.length;var k=h.indexOf(l);if(k<0){return i<0?h[j-1]:h[0]}k+=i;if(k<0){k+=j}else{k%=j}return h[k]}var I=Z.extend({init:function(l,j){var i=this;Z.fn.init.call(i,l,j);j=i.options;l=i.element;var k=l.attr("value")||l.val();if(k){k=C(k,true)}else{k=C(j.value,true)}i._value=j.value=k;var m=i.wrapper=b(i._template(j));l.hide().after(m);if(l.is("input")){l.appendTo(m)}i.enable(!l.attr("disabled"));var h=l.attr("accesskey");if(h){l.attr("accesskey",null);m.attr("accesskey",h)}i.bind("activate",function(n){if(!n.isDefaultPrevented()){i.toggle()}});i._updateUI(k)},destroy:function(){this.wrapper.off(R).find("*").off(R);if(this._popup){this._selector.destroy();this._popup.destroy()}this._selector=this._popup=this.wrapper=null;Z.fn.destroy.call(this)},enable:function(l){var i=this,h=i.wrapper,k=h.children(".k-picker-wrap"),j=k.find(".k-select");if(arguments.length===0){l=true}i.element.attr("disabled",!l);h.attr("disabled",!l);j.off(R).on("mousedown"+R,V);h.addClass("k-state-disabled").removeAttr("tabIndex").add("*",h).off(R);if(l){h.removeClass("k-state-disabled").attr("tabIndex",0).on("mouseenter"+R,function(){k.addClass("k-state-hover")}).on("mouseleave"+R,function(){k.removeClass("k-state-hover")}).on("focus"+R,function(){k.addClass("k-state-focused")}).on("blur"+R,function(){k.removeClass("k-state-focused")}).on(c,J(i._keydown,i)).on(T,".k-icon",J(i.toggle,i)).on(T,i.options.toolIcon?".k-tool-icon":".k-selected-color",function(){i.trigger("activate")})}},_template:O.template('<span class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:Q,opacity:false,buttons:true,preview:true},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:P.fn.color,value:P.fn.value,_select:P.fn._select,_triggerSelect:P.fn._triggerSelect,_isInputTypeColor:function(){var h=this.element[0];return(/^input$/i).test(h.tagName)&&(/^color$/i).test(h.type)},_updateUI:function(h){if(h){if(this._isInputTypeColor()||h.a==1){this.element.val(h.toCss())}else{this.element.val(h.toCssRgba())}}this._triggerSelect(h);this.wrapper.find(".k-selected-color").css(U,h?h.toDisplay():"transparent")},_keydown:function(i){var h=i.keyCode;if(this._getPopup().visible()){if(h==X.ESC){this._selector._cancel()}else{this._selector._keydown(i)}V(i)}else{if(h==X.ENTER||h==X.DOWN){this.open();V(i)}}},_getPopup:function(){var i=this,l=i._popup;if(!l){var k=this.options;var j;if(k.palette){j=N}else{j=e}k._standalone=false;delete k.select;delete k.change;delete k.cancel;var h=this._selector=new j(b("<div />").appendTo(document.body),k);i._popup=l=h.wrapper.kendoPopup({anchor:i.wrapper}).data("kendoPopup");h.bind({select:function(m){i._updateUI(C(m.value))},change:function(){i._select(h.color());i.close()},cancel:function(){i.close()}});l.bind({close:function(n){if(i.trigger("close")){n.preventDefault();return}i.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var m=h._selectOnHide();if(!m){i.wrapper.focus();i._updateUI(i.color())}else{i._select(m)}},open:function(m){if(i.trigger("open")){m.preventDefault()}else{i.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}},activate:function(){h._select(i.color(),true);h.focus();i.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return l}});function V(h){h.preventDefault()}function J(h,i){return function(){return h.apply(i,arguments)}}D.plugin(N);D.plugin(e);D.plugin(I);O.parseColor=C;O.Color={fromBytes:function(i,h,j,k){return new g(i,h,j,k!=null?k:1)},fromRGB:function(i,h,j,k){return new M(i,h,j,k!=null?k:1)},fromHSV:function(i,j,k,l){return new L(i,j,k,l!=null?l:1)}}})(jQuery,parseInt);kendo_module({id:"columnmenu",name:"Column Menu",category:"framework",depends:["popup","filtermenu","menu"],advanced:true});(function(V,U){var T=window.kendo,E=T.ui,P=V.proxy,L=V.extend,C=V.grep,R=V.map,F=V.inArray,B="k-state-selected",I="asc",X="desc",J="change",A="init",M="select",G="kendoPopup",K="kendoFilterMenu",H="kendoMenu",O=".kendoColumnMenu",S=E.Widget;function N(Z){return V.trim(Z).replace(/&nbsp;/gi,"")}var Q=S.extend({init:function(c,a){var Z=this,b;S.fn.init.call(Z,c,a);c=Z.element;a=Z.options;Z.owner=a.owner;Z.dataSource=a.dataSource;Z.field=c.attr(T.attr("field"));b=c.find(".k-header-column-menu");if(!b[0]){b=c.prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")}Z.link=b.attr("tabindex",-1).on("click"+O,P(Z._click,Z));Z.wrapper=V('<div class="k-column-menu"/>')},_init:function(){var Z=this;Z.pane=Z.element.closest(T.roleSelector("pane")).data("kendoMobilePane");if(Z.pane){Z._isMobile=true}if(Z._isMobile){Z._createMobileMenu()}else{Z._createMenu()}Z._sort();Z._columns();Z._filter();Z.trigger(A,{field:Z.field,container:Z.wrapper})},events:[A],options:{name:"ColumnMenu",messages:{sortAscending:"升序排列",sortDescending:"降序排列",filter:"筛选",columns:"隐藏列",done:"Done",settings:"Column Settings"},filter:"",columns:true,sortable:true,filterable:true,animations:{left:"slide"}},_createMenu:function(){var Z=this,a=Z.options;Z.wrapper.html(T.template(Y)({ns:T.ns,messages:a.messages,sortable:a.sortable,filterable:a.filterable,columns:Z._ownerColumns(),showColumns:a.columns}));Z.popup=Z.wrapper[G]({anchor:Z.link,open:P(Z._open,Z),activate:P(Z._activate,Z),close:Z.options.closeCallback}).data(G);Z.menu=Z.wrapper.children()[H]({orientation:"vertical",closeOnClick:false}).data(H)},_createMobileMenu:function(){var a=this,b=a.options;var Z=T.template(W)({ns:T.ns,field:a.field,messages:b.messages,sortable:b.sortable,filterable:b.filterable,columns:a._ownerColumns(),showColumns:b.columns});a.view=a.pane.append(Z);a.wrapper=a.view.element.find(".k-column-menu");a.menu=new D(a.wrapper.children(),{pane:a.pane});a.view.element.on("click",".k-done",function(c){a.close();c.preventDefault()})},destroy:function(){var Z=this;S.fn.destroy.call(Z);if(Z.filterMenu){Z.filterMenu.destroy()}if(Z._refreshHandler){Z.dataSource.unbind(J,Z._refreshHandler)}if(Z.options.columns){Z.owner.unbind("columnShow",Z._updateColumnsMenuHandler);Z.owner.unbind("columnHide",Z._updateColumnsMenuHandler)}if(Z.menu){Z.menu.element.off(O);Z.menu.destroy()}Z.wrapper.off(O);if(Z.popup){Z.popup.destroy()}if(Z.view){Z.view.purge()}Z.link.off(O)},close:function(){this.menu.close();if(this.popup){this.popup.close();this.popup.element.off("keydown"+O)}},_click:function(Z){Z.preventDefault();Z.stopPropagation();var a=this.options;if(a.filter&&this.element.is(!a.filter)){return}if(!this.popup&&!this.pane){this._init()}if(this._isMobile){this.pane.navigate(this.view,this.options.animations.left)}else{this.popup.toggle()}},_open:function(){var Z=this;V(".k-column-menu").not(Z.wrapper).each(function(){V(this).data(G).close()});Z.popup.element.on("keydown"+O,function(a){if(a.keyCode==T.keys.ESC){Z.close()}})},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var a=this.owner.columns,Z=C(a,function(b){var c=true,d=N(b.title||"");if(b.menu===false||(!b.field&&!d.length)){c=false}return c});return R(Z,function(b){return{originalField:b.field,field:b.field||b.title,title:b.title||b.field,hidden:b.hidden,index:F(b,a)}})},_sort:function(){var Z=this;if(Z.options.sortable){Z.refresh();Z._refreshHandler=P(Z.refresh,Z);Z.dataSource.bind(J,Z._refreshHandler);Z.menu.bind(M,function(b){var c=V(b.item),a;if(c.hasClass("k-sort-asc")){a=I}else{if(c.hasClass("k-sort-desc")){a=X}}if(!a){return}c.parent().find(".k-sort-"+(a==I?X:I)).removeClass(B);Z._sortDataSource(c,a);Z.close()})}},_sortDataSource:function(g,Z){var c=this,d=c.options.sortable,f=c.dataSource,a,b,e=f.sort()||[];if(g.hasClass(B)&&d&&d.allowUnsort!==false){g.removeClass(B);Z=U}else{g.addClass(B)}if(d===true||d.mode==="single"){e=[{field:c.field,dir:Z}]}else{for(a=0,b=e.length;a<b;a++){if(e[a].field===c.field){e.splice(a,1);break}}e.push({field:c.field,dir:Z})}f.sort(e)},_columns:function(){var Z=this;if(Z.options.columns){Z._updateColumnsMenu();Z._updateColumnsMenuHandler=P(Z._updateColumnsMenu,Z);Z.owner.bind(["columnHide","columnShow"],Z._updateColumnsMenuHandler);Z.menu.bind(M,function(a){var b=V(a.item),c,d,g,h=Z.owner.columns,f;if(Z._isMobile){a.preventDefault()}if(!b.parent().closest("li.k-columns-item")[0]){return}c=b.find(":checkbox");if(c.attr("disabled")){return}f=c.attr(T.attr("field"));g=C(h,function(e){return e.field==f||e.title==f})[0];d=F(g,h);if(g.hidden===true){Z.owner.showColumn(d)}else{Z.owner.hideColumn(d)}})}},_updateColumnsMenu:function(){var b=T.attr("field"),a=C(this._ownerColumns(),function(c){return !c.hidden}),Z=C(a,function(c){return c.originalField}).length;a=R(a,function(c){return c.field});this.wrapper.find(".k-columns-item input["+b+"]").prop("checked",false).filter(function(){return F(V(this).attr(b),a)>-1}).prop("checked",true).prop("disabled",Z==1)},_filter:function(){var Z=this,a=Z.options;if(a.filterable!==false){Z.filterMenu=Z.wrapper.find(".k-filterable")[K](L(true,{},{appendToElement:true,dataSource:a.dataSource,values:a.values,field:Z.field},a.filterable)).data(K);if(Z._isMobile){Z.menu.bind(M,function(b){var c=V(b.item);if(c.hasClass("k-filter-item")){Z.pane.navigate(Z.filterMenu.view,Z.options.animations.left)}})}}},refresh:function(){var b=this,Z=b.options.dataSource.sort()||[],c,d=b.field,e,a;b.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(B);for(e=0,a=Z.length;e<a;e++){c=Z[e];if(d==c.field){b.wrapper.find(".k-sort-"+c.dir).addClass(B)}}}});var Y='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#}#</ul>';var W='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${field}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-sprite k-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>';var D=S.extend({init:function(a,Z){S.fn.init.call(this,a,Z);this.element.on("click"+O,"li:not(.k-separator)","_click")},events:[M],_click:function(Z){if(this.trigger(M,{item:Z.currentTarget})){Z.preventDefault()}},close:function(){this.options.pane.navigate("")},destroy:function(){S.fn.destroy.call(this);this.element.off(O)}});E.plugin(Q)})(window.kendo.jQuery);kendo_module({id:"grid",name:"Grid",category:"web",description:"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.",depends:["data"],features:[{id:"grid-editing",name:"Editing",description:"Support for record editing",depends:["editable","window"]},{id:"grid-filtering",name:"Filtering",description:"Support for record filtering",depends:["filtermenu"]},{id:"grid-columnmenu",name:"Column menu",description:"Support for header column menu",depends:["columnmenu"]},{id:"grid-grouping",name:"Grouping",description:"Support for grid grouping",depends:["groupable"]},{id:"grid-paging",name:"Paging",description:"Suppot for grid paging",depends:["pager"]},{id:"grid-selection",name:"Selection",description:"Support for row selection",depends:["selectable"]},{id:"grid-sorting",name:"Sorting",description:"Support for grid sorting",depends:["sortable"]},{id:"grid-column-reorder",name:"Column reordering",description:"Support for column reordering",depends:["reorderable"]},{id:"grid-column-resize",name:"Column resizing",description:"Support for column resizing",depends:["resizable"]},{id:"grid-mobile",name:"Grid adaptive rendering",description:"Support for adaptive rendering",depends:["mobile.actionsheet","mobile.pane"]}]});(function(C,w){var An=window.kendo,s=An.ui,Av=An.data.DataSource,W=s.Groupable,I=An.support.tbodyInnerHtml,c=An._activeElement,e=s.Widget,AC=An.keys,Ak=C.isPlainObject,V=C.extend,Aw=C.map,f=C.grep,d=C.isArray,r=C.inArray,M=C.proxy,i=An.isFunction,Af=C.isEmptyObject,t=Math,Ac="progress",p="error",y=":not(.k-group-cell):not(.k-hierarchy-cell):visible",S="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",A="tr:not(.k-footer-template):visible",N=":not(.k-group-cell):not(.k-hierarchy-cell):visible",L=A+":first>"+N+":first",Al="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",n=".kendoGrid",m="edit",At="save",Ah="remove",Am="detailInit",u="filterMenuInit",Ad="columnMenuInit",G="change",AD="columnHide",l="columnShow",k="saveChanges",E="dataBound",g="detailExpand",X="detailCollapse",v="k-state-focused",Ae="k-state-selected",h="columnResize",Ap="columnReorder",J="click",q="height",Q="tabIndex",D="function",Ax="string",As="Are you sure you want to delete this record?",b="Delete",Ai="Cancel",Ao=/(\}|\#)/ig,Y=/#/ig,Ay="[\\x20\\t\\r\\n\\f]",o=new RegExp("(^|"+Ay+")(k-group-cell|k-hierarchy-cell)("+Ay+"|$)"),j='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',K=false,AA=An.support.browser,F=AA.msie&&AA.version==7,B=AA.msie&&AA.version==8;var P=e.extend({init:function(AH,AG){var AF=this;e.fn.init.call(AF,AH,AG);AF._refreshHandler=M(AF.refresh,AF);AF.setDataSource(AG.dataSource);AF.wrap()},setDataSource:function(AG){var AF=this;if(AF.dataSource){AF.dataSource.unbind(G,AF._refreshHandler)}AF.dataSource=AG;AF.dataSource.bind(G,AF._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:C.noop},destroy:function(){var AF=this;e.fn.destroy.call(AF);AF.dataSource.unbind(G,AF._refreshHandler);AF.wrapper.add(AF.verticalScrollbar).off(n);if(AF.drag){AF.drag.destroy()}},wrap:function(){var AH=this,AF=An.support.scrollbar()+1,AI=AH.element,AG;AI.css({width:"auto",overflow:"hidden"}).css((K?"padding-left":"padding-right"),AF);AH.content=AI.children().first();AG=AH.wrapper=AH.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+n+" mousewheel"+n,M(AH._wheelScroll,AH));if(An.support.kineticScrollNeeded){AH.drag=new An.UserEvents(AH.wrapper,{global:true,move:function(AJ){AH.verticalScrollbar.scrollTop(AH.verticalScrollbar.scrollTop()-AJ.y.delta);AG.scrollLeft(AG.scrollLeft()-AJ.x.delta);AJ.preventDefault()}})}AH.verticalScrollbar=C('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:AF}).appendTo(AI).bind("scroll"+n,M(AH._scroll,AH))},_wheelScroll:function(AG){var AH=this,AK=AH.verticalScrollbar.scrollTop(),AI=AG.originalEvent,AJ=AI.wheelDeltaY,AF;if(AI.wheelDelta){if(AJ===w||AJ){AF=AI.wheelDelta}}else{if(AI.detail&&AI.axis===AI.VERTICAL_AXIS){AF=(-AI.detail)*10}}if(AF){AG.preventDefault();AH.verticalScrollbar.scrollTop(AK+(-AF))}},_scroll:function(AF){var AK=this,AJ=AF.currentTarget.scrollTop,AO=AK.dataSource,AN=AK.itemHeight,AI=AO.skip()||0,AG=AK._rangeStart||AI,AP=AK.element.innerHeight(),AH=!!(AK._scrollbarTop&&AK._scrollbarTop>AJ),AM=t.max(t.floor(AJ/AN),0),AL=t.max(AM+t.floor(AP/AN),0);AK._scrollTop=AJ-(AG*AN);AK._scrollbarTop=AJ;if(!AK._fetch(AM,AL,AH)){AK.wrapper[0].scrollTop=AK._scrollTop}},_fetch:function(AN,AM,AF){var AK=this,AP=AK.dataSource,AL=AK.itemHeight,AJ=AP.take(),AO=AK._rangeStart||AP.skip()||0,AG=t.floor(AN/AJ)*AJ,AI=false,AH=0.33;if(AN<AO){AI=true;AO=t.max(0,AM-AJ);AK._scrollTop=(AN-AO)*AL;AK._page(AO,AJ)}else{if(AM>=AO+AJ&&!AF){AI=true;AO=AN;AK._scrollTop=AL;AK._page(AO,AJ)}else{if(!AK._fetching){if(AN<(AG+AJ)-AJ*AH&&AN>AJ){AP.prefetch(AG-AJ,AJ)}if(AM>AG+AJ*AH){AP.prefetch(AG+AJ,AJ)}}}}return AI},_page:function(AF,AI){var AG=this,AH=AG.dataSource;clearTimeout(AG._timeout);AG._fetching=true;AG._rangeStart=AF;if(AH.inRange(AF,AI)){AH.range(AF,AI)}else{An.ui.progress(AG.wrapper.parent(),true);AG._timeout=setTimeout(function(){AH.range(AF,AI)},100)}},refresh:function(){var AI=this,AH="",AM=250000,AP=AI.dataSource,AK=AI._rangeStart,AL=!An.support.kineticScrollNeeded?An.support.scrollbar():0,AO=AI.wrapper[0],AF,AG,AJ;An.ui.progress(AI.wrapper.parent(),false);clearTimeout(AI._timeout);AJ=AI.itemHeight=AI.options.itemHeight()||0;var AN=(AO.scrollWidth>AO.offsetWidth)?AL:0;AF=AP.total()*AJ+AN;for(AG=0;AG<t.floor(AF/AM);AG++){AH+='<div style="width:1px;height:'+AM+'px"></div>'}if(AF%AM){AH+='<div style="width:1px;height:'+(AF%AM)+'px"></div>'}AI.verticalScrollbar.html(AH);AO.scrollTop=AI._scrollTop;if(AI.drag){AI.drag.cancel()}if(AK&&!AI._fetching){AI._rangeStart=AP.skip()}AI._fetching=false}});function R(AF){return new Array(AF+1).join('<td class="k-group-cell">&nbsp;</td>')}function U(AF){var AH,AG=" ";if(AF){if(typeof AF===Ax){return AF}for(AH in AF){AG+=AH+'="'+AF[AH]+'"'}}return AG}var AB={create:{text:"新增",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"取消",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"保存",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"删除",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"编辑",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"更新",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"取消",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}};function Aj(AF){var AG=0;C("> .k-grouping-header, > .k-grid-toolbar",AF).each(function(){AG+=this.offsetHeight});return AG}function z(AF,AG){C("th, th .k-grid-filter, th .k-link",AF).add(document.body).css("cursor",AG)}function Z(AF){var AH,AG,AJ={},AI={};if(!Af(AF)){if(!d(AF)){AF=[AF]}for(AH=0,AG=AF.length;AH<AG;AH++){AJ[AF[AH].aggregate]=0;AI[AF[AH].field]=AJ}}return AI}function a(AJ,AI,AH){var AG=AJ.eq(AI),AF=AJ.eq(AH);AG[AI>AH?"insertBefore":"insertAfter"](AF)}function Ag(AG,AI,AJ){var AK,AH,AF,AL;AJ=!d(AJ)?[AJ]:AJ;for(AK=0,AH=AJ.length;AK<AH;AK++){AF=AJ[AK];if(Ak(AF)&&AF.click){AL=AF.name||AF.text;AI.on(J+n,"a.k-grid-"+(AL||"").replace(/\s/g,""),{commandName:AL},M(AF.click,AG))}}}function AE(AF){return f(AF,function(AG){return !AG.hidden})}function Aa(AG){AG=AG||{};var AF=AG.style;if(!AF){AF="display:none"}else{AF=AF.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none");if(AF===AG.style){AF=AF.replace(/(.*)?/i,"display:none;$1")}}return V({},AG,{style:AF})}function Au(AG){AG=AG||{};var AF=AG.style;if(AF){AG.style=AF.replace(/(display\s*:\s*none\s*;?)*/ig,"")}return AG}function Aq(AJ,AI,AK,AF){var AG=AJ.find(">colgroup"),AH,AL=Aw(AI,function(AM){AH=AM.width;if(AH&&parseInt(AH,10)!==0){return An.format('<col style="width:{0}"/>',typeof AH===Ax?AH:AH+"px")}return"<col />"});if(AK||AG.find(".k-hierarchy-col").length){AL.splice(0,0,'<col class="k-hierarchy-col" />')}if(AG.length){AG.remove()}AG=C(new Array(AF+1).join('<col class="k-group-col">')+AL.join(""));if(!AG.is("colgroup")){AG=C("<colgroup/>").append(AG)}AJ.prepend(AG);if(AA.msie&&AA.version==8){AJ.css("display","inline-table");window.setTimeout(function(){AJ.css("display","")},1)}}function Az(AF){var AH={},AI,AJ,AG;for(AJ=0,AG=AF.length;AJ<AG;AJ++){AI=AF[AJ];AH[AI.value]=AI.text}return AH}function Ar(AH,AG,AJ){var AF=AJ&&AJ.length&&Ak(AJ[0])&&"value" in AJ[0],AI=AF?Az(AJ)[AH]:AH;AI=AI!=null?AI:"";return AG?An.format(AG,AI):AI}function Ab(AG,AH,AF){var AJ=0,AK,AI=AG[AJ];while(AI){AK=AF?true:AI.style.display!=="none";if(AK&&!o.test(AI.className)&&--AH<0){AI.style.display=AF?"":"none";break}AI=AG[++AJ]}}var x=e.extend({init:function(AH,AG){var AF=this;AG=d(AG)?{dataSource:AG}:AG;e.fn.init.call(AF,AH,AG);K=An.support.isRtl(AH);AF._element();AF._aria();AF._columns(AF.options.columns);AF._dataSource();AF._tbody();AF._pageable();AF._thead();AF._groupable();AF._toolbar();AF._setContentHeight();AF._templates();AF._navigatable();AF._selectable();AF._details();AF._editable();AF._attachCustomCommandsEvent();if(AF.options.autoBind){AF.dataSource.fetch()}else{AF._footer()}An.notify(AF)},events:[G,"dataBinding","cancel",E,g,X,Am,u,Ad,m,At,Ah,k,h,Ap,l,AD],setDataSource:function(AG){var AF=this;AF.options.dataSource=AG;AF._dataSource();AF._pageable();if(AF.options.groupable){AF._groupable()}AF._thead();if(AF.virtualScrollable){AF.virtualScrollable.setDataSource(AF.options.dataSource)}if(AF.options.autoBind){AG.fetch()}},options:{name:"Grid",columns:[],toolbar:null,autoBind:true,filterable:false,scrollable:true,sortable:false,selectable:false,navigatable:false,pageable:false,editable:false,groupable:false,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:false,reorderable:false,columnMenu:false,detailTemplate:null,columnResizeHandleWidth:3},destroy:function(){var AF=this,AG;e.fn.destroy.call(AF);if(AF.pager){AF.pager.destroy()}if(AF.groupable){AF.groupable.destroy()}if(AF.options.reorderable){AF.wrapper.data("kendoReorderable").destroy()}if(AF.resizable){AF.resizable.destroy();if(AF._resizeUserEvents){if(AF._resizeHandleDocumentClickHandler){C(document).off("click",AF._resizeHandleDocumentClickHandler)}AF._resizeUserEvents.destroy()}}if(AF.virtualScrollable){AF.virtualScrollable.destroy()}AF._destroyColumnAttachments();AF._destroyEditable();AF.dataSource.unbind(G,AF._refreshHandler).unbind(Ac,AF._progressHandler).unbind(p,AF._errorHandler);AG=AF.element.add(AF.wrapper).add(AF.table).add(AF.thead).add(AF.wrapper.find(">.k-grid-toolbar"));if(AF.content){AG=AG.add(AF.content).add(AF.content.find(">.k-virtual-scrollable-wrap"))}if(AF.pane){AF.pane.destroy()}AG.off(n);An.destroy(AF.wrapper)},setOptions:function(AG){var AF=this;e.fn.setOptions.call(this,AG);AF._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var AF=this;AF.resizeHandle=null;AF.thead.find("th").each(function(){var AH=C(this),AJ=AH.data("kendoFilterMenu"),AG=AH.data("kendoSortable"),AI=AH.data("kendoColumnMenu");if(AJ){AJ.destroy()}if(AG){AG.destroy()}if(AI){AI.destroy()}})},_attachCustomCommandsEvent:function(){var AG=this,AJ=AG.columns||[],AI,AH,AF;for(AH=0,AF=AJ.length;AH<AF;AH++){AI=AJ[AH].command;if(AI){Ag(AG,AG.wrapper,AI)}}},_aria:function(){var AF=this.element.attr("id")||"aria";if(AF){this._cellId=AF+"_active_cell"}},_element:function(){var AF=this,AG=AF.element;if(!AG.is("table")){if(AF.options.scrollable){AG=AF.element.find("> .k-grid-content > table")}else{AG=AF.element.children("table")}if(!AG.length){AG=C("<table />").appendTo(AF.element)}}if(F){AG.attr("cellspacing",0)}AF.table=AG.attr("role",AF._hasDetails()?"treegrid":"grid");AF._wrapper()},_createResizeHandle:function(AM,AP){var AL=this;var AN=AL.options.columnResizeHandleWidth;var AH=AL.options.scrollable;var AJ=AL.resizeHandle;var AK;if(!AJ){AJ=AL.resizeHandle=C('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>');AM.append(AJ)}if(!K){AK=AP[0].offsetWidth;AP.prevAll(":visible").each(function(){AK+=this.offsetWidth})}else{var AI=AP.closest(".k-grid-header-wrap"),AG=AA.msie?AI.scrollLeft():0,AF=AA.webkit?(AI[0].scrollWidth-AI[0].offsetWidth-AI.scrollLeft()):0,AO=AA.mozilla?(AI[0].scrollWidth-AI[0].offsetWidth-(AI[0].scrollWidth-AI[0].offsetWidth-AI.scrollLeft())):0;AK=AP.position().left-AF+AO-AG}AJ.css({top:AH?0:Aj(AL.wrapper),left:AK-AN,height:AP.outerHeight(),width:AN*3}).data("th",AP).show()},_positionColumnResizeHandle:function(AG){var AF=this,AI=AF.resizeHandle,AH=AF.options.columnResizeHandleWidth;AF.thead.on("mousemove"+n,"th:not(.k-group-cell,.k-hierarchy-cell)",function(AK){var AM=C(this),AN=AK.clientX,AJ=C(window).scrollLeft(),AL=AM.offset().left+(!K?this.offsetWidth:0);if(AN+AJ>AL-AH&&AN+AJ<AL+AH){AF._createResizeHandle(AG,AM)}else{if(AI){AI.hide()}else{z(AF.wrapper,"")}}})},_resizeHandleDocumentClick:function(AF){if(C(AF.target).closest(".k-column-active").length){return}C(document).off(AF);this._hideResizeHandle()},_hideResizeHandle:function(){if(this.resizeHandle){this.resizeHandle.data("th").removeClass("k-column-active");this.resizeHandle.hide()}},_positionColumnResizeHandleTouch:function(AG){var AF=this;AF._resizeUserEvents=new An.UserEvents(AF.thead,{filter:"th:not(.k-group-cell,.k-hierarchy-cell)",threshold:10,hold:function(AH){var AI=C(AH.target);AH.preventDefault();AI.addClass("k-column-active");AF._createResizeHandle(AG,AI);if(!AF._resizeHandleDocumentClickHandler){AF._resizeHandleDocumentClickHandler=M(AF._resizeHandleDocumentClick,AF)}C(document).on("click",AF._resizeHandleDocumentClickHandler)}})},_resizable:function(){var AJ=this,AK=AJ.options,AL,AI,AH,AF,AG=this._isMobile,AN,AM;if(AK.resizable){AL=AK.scrollable?AJ.wrapper.find(".k-grid-header-wrap:first"):AJ.wrapper;if(AG){AJ._positionColumnResizeHandleTouch(AL)}else{AJ._positionColumnResizeHandle(AL)}AJ.resizable=new s.Resizable(AL,{handle:".k-resize-handle",hint:function(AO){return C('<div class="k-grid-resize-indicator" />').css({height:AO.data("th").outerHeight()+AJ.tbody.attr("clientHeight")})},start:function(AO){AM=C(AO.currentTarget).data("th");if(AG){AJ._hideResizeHandle()}var AR=C.inArray(AM[0],AM.parent().children(":visible")),AP=AJ.tbody.parent(),AQ=AJ.footer||C();z(AJ.wrapper,"col-resize");if(AK.scrollable){AN=AJ.thead.parent().find("col:eq("+AR+")").add(AP.children("colgroup").find("col:eq("+AR+")")).add(AQ.find("colgroup").find("col:eq("+AR+")"))}else{AN=AP.children("colgroup").find("col:eq("+AR+")")}AI=AO.x.location;AH=AM.outerWidth();AF=AJ.tbody.outerWidth()},resize:function(AP){var AO=K?-1:1,AR=AH+(AP.x.location*AO)-(AI*AO),AQ=AJ.footer||C();if(AR>10){AN.css("width",AR);if(AK.scrollable&&AF){AJ._footerWidth=AF+(AP.x.location*AO)-(AI*AO);AJ.tbody.parent().add(AJ.thead.parent()).add(AQ.find("table")).css("width",AJ._footerWidth)}}},resizeend:function(){var AO=AM.outerWidth(),AP;z(AJ.wrapper,"");if(AH!=AO){AP=AJ.columns[AM.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(AM)];AP.width=AO;AJ.trigger(h,{column:AP,oldWidth:AH,newWidth:AO})}AJ._hideResizeHandle();AM=null}})}},_draggable:function(){var AF=this;if(AF.options.reorderable){if(AF._draggableInstance){AF._draggableInstance.destroy()}AF._draggableInstance=AF.wrapper.kendoDraggable({group:An.guid(),filter:AF.content?".k-grid-header:first "+Al:"table:first>.k-grid-header "+Al,drag:function(){AF._hideResizeHandle()},hint:function(AG){return C('<div class="k-header k-drag-clue" />').css({width:AG.width(),paddingLeft:AG.css("paddingLeft"),paddingRight:AG.css("paddingRight"),lineHeight:AG.height()+"px",paddingTop:AG.css("paddingTop"),paddingBottom:AG.css("paddingBottom")}).html(AG.attr(An.attr("title"))||AG.attr(An.attr("field"))||AG.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable")}},_reorderable:function(){var AF=this;if(AF.options.reorderable){AF.wrapper.kendoReorderable({draggable:AF._draggableInstance,change:function(AG){var AH=r(AF.columns[AG.newIndex],AF.columns),AI=AF.columns[AG.oldIndex];AF.trigger(Ap,{newIndex:AH,oldIndex:r(AI,AF.columns),column:AI});AF.reorderColumn(AH,AI)}})}},reorderColumn:function(AK,AG){var AM=this,AO=r(AG,AM.columns),AN=r(AG,AE(AM.columns)),AI=r(AM.columns[AK],AE(AM.columns)),AF,AH,AJ,AL=AM.footer||AM.wrapper.find(".k-grid-footer");if(AO===AK){return}AM._hideResizeHandle();AM.columns.splice(AO,1);AM.columns.splice(AK,0,AG);AM._templates();a(AM.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),AN,AI);if(AM.options.scrollable){a(AM.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),AN,AI)}a(AM.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),AO,AK);if(AL&&AL.length){a(AL.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),AN,AI);a(AL.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),AO,AK)}AF=AM.tbody.children(":not(.k-grouping-row,.k-detail-row)");for(AH=0,AJ=AF.length;AH<AJ;AH+=1){a(AF.eq(AH).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),AO,AK)}},cellIndex:function(AF){return C(AF).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(AF)},_modelForContainer:function(AF){AF=C(AF);if(!AF.is("tr")&&this._editMode()!=="popup"){AF=AF.closest("tr")}var AG=AF.attr(An.attr("uid"));return this.dataSource.getByUid(AG)},_editable:function(){var AG=this,AH=AG.selectable&&AG.selectable.options.multiple,AF=AG.options.editable,AJ=function(){var AL=c(),AK=AG._editContainer;if(AK&&!C.contains(AK[0],AL)&&AK[0]!==AL&&!C(AL).closest(".k-animation-container").length){if(AG.editable.end()){AG.closeCell()}}};if(AF){var AI=AG._editMode();if(AI==="incell"){if(AF.update!==false){AG.wrapper.on(J+n,"tr:not(.k-grouping-row) > td",function(AK){var AL=C(this);if(AL.hasClass("k-hierarchy-cell")||AL.hasClass("k-detail-cell")||AL.hasClass("k-group-cell")||AL.hasClass("k-edit-cell")||AL.has("a.k-grid-delete").length||AL.has("button.k-grid-delete").length||AL.closest("tbody")[0]!==AG.tbody[0]||C(AK.target).is(":input")){return}if(AG.editable){if(AG.editable.end()){if(AH){C(c()).blur()}AG.closeCell();AG.editCell(AL)}}else{AG.editCell(AL)}}).on("focusin"+n,function(){clearTimeout(AG.timer);AG.timer=null}).on("focusout"+n,function(){AG.timer=setTimeout(AJ,1)})}}else{if(AF.update!==false){AG.wrapper.on(J+n,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(AK){AK.preventDefault();AG.editRow(C(this).closest("tr"))})}}if(AF.destroy!==false){AG.wrapper.on(J+n,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(AK){AK.preventDefault();AK.stopPropagation();AG.removeRow(C(this).closest("tr"))})}else{AG.wrapper.on(J+n,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(AK){AK.stopPropagation();if(!AG._confirmation()){AK.preventDefault()}})}}},editCell:function(AH){AH=C(AH);var AF=this,AI=AF.columns[AF.cellIndex(AH)],AG=AF._modelForContainer(AH);if(AG&&(!AG.editable||AG.editable(AI.field))&&!AI.command&&AI.field){AF._attachModelChange(AG);AF._editContainer=AH;AF.editable=AH.addClass("k-edit-cell").kendoEditable({fields:{field:AI.field,format:AI.format,editor:AI.editor,values:AI.values},model:AG,change:function(AJ){if(AF.trigger(At,{values:AJ.values,container:AH,model:AG})){AJ.preventDefault()}}}).data("kendoEditable");AH.parent().addClass("k-grid-edit-row");AF.trigger(m,{container:AH,model:AG})}},_destroyEditable:function(){var AF=this;var AG=function(){if(AF.editable){AF._detachModelChange();AF.editable.destroy();AF.editable=null;AF._editContainer=null;AF._destroyEditView()}};if(AF.editable){if(AF._editMode()==="popup"&&!AF._isMobile){AF._editContainer.data("kendoWindow").bind("deactivate",AG).close()}else{AG()}}},_destroyEditView:function(){if(this.editView){this.editView.purge();this.editView=null;this.pane.navigate("")}},_attachModelChange:function(AG){var AF=this;AF._modelChangeHandler=function(AH){AF._modelChange({field:AH.field,model:this})};AG.bind("change",AF._modelChangeHandler)},_detachModelChange:function(){var AF=this,AG=AF._editContainer,AH=AF._modelForContainer(AG);if(AH){AH.unbind(G,AF._modelChangeHandler)}},closeCell:function(AF){var AG=this,AI=AG._editContainer,AK,AJ,AH;if(!AI){return}AK=AI.closest("tr").attr(An.attr("uid"));AH=AG.dataSource.getByUid(AK);if(AF&&AG.trigger("cancel",{container:AI,model:AH})){return}AI.removeClass("k-edit-cell");AJ=AG.columns[AG.cellIndex(AI)];AI.parent().removeClass("k-grid-edit-row");AG._destroyEditable();AG._displayCell(AI,AJ,AH);if(AI.hasClass("k-dirty-cell")){C('<span class="k-dirty"/>').prependTo(AI)}},_displayCell:function(AJ,AK,AG){var AF=this,AL={storage:{},count:0},AI=V({},An.Template,AF.options.templateSettings),AH=An.template(AF._cellTmpl(AK,AL),AI);if(AL.count>0){AH=M(AH,AL.storage)}AJ.empty().html(AH(AG))},removeRow:function(AF){if(!this._confirmation(AF)){return}this._removeRow(AF)},_removeRow:function(AH){var AG=this,AI,AF;AH=C(AH).hide();AI=AG._modelForContainer(AH);if(AI&&!AG.trigger(Ah,{row:AH,model:AI})){AF=AG._editMode();if(AF!=="incell"){AG.cancelRow()}AG.dataSource.remove(AI);if(AF==="inline"||AF==="popup"){AG.dataSource.sync()}}},_editMode:function(){var AF="incell",AG=this.options.editable;if(AG!==true){if(typeof AG=="string"){AF=AG}else{AF=AG.mode||AF}}return AF},editRow:function(AH){var AJ;var AG=this;if(AH instanceof An.data.ObservableObject){AJ=AH}else{AH=C(AH);AJ=AG._modelForContainer(AH)}var AF=AG._editMode();var AI=AG.options.navigatable;var AK;AG.cancelRow();if(AJ){AG._attachModelChange(AJ);if(AF==="popup"){AG._createPopupEditor(AJ)}else{if(AF==="inline"){AG._createInlineEditor(AH,AJ)}else{if(AF==="incell"){C(AH).children(y).each(function(){var AL=C(this);var AM=AG.columns[AL.index()];AJ=AG._modelForContainer(AL);if(AJ&&(!AJ.editable||AJ.editable(AM.field))&&AM.field){AG.editCell(AL);return false}})}}}AK=AG.editView?AG.editView.element:AG._editContainer;AK.on(J+n,"a.k-grid-cancel",function(AL){AL.preventDefault();AL.stopPropagation();if(AG.trigger("cancel",{container:AK,model:AJ})){return}var AM=AG.items().index(C(AG.current()).parent());AG.cancelRow();if(AI){AG.current(AG.items().eq(AM).children().filter(N).first());O(AG.table,true)}});AK.on(J+n,"a.k-grid-update",function(AL){AL.preventDefault();AL.stopPropagation();AG.saveRow()})}},_createPopupEditor:function(AH){var AU=this,AL="<div "+An.attr("uid")+'="'+AH.uid+'" class="k-popup-edit-form'+(AU._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',AM,AS,AP=[],AV,AF,AJ,AK,AO,AG,AI,AW=AU.options.editable,AX=AW.template,AR=Ak(AW)?AW.window:{},AN=V({},An.Template,AU.options.templateSettings);AR=AR||{};if(AX){if(typeof AX===Ax){AX=window.unescape(AX)}AL+=(An.template(AX,AN))(AH);for(AV=0,AF=AU.columns.length;AV<AF;AV++){AM=AU.columns[AV];if(AM.command){AG=T(AM.command,"edit");if(AG){AS=AG}}}}else{for(AV=0,AF=AU.columns.length;AV<AF;AV++){AM=AU.columns[AV];if(!AM.command){AL+='<div class="k-edit-label"><label for="'+AM.field+'">'+(AM.title||AM.field||"")+"</label></div>";if((!AH.editable||AH.editable(AM.field))&&AM.field){AP.push({field:AM.field,format:AM.format,editor:AM.editor,values:AM.values});AL+="<div "+An.attr("container-for")+'="'+AM.field+'" class="k-edit-field"></div>'}else{var AQ={storage:{},count:0};AJ=An.template(AU._cellTmpl(AM,AQ),AN);if(AQ.count>0){AJ=M(AJ,AQ.storage)}AL+='<div class="k-edit-field">'+AJ(AH)+"</div>"}}else{if(AM.command){AG=T(AM.command,"edit");if(AG){AS=AG}}}}}if(AS){if(Ak(AS)){if(AS.text&&Ak(AS.text)){AK=AS.text.update;AO=AS.text.cancel}if(AS.attr){AI=AS.attr}}}var AT;if(!AU._isMobile){AL+='<div class="k-edit-buttons k-state-default">';AL+=AU._createButton({name:"update",text:AK,attr:AI})+AU._createButton({name:"canceledit",text:AO,attr:AI});AL+="</div></div></div>";AT=AU._editContainer=C(AL).appendTo(AU.wrapper).eq(0).kendoWindow(V({modal:true,resizable:false,draggable:true,title:"Edit",visible:false,close:function(AY){if(AY.userTriggered){if(AU.trigger("cancel",{container:AT,model:AH})){AY.preventDefault();return}var AZ=AU.items().index(C(AU.current()).parent());AU.cancelRow();if(AU.options.navigatable){AU.current(AU.items().eq(AZ).children().filter(N).first());O(AU.table,true)}}}},AR))}else{AL+="</div></div>";AU.editView=AU.pane.append("<div data-"+An.ns+'role="view" data-'+An.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+An.ns+'role="header" class="k-header">'+AU._createButton({name:"update",text:AK,attr:AI})+(AR.title||"Edit")+AU._createButton({name:"canceledit",text:AO,attr:AI})+"</div>"+AL+"</div>");AT=AU._editContainer=AU.editView.element.find(".k-popup-edit-form")}AU.editable=AU._editContainer.kendoEditable({fields:AP,model:AH,clearContainer:false}).data("kendoEditable");if(AU._isMobile){AT.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){C(this).next().children("input").click()})}AU._openPopUpEditor();AU.trigger(m,{container:AT,model:AH})},_openPopUpEditor:function(){if(!this._isMobile){this._editContainer.data("kendoWindow").center().open()}else{this.pane.navigate(this.editView,this._editAnimation)}},_createInlineEditor:function(AH,AK){var AG=this,AF,AJ,AI,AL=[];AH.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){AJ=C(this);AF=AG.columns[AG.cellIndex(AJ)];if(!AF.command&&AF.field&&(!AK.editable||AK.editable(AF.field))){AL.push({field:AF.field,format:AF.format,editor:AF.editor,values:AF.values});AJ.attr(An.attr("container-for"),AF.field);AJ.empty()}else{if(AF.command){AI=T(AF.command,"edit");if(AI){AJ.empty();var AM,AN,AO;if(Ak(AI)){if(AI.text&&Ak(AI.text)){AM=AI.text.update;AN=AI.text.cancel}if(AI.attr){AO=AI.attr}}C(AG._createButton({name:"update",text:AM,attr:AO})+AG._createButton({name:"canceledit",text:AN,attr:AO})).appendTo(AJ)}}}});AG._editContainer=AH;AG.editable=AH.addClass("k-grid-edit-row").kendoEditable({fields:AL,model:AK,clearContainer:false}).data("kendoEditable");AG.trigger(m,{container:AH,model:AK})},cancelRow:function(){var AF=this,AG=AF._editContainer,AH;if(AG){AH=AF._modelForContainer(AG);AF._destroyEditable();AF.dataSource.cancelChanges(AH);if(AF._editMode()!=="popup"){AF._displayRow(AG)}else{AF._displayRow(AF.items().filter("["+An.attr("uid")+"="+AH.uid+"]"))}}},saveRow:function(){var AG=this,AH=AG._editContainer,AI=AG._modelForContainer(AH),AF=AG.editable;if(AH&&AF&&AF.end()&&!AG.trigger(At,{container:AH,model:AI})){AG.dataSource.sync()}},_displayRow:function(AG){var AF=this,AH=AF._modelForContainer(AG);if(AH){AG.replaceWith(C((AG.hasClass("k-alt")?AF.altRowTemplate:AF.rowTemplate)(AH)))}},_showMessage:function(AG,AH){var AK=this;if(!AK._isMobile){return window.confirm(AG.title)}var AI=An.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>');var AF=C(AI(AG)).appendTo(AK.view.element);var AJ=new An.mobile.ui.ActionSheet(AF,{cancel:AG.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(AL){var AM=C(AL.currentTarget).parent();if(!AM.hasClass("km-actionsheet-cancel")){AK._removeRow(AH)}},popup:AK._actionSheetPopupOptions});AJ.open(AH);return false},_confirmation:function(AH){var AG=this,AF=AG.options.editable,AI=AF===true||typeof AF===Ax?As:AF.confirmation;if(AI!==false&&AI!=null){return AG._showMessage({confirmDelete:AF.confirmDelete||b,cancelDelete:AF.cancelDelete||Ai,title:AI===true?As:AI},AH)}return true},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var AF=this;if(((AF.editable&&AF.editable.end())||!AF.editable)&&!AF.trigger(k)){AF.dataSource.sync()}},addRow:function(){var AI=this,AG,AO=AI.dataSource,AK=AI._editMode(),AL=AI.options.editable.createAt||"",AJ=AO.pageSize(),AF=AO.view()||[];if((AI.editable&&AI.editable.end())||!AI.editable){if(AK!="incell"){AI.cancelRow()}AG=AO.indexOf(AF[0]);if(AL.toLowerCase()=="bottom"){AG+=AF.length;if(AJ&&!AO.options.serverPaging&&AJ<=AF.length){AG-=1}}if(AG<0){if(AO.page()>AO.totalPages()){AG=(AO.page()-1)*AJ}else{AG=0}}var AH=AO.insert(AG,{}),AM=AH.uid,AN=AI.table.find("tr["+An.attr("uid")+"="+AM+"]"),AP=AN.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(AI._firstEditableColumnIndex(AN));if(AK==="inline"&&AN.length){AI.editRow(AN)}else{if(AK==="popup"){AI.editRow(AH)}else{if(AP.length){AI.editCell(AP)}}}}},_firstEditableColumnIndex:function(AH){var AG=this,AK,AL=AG.columns,AI,AF,AJ=AG._modelForContainer(AH);for(AI=0,AF=AL.length;AI<AF;AI++){AK=AL[AI];if(AJ&&(!AJ.editable||AJ.editable(AK.field))&&!AK.command&&AK.field){return AI}}return -1},_toolbar:function(){var AG=this,AF=AG.wrapper,AI=AG.options.toolbar,AJ=AG.options.editable,AH;if(AI){AH=AG.wrapper.find(".k-grid-toolbar");if(!AH.length){if(!i(AI)){AI=(typeof AI===Ax?AI:AG._toolbarTmpl(AI).replace(Y,"\\#"));AI=M(An.template(AI),AG)}AH=C('<div class="k-toolbar k-grid-toolbar" />').html(AI({})).prependTo(AF)}if(AJ&&AJ.create!==false){AH.on(J+n,".k-grid-add",function(AK){AK.preventDefault();AG.addRow()}).on(J+n,".k-grid-cancel-changes",function(AK){AK.preventDefault();AG.cancelChanges()}).on(J+n,".k-grid-save-changes",function(AK){AK.preventDefault();AG.saveChanges()})}}},_toolbarTmpl:function(AI){var AH=this,AJ,AG,AF="";if(d(AI)){for(AJ=0,AG=AI.length;AJ<AG;AJ++){AF+=AH._createButton(AI[AJ])}}return AF},_createButton:function(AJ){var AI=AJ.template||j,AF=typeof AJ===Ax?AJ:AJ.name||AJ.text,AG=AB[AF]?AB[AF].className:"k-grid-"+(AF||"").replace(/\s/g,""),AH={className:AG,text:AF,imageClass:"",attr:"",iconClass:""};if(!AF&&!(Ak(AJ)&&AJ.template)){throw new Error("Custom commands should have name specified")}if(Ak(AJ)){if(AJ.className){AJ.className+=" "+AH.className}if(AF==="edit"&&Ak(AJ.text)){AJ=V(true,{},AJ);AJ.text=AJ.text.edit}if(AJ.attr&&Ak(AJ.attr)){AJ.attr=U(AJ.attr)}AH=V(true,AH,AB[AF],AJ)}else{AH=V(true,AH,AB[AF])}return An.template(AI)(AH)},_hasFooters:function(){var AF=this.columns,AG=AF.length,AH;for(AH=0;AH<AG;AH++){if(AF[AH].footerTemplate!==""||AF[AH].groupFooterTemplate!==""){return true}}return false},_groupable:function(){var AF=this;if(AF._groupableClickHandler){AF.table.off(J+n,AF._groupableClickHandler)}else{AF._groupableClickHandler=function(AH){var AI=C(this),AG=AI.closest("tr");if(AI.hasClass("k-i-collapse")){AF.collapseGroup(AG)}else{AF.expandGroup(AG)}AH.preventDefault();AH.stopPropagation()}}AF.table.on(J+n,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",AF._groupableClickHandler);AF._attachGroupable()},_attachGroupable:function(){var AH=this,AG=AH.wrapper,AI=AH.options.groupable,AF=Al+":visible["+An.attr("field")+"]",AJ=Al+"["+An.attr("field")+"]";if(AI){if(!AG.has("div.k-grouping-header")[0]){C("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(AG)}if(AH.groupable){AH.groupable.destroy()}AH.groupable=new W(AG,V({},AI,{draggable:AH._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:AH.dataSource,draggableElements:AH.content?".k-grid-header:first "+AF:"table:first>.k-grid-header "+AF,filter:AH.content?".k-grid-header:first "+AJ:"table:first>.k-grid-header "+AJ,allowDrag:AH.options.reorderable}))}},_selectable:function(){var AG=this,AJ,AI,AF=[],AH=AG.options.selectable;if(AH){AJ=typeof AH===Ax&&AH.toLowerCase().indexOf("multiple")>-1;AI=typeof AH===Ax&&AH.toLowerCase().indexOf("cell")>-1;if(AG._hasDetails()){AF[AF.length]=".k-detail-row"}if(AG.options.groupable||AG._hasFooters()){AF[AF.length]=".k-grouping-row,.k-group-footer"}AF=AF.join(",");if(AF!==""){AF=":not("+AF+")"}AG.selectable=new An.ui.Selectable(AG.table,{filter:">"+(AI?S:"tbody>tr"+AF),aria:true,multiple:AJ,change:function(){AG.trigger(G)}});if(AG.options.navigatable){AG.table.on("keydown"+n,function(AK){var AL=AG.current();if(AK.keyCode===AC.SPACEBAR&&AK.target==AG.table[0]&&!AL.is(".k-edit-cell,.k-header")&&AL.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){AK.preventDefault();AK.stopPropagation();AL=AI?AL:AL.parent();if(AJ){if(!AK.ctrlKey){AG.selectable.clear()}else{if(AL.hasClass(Ae)){AL.removeClass(Ae);AG.trigger(G);return}}}else{AG.selectable.clear()}AG.selectable.value(AL)}})}}},clearSelection:function(){var AF=this;AF.selectable.clear();AF.trigger(G)},select:function(AH){var AF=this,AG=AF.selectable;AH=C(AH);if(AH.length){if(!AG.options.multiple){AG.clear();AH=AH.first()}AG.value(AH);return}return AG.value()},current:function(AJ){var AH=this,AG=AH.options.scrollable,AI=AH._current,AF=AH.table.add(AH.thead.parent());if(AJ!==w&&AJ.length){if(!AI||AI[0]!==AJ[0]){if(AI){AI.removeClass(v).removeAttr("id");AF.removeAttr("aria-activedescendant")}AJ.attr("id",AH._cellId);AH._current=AJ.addClass(v);AF.attr("aria-activedescendant",AH._cellId);if(AJ.length&&AG){if(C.contains(AH.content[0],AJ[0])){AH._scrollTo(AJ.parent()[0],AH.content[0])}if(AG.virtual){AH._scrollTo(AJ[0],AH.content.find(">.k-virtual-scrollable-wrap")[0])}else{AH._scrollTo(AJ[0],AH.content[0])}}}}return AH._current},_removeCurrent:function(){if(this._current){this._current.removeClass(v);this._current=null}},_scrollTo:function(AF,AM){var AK=AF.tagName.toLowerCase(),AH=AK==="td"||AK==="th",AO=AF[AH?"offsetLeft":"offsetTop"],AL=AF[AH?"offsetWidth":"offsetHeight"],AJ=AM[AH?"scrollLeft":"scrollTop"],AN=AM[AH?"clientWidth":"clientHeight"],AG=AO+AL,AI=0;if(AJ>AO){AI=AO}else{if(AG>(AJ+AN)){if(AL<=AN){AI=(AG-AN)}else{AI=AO}}else{AI=AJ}}AM[AH?"scrollLeft":"scrollTop"]=AI},_navigatable:function(){var AG=this,AI=M(AG.current,AG),AJ=AG.table,AK=AG.thead.parent(),AH=AJ,AF=An.support.isRtl(AG.element);if(!AG.options.navigatable){return}if(AG.options.scrollable){AH=AJ.add(AK);AK.attr(Q,-1)}AK.on("keydown"+n,function(AL){if(AL.altKey&&AL.keyCode==AC.DOWN){AI().find(".k-grid-filter, .k-header-column-menu").click();AL.stopImmediatePropagation()}}).find("a.k-link").attr("tabIndex",-1);AJ.attr(Q,t.max(AJ.attr(Q)||0,0)).on("mousedown"+n+" keydown"+n,".k-detail-cell",function(AL){if(AL.target!==AL.currentTarget){AL.stopImmediatePropagation()}});AH.on((An.support.touch?"touchstart"+n:"mousedown"+n),A+">"+N,M(H,AG)).on("focus"+n,function(){if(An.support.touch){return}var AL=AI();if(AL&&AL.is(":visible")){AL.addClass(v)}else{AI(C(this).find(L))}if(this==AJ[0]){AK.attr(Q,-1);AJ.attr(Q,0)}else{AJ.attr(Q,-1);AK.attr(Q,0)}}).on("focusout"+n,function(){var AL=AI();if(AL){AL.removeClass(v)}}).on("keydown"+n,function(AU){var AR=AU.keyCode,AV=false,AT=!AU.isDefaultPrevented()&&!C(AU.target).is(":button,a,:input,a>.k-icon"),AX=AG.options.pageable,AQ=AG.dataSource,A0=AG._editMode()=="incell",AO,AL,A1,AP,AN,AW=AU.shiftKey,AS=AI();if(AS&&AS.is("th")){AT=true}if(AT&&AR==AC.UP){if(AS){A1=AS.parent().prevAll(A).first();if(!A1[0]){AN=AG.thead.parent();O(AN,true);A1=AN.find(A).first()}AP=AS.index();AS=A1.children().eq(AP);if(!AS[0]||!AS.is(N)){AS=A1.children(N).first()}}else{AS=AJ.find(L)}AV=true;AI(AS)}else{if(AT&&AR==AC.DOWN){if(AS){A1=AS.parent().nextAll(A).first();if(!A1[0]&&AS.is("th")){O(AG.tbody.parent());A1=AG.tbody.find(A).first()}AP=AS.index();AS=A1.children().eq(AP);if(!AS[0]||!AS.is(N)){AS=A1.children(N).first()}}else{AS=AJ.find(L)}AV=true;AI(AS)}else{if(AT&&AR==(AF?AC.RIGHT:AC.LEFT)){AI(AS?AS.prevAll(y+":first"):AJ.find(L));AV=true}else{if(AT&&AR==(AF?AC.LEFT:AC.RIGHT)){if(AS){if(AS.next()[0]){AS=AS.nextAll(y+":first")}}else{AS=AJ.find(L)}AV=true;AI(AS)}else{if(AT&&AX&&AC.PAGEDOWN==AR){AQ.page(AQ.page()+1);AV=true}else{if(AT&&AX&&AC.PAGEUP==AR){AQ.page(AQ.page()-1);AV=true}else{if(AR==AC.ENTER||AC.F2==AR){AS=AS?AS:AJ.find(L);if(AS.is("th")){AS.find(".k-link").click();AV=true}else{if(AS.parent().is(".k-master-row,.k-grouping-row")){AS.parent().find(".k-icon:first").click();AV=true}else{var AM=AS.find(":kendoFocusable:first");if(!AS.hasClass("k-edit-cell")&&AM[0]&&AS.hasClass("k-state-focused")){AM.focus();AV=true}else{if(AG.options.editable&&!C(AU.target).is(":button,.k-button,textarea")){var AZ=C(AU.target).closest("[role=gridcell]");if(!AZ[0]){AZ=AS}AG._handleEditing(AZ);AV=true}}}}}else{if(AC.ESC==AR){AO=c();if(AS&&C.contains(AS[0],AO)&&!AS.hasClass("k-edit-cell")&&!AS.parent().hasClass("k-grid-edit-row")){O(AG.table[0],true);AV=true}else{if(AG._editContainer&&(!AS||AG._editContainer.has(AS[0])||AS[0]===AG._editContainer[0])){if(A0){AG.closeCell(true)}else{AL=AG.items().index(C(AS).parent());if(AO){AO.blur()}AG.cancelRow();if(AL>=0){AG.current(AG.items().eq(AL).children().filter(N).first())}}if(AA.msie&&AA.version<9){document.body.focus()}O(AJ,true);AV=true}}}else{if(AC.TAB==AR){var AY;AS=C(AS);if(AG.options.editable&&A0){AY=C(c()).closest(".k-edit-cell");if(AY[0]&&AY[0]!==AS[0]){AS=AY}}AY=AW?AS.prevAll(y+":first"):AS.nextAll(":visible:first");if(!AY.length){AY=AS.parent()[AW?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(y+(AW?":last":":first"))}if(!AS.is("th")&&AY.length&&AG.options.editable&&A0){AG._handleEditing(AS,AY);AV=true}}}}}}}}}}if(AV){AU.preventDefault();AU.stopPropagation()}})},_handleEditing:function(AH,AN){var AK=this,AL=C(c()),AM=AK._editMode(),AG=AA.msie,AJ=AG&&AA.version<9,AI=AK._editContainer,AO,AF;if(AM=="incell"){AF=AH.hasClass("k-edit-cell")}else{AF=AH.parent().hasClass("k-grid-edit-row")}if(AK.editable){if(C.contains(AI[0],AL[0])){if(AA.opera||AJ){AL.change().triggerHandler("blur")}else{AL.blur();if(AG){AL.blur()}}}if(!AK.editable){O(AK.table);return}if(AK.editable.end()){if(AM=="incell"){AK.closeCell()}else{AK.saveRow();AF=true}}else{if(AM=="incell"){AK.current(AI)}else{AK.current(AI.children().filter(y).first())}AO=AI.find(":kendoFocusable:first")[0];if(AO){AO.focus()}return}}if(AN){AK.current(AN)}if(AJ){document.body.focus()}O(AK.table,true);if((!AF&&!AN)||AN){if(AM=="incell"){AK.editCell(AK.current())}else{AK.editRow(AK.current().parent())}}},_wrapper:function(){var AH=this,AI=AH.table,AF=AH.options.height,AG=AH.element;if(!AG.is("div")){AG=AG.wrap("<div/>").parent()}AH.wrapper=AG.addClass("k-grid k-widget k-secondary");if(AF){AH.wrapper.css(q,AF);AI.css(q,"auto")}AH._initMobile()},_initMobile:function(){var AG=this.options;this._isMobile=(AG.mobile===true&&An.support.mobileOS)||AG.mobile==="phone"||AG.mobile==="tablet";if(this._isMobile){var AF=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+An.ns+'role="view" data-'+An.ns+'init-widgets="false"></div>').parent();this.pane=An.mobile.ui.Pane.wrap(AF);this.view=this.pane.view();this._actionSheetPopupOptions=C(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"};if(AG.height){this.pane.element.parent().css(q,AG.height)}this._editAnimation="slide"}},_tbody:function(){var AF=this,AH=AF.table,AG;AG=AH.find(">tbody");if(!AG.length){AG=C("<tbody/>").appendTo(AH)}AF.tbody=AG},_scrollable:function(){var AJ=this,AN,AO,AK=AJ.options,AG=AK.scrollable,AI=AG!==true&&AG.virtual&&!AJ.virtualScrollable,AL=!An.support.kineticScrollNeeded||AI?An.support.scrollbar():0;if(AG){AN=AJ.wrapper.children(".k-grid-header");if(!AN[0]){AN=C('<div class="k-grid-header" />').insertBefore(AJ.table)}AN.css((K?"padding-left":"padding-right"),AG.virtual?AL+1:AL);AO=C('<table role="grid" />');if(F){AO.attr("cellspacing",0)}AO.append(AJ.thead);AN.empty().append(C('<div class="k-grid-header-wrap" />').append(AO));AJ.content=AJ.table.parent();if(AJ.content.is(".k-virtual-scrollable-wrap")){AJ.content=AJ.content.parent()}if(!AJ.content.is(".k-grid-content, .k-virtual-scrollable-wrap")){AJ.content=AJ.table.wrap('<div class="k-grid-content" />').parent()}if(AI){AJ.virtualScrollable=new P(AJ.content,{dataSource:AJ.dataSource,itemHeight:M(AJ._averageRowHeight,AJ)})}AJ.scrollables=AN.children(".k-grid-header-wrap");var AF=AJ.wrapper.find(".k-grid-footer"),AM=(K&&AA.webkit)?AL:0;if(AF.length){AJ.scrollables=AJ.scrollables.add(AF.children(".k-grid-footer-wrap"))}if(AG.virtual){AJ.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+n,function(){AJ.scrollables.scrollLeft(this.scrollLeft+AM)})}else{AJ.content.bind("scroll"+n,function(){AJ.scrollables.scrollLeft(this.scrollLeft+AM)});var AH=An.touchScroller(AJ.content);if(AH&&AH.movable){AH.movable.bind("change",function(AP){AJ.scrollables.scrollLeft(-AP.sender.x)})}}}},_setContentWidth:function(){var AH=this,AG="k-grid-content-expander",AI='<div class="'+AG+'"></div>',AF=AH.resizable,AJ;if(AH.options.scrollable){AJ=AH.table.parent().children("."+AG);AH._setContentWidthHandler=M(AH._setContentWidth,AH);if(!AH.dataSource.view().length){if(!AJ[0]){AJ=C(AI).appendTo(AH.table.parent());if(AF){AF.bind("resize",AH._setContentWidthHandler)}}AJ.width(AH.thead.width())}else{if(AJ[0]){AJ.remove();if(AF){AF.unbind("resize",AH._setContentWidthHandler)}}}}},_setContentHeight:function(){var AH=this,AI=AH.options,AG=AH.wrapper.innerHeight(),AK=AH.wrapper.children(".k-grid-header"),AF=An.support.scrollbar();if(AI.scrollable){AG-=AK.outerHeight();if(AH.pager){AG-=AH.pager.element.outerHeight()}if(AI.groupable){AG-=AH.wrapper.children(".k-grouping-header").outerHeight()}if(AI.toolbar){AG-=AH.wrapper.children(".k-grid-toolbar").outerHeight()}if(AH.footerTemplate){AG-=AH.wrapper.children(".k-grid-footer").outerHeight()}var AJ=function(AL){var AN,AM;if(AL[0].style.height){return true}else{AN=AL.height()}AL.height("auto");AM=AL.height();if(AN!=AM){AL.height("");return true}AL.height("");return false};if(AJ(AH.wrapper)){if(AG>AF*2){AH.content.height(AG)}else{AH.content.height(AF*2+1)}}}},_averageRowHeight:function(){var AF=this,AG=AF._rowHeight;if(!AF._rowHeight){AF._rowHeight=AG=AF.table.outerHeight()/AF.items().length;AF._sum=AG;AF._measures=1}var AH=AF.table.outerHeight()/AF.items().length;if(AG!==AH){AF._measures++;AF._sum+=AH;AF._rowHeight=AF._sum/AF._measures}return AG},_dataSource:function(){var AG=this,AI=AG.options,AF,AH=AI.dataSource;AH=d(AH)?{data:AH}:AH;if(Ak(AH)){V(AH,{table:AG.table,fields:AG.columns});AF=AI.pageable;if(Ak(AF)&&AF.pageSize!==w){AH.pageSize=AF.pageSize}}if(AG.dataSource&&AG._refreshHandler){AG.dataSource.unbind(G,AG._refreshHandler).unbind(Ac,AG._progressHandler).unbind(p,AG._errorHandler)}else{AG._refreshHandler=M(AG.refresh,AG);AG._progressHandler=M(AG._requestStart,AG);AG._errorHandler=M(AG._error,AG)}AG.dataSource=Av.create(AH).bind(G,AG._refreshHandler).bind(Ac,AG._progressHandler).bind(p,AG._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_modelChange:function(AF){var AL=this,AN=AF.model,AK=AL.tbody.find("tr["+An.attr("uid")+"="+AN.uid+"]"),AO,AG,AH=AK.hasClass("k-alt"),AJ,AI=AL.items().index(AK),AM;if(AK.children(".k-edit-cell").length&&!AL.options.rowTemplate){AK.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){AO=C(this);AG=AL.columns[AL.cellIndex(AO)];if(AG.field===AF.field){if(!AO.hasClass("k-edit-cell")){AL._displayCell(AO,AG,AN);C('<span class="k-dirty"/>').prependTo(AO)}else{AO.addClass("k-dirty-cell")}}})}else{if(!AK.hasClass("k-grid-edit-row")){AJ=(AH?AL.altRowTemplate:AL.rowTemplate)(AN);AK.replaceWith(AJ);AJ=AL.items().eq(AI);for(AI=0,AM=AL.columns.length;AI<AM;AI++){AG=AL.columns[AI];if(AG.field===AF.field){AO=AJ.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(AI);C('<span class="k-dirty"/>').prependTo(AO)}}AL.trigger("itemChange",{item:AJ,data:AN,ns:s})}}},_pageable:function(){var AG=this,AF,AH=AG.options.pageable;if(AH){AF=AG.wrapper.children("div.k-grid-pager");if(!AF.length){AF=C('<div class="k-pager-wrap k-grid-pager"/>').appendTo(AG.wrapper)}if(AG.pager){AG.pager.destroy()}if(typeof AH==="object"&&AH instanceof An.ui.Pager){AG.pager=AH}else{AG.pager=new An.ui.Pager(AF,V({},AH,{dataSource:AG.dataSource}))}}},_footer:function(){var AK=this,AH=AK.dataSource.aggregates(),AM="",AI=AK.footerTemplate,AL=AK.options,AF,AG=AK.footer||AK.wrapper.find(".k-grid-footer");if(AI){AH=!Af(AH)?AH:Z(AK.dataSource.aggregate());AM=C(AK._wrapFooter(AI(AH)));if(AG.length){var AJ=AM;AG.replaceWith(AJ);AG=AK.footer=AJ}else{if(AL.scrollable){AG=AK.footer=AL.pageable?AM.insertBefore(AK.wrapper.children("div.k-grid-pager")):AM.appendTo(AK.wrapper)}else{AG=AK.footer=AM.insertBefore(AK.tbody)}}}else{if(AG&&!AK.footer){AK.footer=AG}}if(AG.length){if(AL.scrollable){AF=AG.attr("tabindex",-1).children(".k-grid-footer-wrap");AK.scrollables=AK.scrollables.not(".k-grid-footer-wrap").add(AF)}if(AK._footerWidth){AG.find("table").css("width",AK._footerWidth)}if(AF){AF.scrollLeft(AK.content.scrollLeft())}}},_wrapFooter:function(AG){var AH=this,AF="",AI=!An.support.mobileOS?An.support.scrollbar():0;if(AH.options.scrollable){AF=C('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(F?' cellspacing="0"':"")+"><tbody>"+AG+"</tbody></table></div></div>");AH._appendCols(AF.find("table"));AF.css((K?"padding-left":"padding-right"),AI);return AF}return'<tfoot class="k-grid-footer">'+AG+"</tfoot>"},_columnMenu:function(){var AN=this,AO,AJ=AN.columns,AH,AL=AN.options,AG=AL.columnMenu,AP,AQ,AK,AI=this._isMobile,AM=function(){O(AN.thead.parent(),true)},AF=function(AS){AN.trigger(Ad,{field:AS.field,container:AS.container})},AR;if(AG){if(typeof AG=="boolean"){AG={}}AN.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(AS){AH=AJ[AS];AR=C(this);if(!AH.command&&(AH.field||AR.attr("data-"+An.ns+"field"))){AO=AR.data("kendoColumnMenu");if(AO){AO.destroy()}AQ=AH.sortable!==false&&AG.sortable!==false?AL.sortable:false;AK=AL.filterable&&AH.filterable!==false&&AG.filterable!==false?V({},AH.filterable,AL.filterable):false;AP={dataSource:AN.dataSource,values:AH.values,columns:AG.columns,sortable:AQ,filterable:AK,messages:AG.messages,owner:AN,closeCallback:AM,init:AF,filter:AI?":not(.k-column-active)":""};AR.kendoColumnMenu(AP)}})}},_filterable:function(){var AG=this,AK=AG.columns,AI,AJ,AH=function(){O(AG.thead.parent(),true)},AF=AG.options.filterable;if(AF&&!AG.options.columnMenu){AG.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(AM){AI=C(this);if(AK[AM].filterable!==false&&!AK[AM].command&&(AK[AM].field||AI.attr("data-"+An.ns+"field"))){AJ=AI.data("kendoFilterMenu");if(AJ){AJ.destroy()}var AN=AK[AM].filterable;var AL=V({},AF,AN,{dataSource:AG.dataSource,values:AK[AM].values,closeCallback:AH,init:function(AO){AG.trigger(u,{field:AO.field,container:AO.container})}});if(AN&&AN.messages){AL.messages=V(true,{},AF.messages,AN.messages)}AI.kendoFilterMenu(AL)}})}},_sortable:function(){var AG=this,AK=AG.columns,AJ,AI,AF,AH=AG.options.sortable;if(AH){AG.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(AL){AJ=AK[AL];if(AJ.sortable!==false&&!AJ.command&&AJ.field){AI=C(this);AF=AI.data("kendoSortable");if(AF){AF.destroy()}AI.attr("data-"+An.ns+"field",AJ.field).kendoSortable(V({},AH,AJ.sortable,{dataSource:AG.dataSource,aria:true,filter:":not(.k-column-active)"}))}})}},_columns:function(AK){var AG=this,AJ=AG.table,AI,AF=AJ.find("col"),AH=AG.options.dataSource;AK=AK.length?AK:Aw(AJ.find("th"),function(AS,AN){AS=C(AS);var AR=AS.attr(An.attr("sortable")),AO=AS.attr(An.attr("filterable")),AQ=AS.attr(An.attr("type")),AL=AS.attr(An.attr("groupable")),AP=AS.attr(An.attr("field")),AM=AS.attr(An.attr("menu"));if(!AP){AP=AS.text().replace(/\s|[^A-z0-9]/g,"")}return{field:AP,type:AQ,sortable:AR!=="false",filterable:AO!=="false",groupable:AL!=="false",menu:AM,template:AS.attr(An.attr("template")),width:AF.eq(AN).css("width")}});AI=!(AG.table.find("tbody tr").length>0&&(!AH||!AH.transport));AG.columns=Aw(AK,function(AL){AL=typeof AL===Ax?{field:AL}:AL;if(AL.hidden){AL.attributes=Aa(AL.attributes);AL.footerAttributes=Aa(AL.footerAttributes);AL.headerAttributes=Aa(AL.headerAttributes)}return V({encoded:AI},AL)})},_groups:function(){var AF=this.dataSource.group();return AF?AF.length:0},_tmpl:function(AO,AR){var AM=this,AF=V({},An.Template,AM.options.templateSettings),AJ,AK=AM.columns.length,AG,AL={storage:{},count:0},AH,AQ,AI=AM._hasDetails(),AP=[],AN=AM._groups();if(!AO){AO="<tr";if(AR){AP.push("k-alt")}if(AI){AP.push("k-master-row")}if(AP.length){AO+=' class="'+AP.join(" ")+'"'}if(AK){AO+=" "+An.attr("uid")+'="#='+An.expr("uid",AF.paramName)+'#"'}AO+=" role='row'>";if(AN>0){AO+=R(AN)}if(AI){AO+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'}for(AJ=0;AJ<AK;AJ++){AH=AM.columns[AJ];AG=AH.template;AQ=typeof AG;AO+="<td"+U(AH.attributes)+" role='gridcell'>";AO+=AM._cellTmpl(AH,AL);AO+="</td>"}AO+="</tr>"}AO=An.template(AO,AF);if(AL.count>0){return M(AO,AL.storage)}return AO},_headerCellText:function(AK){var AG=this,AI=V({},An.Template,AG.options.templateSettings),AJ=AK.headerTemplate,AF=typeof(AJ),AH=AK.title||AK.field||"";if(AF===D){AH=An.template(AJ,AI)({})}else{if(AF===Ax){AH=AJ}}return AH},_cellTmpl:function(AH,AM){var AN=this,AF=V({},An.Template,AN.options.templateSettings),AG=AH.template,AR=AF.paramName,AO=AH.field,AQ="",AK,AL,AJ=AH.format,AP=typeof AG,AI=AH.values;if(AH.command){if(d(AH.command)){for(AK=0,AL=AH.command.length;AK<AL;AK++){AQ+=AN._createButton(AH.command[AK])}return AQ.replace(Y,"\\#")}return AN._createButton(AH.command).replace(Y,"\\#")}if(AP===D){AM.storage["tmpl"+AM.count]=AG;AQ+="#=this.tmpl"+AM.count+"("+AR+")#";AM.count++}else{if(AP===Ax){AQ+=AG}else{if(AI&&AI.length&&Ak(AI[0])&&"value" in AI[0]&&AO){AQ+="#var v ="+An.stringify(Az(AI))+"#";AQ+="#var f = v[";if(!AF.useWithBlock){AQ+=AR+"."}AQ+=AO+"]#";AQ+="${f != null ? f : ''}"}else{AQ+=AH.encoded?"#:":"#=";if(AJ){AQ+='kendo.format("'+AJ.replace(Ao,"\\$1")+'",'}if(AO){AO=An.expr(AO,AR);AQ+=AO+"==null?'':"+AO}else{AQ+="''"}if(AJ){AQ+=")"}AQ+="#"}}}return AQ},_templates:function(){var AH=this,AJ=AH.options,AI=AH.dataSource,AG=AI.group(),AK=AH.footer||AH.wrapper.find(".k-grid-footer"),AF=AI.aggregate();AH.rowTemplate=AH._tmpl(AJ.rowTemplate);AH.altRowTemplate=AH._tmpl(AJ.altRowTemplate||AJ.rowTemplate,true);if(AH._hasDetails()){AH.detailTemplate=AH._detailTmpl(AJ.detailTemplate||"")}if((AH._group&&!Af(AF))||(!Af(AF)&&!AK.length)||f(AH.columns,function(AL){return AL.footerTemplate}).length){AH.footerTemplate=AH._footerTmpl(AF,"footerTemplate","k-footer-template")}if(AG&&f(AH.columns,function(AL){return AL.groupFooterTemplate}).length){AF=C.map(AG,function(AL){return AL.aggregates});AH.groupFooterTemplate=AH._footerTmpl(AF,"groupFooterTemplate","k-group-footer")}},_footerTmpl:function(AO,AT,AN){var AI=this,AS=V({},An.Template,AI.options.templateSettings),AM=AS.paramName,AQ="",AV,AF,AP=AI.columns,AW,AU,AK={},AJ=0,AL={},AG=AI._groups(),AH=Z(AO),AR;AQ+='<tr class="'+AN+'">';if(AG>0){AQ+=R(AG)}if(AI._hasDetails()){AQ+='<td class="k-hierarchy-cell">&nbsp;</td>'}for(AV=0,AF=AI.columns.length;AV<AF;AV++){AR=AP[AV];AW=AR[AT];AU=typeof AW;AQ+="<td"+U(AR.footerAttributes)+">";if(AW){if(AU!==D){AL=AH[AR.field]?V({},AS,{paramName:AM+"."+AR.field}):{};AW=An.template(AW,AL)}AK["tmpl"+AJ]=AW;AQ+="#=this.tmpl"+AJ+"("+AM+")#";AJ++}else{AQ+="&nbsp;"}AQ+="</td>"}AQ+="</tr>";AQ=An.template(AQ,AS);if(AJ>0){return M(AQ,AK)}return AQ},_detailTmpl:function(AH){var AI=this,AN="",AG=V({},An.Template,AI.options.templateSettings),AF=AG.paramName,AK={},AM=0,AJ=AI._groups(),AO=AE(AI.columns).length,AL=typeof AH;AN+='<tr class="k-detail-row">';if(AJ>0){AN+=R(AJ)}AN+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(AO?' colspan="'+AO+'"':"")+">";if(AL===D){AK["tmpl"+AM]=AH;AN+="#=this.tmpl"+AM+"("+AF+")#";AM++}else{AN+=AH}AN+="</td></tr>";AN=An.template(AN,AG);if(AM>0){return M(AN,AK)}return AN},_hasDetails:function(){var AF=this;return AF.options.detailTemplate!==null||(AF._events[Am]||[]).length},_details:function(){var AF=this;AF.table.on(J+n,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(AG){var AL=C(this),AN=AL.hasClass("k-plus"),AJ=AL.closest("tr.k-master-row"),AK,AM=AF.detailTemplate,AH,AI=AF._hasDetails();AL.toggleClass("k-plus",!AN).toggleClass("k-minus",AN);if(AI&&!AJ.next().hasClass("k-detail-row")){AH=AF.dataItem(AJ);C(AM(AH)).addClass(AJ.hasClass("k-alt")?"k-alt":"").insertAfter(AJ);AF.trigger(Am,{masterRow:AJ,detailRow:AJ.next(),data:AH,detailCell:AJ.next().find(".k-detail-cell")})}AK=AJ.next();AF.trigger(AN?g:X,{masterRow:AJ,detailRow:AK});AK.toggle(AN);if(AF._current){AF._current.attr("aria-expanded",AN)}AG.preventDefault();return false})},dataItem:function(AG){AG=C(AG)[0];if(!AG){return null}var AH=this.tbody.children(),AJ=/k-grouping-row|k-detail-row|k-group-footer/,AI=AG.sectionRowIndex,AK,AF;AF=AI;for(AK=0;AK<AI;AK++){if(AJ.test(AH[AK].className)){AF--}}return this._data[AF]},expandRow:function(AF){C(AF).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(AF){C(AF).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var AK=this,AH=AK.columns,AG=AK._hasDetails()&&AH.length,AI,AJ,AN="",AF=AK.table.find(">thead"),AM,AL,AO;if(!AF.length){AF=C("<thead/>").insertBefore(AK.tbody)}AM=AK.element.find("tr:has(th):first");if(!AM.length){AM=AF.children().first();if(!AM.length){AM=C("<tr/>")}}if(!AM.children().length){if(AG){AN+='<th class="k-hierarchy-cell">&nbsp;</th>'}for(AI=0,AJ=AH.length;AI<AJ;AI++){AO=AH[AI];AL=AK._headerCellText(AO);if(!AO.command){AN+="<th role='columnheader' "+An.attr("field")+"='"+(AO.field||"")+"' ";if(AO.title){AN+=An.attr("title")+'="'+AO.title.replace(/'/g,"'")+'" '}if(AO.groupable!==w){AN+=An.attr("groupable")+"='"+AO.groupable+"' "}if(AO.aggregates){AN+=An.attr("aggregates")+"='"+AO.aggregates+"'"}AN+=U(AO.headerAttributes);AN+=">"+AL+"</th>"}else{AN+="<th"+U(AO.headerAttributes)+">"+AL+"</th>"}}AM.html(AN)}else{if(AG&&!AM.find(".k-hierarchy-cell")[0]){AM.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')}}AM.find("th").addClass("k-header");if(!AK.options.scrollable){AF.addClass("k-grid-header")}AM.find("script").remove().end().appendTo(AF);if(AK.thead){AK._destroyColumnAttachments()}AK.thead=AF;AK._sortable();AK._filterable();AK._scrollable();AK._updateCols();AK._resizable();AK._draggable();AK._reorderable();if(AK.groupable){AK._attachGroupable()}AK._columnMenu()},_updateCols:function(){var AF=this;AF._appendCols(AF.thead.parent().add(AF.table))},_appendCols:function(AG){var AF=this;Aq(AG,AE(AF.columns),AF._hasDetails(),AF._groups())},_autoColumns:function(AH){if(AH&&AH.toJSON){var AF=this,AG;AH=AH.toJSON();for(AG in AH){AF.columns.push({field:AG})}AF._thead();AF._templates()}},_rowsHtml:function(AL){var AI=this,AF="",AJ,AG,AH=AI.rowTemplate,AK=AI.altRowTemplate;for(AJ=0,AG=AL.length;AJ<AG;AJ++){if(AJ%2){AF+=AK(AL[AJ])}else{AF+=AH(AL[AJ])}AI._data.push(AL[AJ])}return AF},_groupRowHtml:function(AO,AN,AR){var AM=this,AS="",AK,AL,AF=AO.field,AG=f(AM.columns,function(AT){return AT.field==AF})[0]||{},AJ=AG.groupHeaderTemplate,AQ=(AG.title||AF)+": "+Ar(AO.value,AG.format,AG.values),AH=V({},{field:AO.field,value:AO.value},AO.aggregates[AO.field]),AP=AM._groupAggregatesDefaultObject||{},AI=AO.items;if(AJ){AQ=typeof AJ===D?AJ(AH):An.template(AJ)(AH)}AS+='<tr class="k-grouping-row">'+R(AR)+'<td colspan="'+AN+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+AQ+"</p></td></tr>";if(AO.hasSubgroups){for(AK=0,AL=AI.length;AK<AL;AK++){AS+=AM._groupRowHtml(AI[AK],AN-1,AR+1)}}else{AS+=AM._rowsHtml(AI)}if(AM.groupFooterTemplate){AS+=AM.groupFooterTemplate(V(AP,AO.aggregates))}return AS},collapseGroup:function(AF){AF=C(AF).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var AG=AF.find(".k-group-cell").length,AH=1,AJ,AI;AF.find("td:first").attr("aria-expanded",false);AF.nextAll("tr").each(function(){AI=C(this);AJ=AI.find(".k-group-cell").length;if(AI.hasClass("k-grouping-row")){AH++}else{if(AI.hasClass("k-group-footer")){AH--}}if(AJ<=AG||(AI.hasClass("k-group-footer")&&AH<0)){return false}AI.hide()})},expandGroup:function(AF){AF=C(AF).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var AH=this,AJ=AF.find(".k-group-cell").length,AI,AG,AK=1;AF.find("td:first").attr("aria-expanded",true);AF.nextAll("tr").each(function(){AI=C(this);AG=AI.find(".k-group-cell").length;if(AG<=AJ){return false}if(AG==AJ+1&&!AI.hasClass("k-detail-row")){AI.show();if(AI.hasClass("k-grouping-row")&&AI.find(".k-icon").hasClass("k-i-collapse")){AH.expandGroup(AI)}if(AI.hasClass("k-master-row")&&AI.find(".k-icon").hasClass("k-minus")){AI.next().show()}}if(AI.hasClass("k-grouping-row")){AK++}if(AI.hasClass("k-group-footer")){if(AK==1){AI.show()}else{AK--}}})},_updateHeader:function(AG){var AH=this,AI=AH.thead.find("th.k-group-cell"),AF=AI.length;if(AG>AF){C(new Array(AG-AF+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(AH.thead.find("tr"))}else{if(AG<AF){AF=AF-AG;C(f(AI,function(AJ,AK){return AF>AK})).remove()}}},_firstDataItem:function(AG,AF){if(AG&&AF){if(AG.hasSubgroups){AG=this._firstDataItem(AG.items[0],AF)}else{AG=AG.items[0]}}return AG},hideColumn:function(AG){var AP=this,AF,AL,AS,AQ,AI,AK,AN,AO=0,AJ,AM=AP.footer||AP.wrapper.find(".k-grid-footer"),AH=AP.columns,AR;if(typeof AG=="number"){AG=AH[AG]}else{AG=f(AH,function(AT){return AT.field===AG})[0]}if(!AG||AG.hidden){return}AR=r(AG,AE(AH));AG.hidden=true;AG.attributes=Aa(AG.attributes);AG.footerAttributes=Aa(AG.footerAttributes);AG.headerAttributes=Aa(AG.headerAttributes);AP._templates();AP._updateCols();Ab(AP.thead.find(">tr")[0].cells,AR,false);if(AM[0]){AP._appendCols(AM.find("table:first"));Ab(AM.find(".k-footer-template")[0].cells,AR,false)}AF=AP.tbody.children();for(AI=0,AJ=AF.length;AI<AJ;AI+=1){AL=AF.eq(AI);if(AL.is(".k-grouping-row,.k-detail-row")){AS=AL.children(":not(.k-group-cell):first,.k-detail-cell").last();AS.attr("colspan",parseInt(AS.attr("colspan"),10)-1)}else{if(AL.hasClass("k-grid-edit-row")&&(AS=AL.children(".k-edit-container")[0])){AS=C(AS);AS.attr("colspan",parseInt(AS.attr("colspan"),10)-1);AS.find("col").eq(AR).remove();AL=AS.find("tr:first")}Ab(AL[0].cells,AR,false)}}AK=AP.thead.prev().find("col");for(AI=0,AJ=AK.length;AI<AJ;AI+=1){AN=AK[AI].style.width;if(AN&&AN.indexOf("%")==-1){AO+=parseInt(AN,10)}else{AO=0;break}}AQ=C(">.k-grid-header table:first,>.k-grid-footer table:first",AP.wrapper).add(AP.table);AP._footerWidth=null;if(AO){AQ.width(AO);AP._footerWidth=AO}if(AA.msie&&AA.version==8){AQ.css("display","inline-table");setTimeout(function(){AQ.css("display","table")},1)}AP.trigger(AD,{column:AG})},showColumn:function(AG){var AP=this,AF,AI,AJ,AL,AS,AQ,AO,AN,AK,AH=AP.columns,AM=AP.footer||AP.wrapper.find(".k-grid-footer"),AR;if(typeof AG=="number"){AG=AH[AG]}else{AG=f(AH,function(AT){return AT.field===AG})[0]}if(!AG||!AG.hidden){return}AR=r(AG,AH);AG.hidden=false;AG.attributes=Au(AG.attributes);AG.footerAttributes=Au(AG.footerAttributes);AG.headerAttributes=Au(AG.headerAttributes);AP._templates();AP._updateCols();Ab(AP.thead.find(">tr")[0].cells,AR,true);if(AM[0]){AP._appendCols(AM.find("table:first"));Ab(AM.find(".k-footer-template")[0].cells,AR,true)}AF=AP.tbody.children();for(AI=0,AJ=AF.length;AI<AJ;AI+=1){AL=AF.eq(AI);if(AL.is(".k-grouping-row,.k-detail-row")){AS=AL.children(":not(.k-group-cell):first,.k-detail-cell").last();AS.attr("colspan",parseInt(AS.attr("colspan"),10)+1)}else{if(AL.hasClass("k-grid-edit-row")&&(AS=AL.children(".k-edit-container")[0])){AS=C(AS);AS.attr("colspan",parseInt(AS.attr("colspan"),10)+1);Aq(AS.find(">form>table"),AE(AH),false,0);AL=AS.find("tr:first")}Ab(AL[0].cells,AR,true)}}AQ=C(">.k-grid-header table:first,>.k-grid-footer table:first",AP.wrapper).add(AP.table);if(!AG.width){AQ.width("")}else{AO=0;AK=AP.thead.prev().find("col");for(AI=0,AJ=AK.length;AI<AJ;AI+=1){AN=AK[AI].style.width;if(AN.indexOf("%")>-1){AO=0;break}AO+=parseInt(AN,10)}AP._footerWidth=null;if(AO){AQ.width(AO);AP._footerWidth=AO}}AP.trigger(l,{column:AG})},_progress:function(AG){var AF=this,AH=AF.element.is("table")?AF.element.parent():(AF.content&&AF.content.length?AF.content:AF.element);An.ui.progress(AH,AG)},refresh:function(AF){var AL=this,AK,AJ,AR="",AI=AL.dataSource.view(),AP=AL.options.navigatable,AQ,AO,AH,AS=C(AL.current()),AM=false,AG=(AL.dataSource.group()||[]).length,AT=AG+AE(AL.columns).length,AN;if(AF&&AF.action==="itemchange"&&AL.editable){return}AF=AF||{};if(AL.trigger("dataBinding",{action:AF.action||"rebind",index:AF.index,items:AF.items})){return}AN=c();if(AP&&(AL.table[0]===AN||C.contains(AL.table[0],AN)||(AL._editContainer&&AL._editContainer.data("kendoWindow")))){AM=AS.is("th");AH=0;if(AM){AH=AL.thead.find("th:not(.k-group-cell)").index(AS)}}AL._destroyEditable();AL._progress(false);AL._hideResizeHandle();AL._data=[];if(!AL.columns.length){AL._autoColumns(AL._firstDataItem(AI[0],AG));AT=AG+AL.columns.length}AL._group=AG>0||AL._group;if(AL._group){AL._templates();AL._updateCols();AL._updateHeader(AG);AL._group=AG>0}if(AG>0){if(AL.detailTemplate){AT++}if(AL.groupFooterTemplate){AL._groupAggregatesDefaultObject=Z(AL.dataSource.aggregate())}for(AJ=0,AK=AI.length;AJ<AK;AJ++){AR+=AL._groupRowHtml(AI[AJ],AT,0)}}else{AR+=AL._rowsHtml(AI)}if(I){AL.tbody[0].innerHTML=AR}else{AO=document.createElement("div");AO.innerHTML="<table><tbody>"+AR+"</tbody></table>";AQ=AO.firstChild.firstChild;AL.table[0].replaceChild(AQ,AL.tbody[0]);AL.tbody=C(AQ)}AL._footer();AL._setContentHeight();AL._setContentWidth();if(AH>=0){AL._removeCurrent();if(!AM){AL.current(AL.items().eq(AH).children().filter(y).first())}else{AL.current(AL.thead.find("th:not(.k-group-cell)").eq(AH))}if(AL._current){O(AL._current.closest("table")[0],true)}}AL.trigger(E)}});function T(AI,AH){var AJ,AG,AF;if(typeof AI===Ax&&AI===AH){return AI}if(Ak(AI)&&AI.name===AH){return AI}if(d(AI)){for(AJ=0,AG=AI.length;AJ<AG;AJ++){AF=AI[AJ];if((typeof AF===Ax&&AF===AH)||(AF.name===AH)){return AF}}}return null}function O(AJ,AG){var AH=AA.msie;if(AG===true){AJ=C(AJ);var AK=AH&&AJ.parent().is(".k-grid-content,.k-grid-header-wrap"),AI,AL;if(AK){AI=AJ.parent().scrollTop();AL=AJ.parent().scrollLeft()}if(AH){try{AJ[0].setActive()}catch(AF){AJ[0].focus()}}else{AJ[0].focus()}if(AK){AJ.parent().scrollTop(AI);AJ.parent().scrollLeft(AL)}}else{C(AJ).one("focusin",function(AM){AM.preventDefault()}).focus()}}function H(AF){var AI=C(AF.currentTarget),AG=AI.is("th"),AH=AI.closest("table")[0];if(An.support.touch){return}if(AH!==this.table[0]&&AH!==this.thead.parent()[0]){return}this.current(AI);if(AG||!C(AF.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap")){setTimeout(function(){if(!(B&&C(An._activeElement()).hasClass("k-widget"))){O(AH,true)}})}if(AG){AF.preventDefault()}}s.plugin(x);s.plugin(P)})(window.kendo.jQuery);kendo_module({id:"listview",name:"ListView",category:"web",description:"The ListView widget offers rich support for interacting with data.",depends:["data"],features:[{id:"listview-editing",name:"Editing",description:"Support for record editing",depends:["editable"]},{id:"listview-selection",name:"Selection",description:"Support for selection",depends:["selectable"]}]});(function(U,T){var K=window.kendo,B="change",J="cancel",Y="dataBound",L="dataBinding",R=K.ui.Widget,P=K.keys,H=">*",O="progress",A="error",Q="k-state-focused",D="k-state-selected",G="k-edit-item",X="string",S="edit",Z="remove",V="save",W="click",N=".kendoListView",E=U.proxy,M=K._activeElement,I=K.ui.progress,F=K.data.DataSource;var C=R.extend({init:function(c,b){var a=this;b=U.isArray(b)?{dataSource:b}:b;R.fn.init.call(a,c,b);b=a.options;a.wrapper=c=a.element;if(c[0].id){a._itemId=c[0].id+"_lv_active"}a._element();a._dataSource();a._templates();a._navigatable();a._selectable();a._pageable();a._crudHandlers();if(a.options.autoBind){a.dataSource.fetch()}K.notify(a)},events:[B,J,L,Y,S,Z,V],options:{name:"ListView",autoBind:true,selectable:false,navigatable:false,template:"",altTemplate:"",editTemplate:""},setOptions:function(a){R.fn.setOptions.call(this,a);this._templates()},_templates:function(){var a=this.options;this.template=K.template(a.template||"");this.altTemplate=K.template(a.altTemplate||a.template);this.editTemplate=K.template(a.editTemplate||"")},_item:function(a){return this.element.children()[a]()},items:function(){return this.element.children()},setDataSource:function(a){this.options.dataSource=a;this._dataSource();if(this.options.autoBind){a.fetch()}},_unbindDataSource:function(){var a=this;a.dataSource.unbind(B,a._refreshHandler).unbind(O,a._progressHandler).unbind(A,a._errorHandler)},_dataSource:function(){var a=this;if(a.dataSource&&a._refreshHandler){a._unbindDataSource()}else{a._refreshHandler=E(a.refresh,a);a._progressHandler=E(a._progress,a);a._errorHandler=E(a._error,a)}a.dataSource=F.create(a.options.dataSource).bind(B,a._refreshHandler).bind(O,a._progressHandler).bind(A,a._errorHandler)},_progress:function(){I(this.element,true)},_error:function(){I(this.element,false)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(c){var h=this,a=h.dataSource.view(),d,k,m,l="",f,g,b=h.template,j=h.altTemplate,i=M();c=c||{};if(c.action==="itemchange"){if(!h._hasBindingTarget()&&!h.editable){d=c.items[0];m=h.items().filter("["+K.attr("uid")+"="+d.uid+"]");if(m.length>0){f=m.index();m.replaceWith(b(d));m=h.items().eq(f);m.attr(K.attr("uid"),d.uid);h.trigger("itemChange",{item:m,data:d})}}return}if(h.trigger(L,{action:c.action||"rebind",items:c.items,index:c.index})){return}h._destroyEditable();for(f=0,g=a.length;f<g;f++){if(f%2){l+=j(a[f])}else{l+=b(a[f])}}h.element.html(l);k=h.items();for(f=0,g=a.length;f<g;f++){k.eq(f).attr(K.attr("uid"),a[f].uid).attr("role","option").attr("aria-selected","false")}if(h.element[0]===i&&h.options.navigatable){h.current(k.eq(0))}h.trigger(Y)},_pageable:function(){var a=this,b=a.options.pageable,c,d;if(U.isPlainObject(b)){d=b.pagerId;c=U.extend({},b,{dataSource:a.dataSource,pagerId:null});a.pager=new K.ui.Pager(U("#"+d),c)}},_selectable:function(){var b=this,e,d,c=b.options.selectable,a=b.options.navigatable;if(c){e=typeof c===X&&c.toLowerCase().indexOf("multiple")>-1;if(e){b.element.attr("aria-multiselectable",true)}b.selectable=new K.ui.Selectable(b.element,{aria:true,multiple:e,filter:H,change:function(){b.trigger(B)}});if(a){b.element.on("keydown"+N,function(f){if(f.keyCode===P.SPACEBAR){d=b.current();if(f.target==f.currentTarget){f.preventDefault()}if(e){if(!f.ctrlKey){b.selectable.clear()}else{if(d&&d.hasClass(D)){d.removeClass(D);return}}}else{b.selectable.clear()}b.selectable.value(d)}})}}},current:function(a){var b=this,d=b.element,c=b._current,e=b._itemId;if(a===T){return c}if(c&&c[0]){if(c[0].id===e){c.removeAttr("id")}c.removeClass(Q);d.removeAttr("aria-activedescendant")}if(a&&a[0]){e=a[0].id||e;b._scrollTo(a[0]);d.attr("aria-activedescendant",e);a.addClass(Q).attr("id",e)}b._current=a},_scrollTo:function(e){var b=this,c,a=false,d="scroll";if(b.wrapper.css("overflow")=="auto"||b.wrapper.css("overflow")==d){c=b.wrapper[0]}else{c=window;a=true}var f=function(k,h){var j=a?U(e).offset()[k.toLowerCase()]:e["offset"+k],g=e["client"+h],l=U(c)[d+k](),i=U(c)[h.toLowerCase()]();if(j+g>l+i){U(c)[d+k](j+g-i)}else{if(j<l){U(c)[d+k](j)}}};f("Top","Height");f("Left","Width")},_navigatable:function(){var a=this,b=a.options.navigatable,c=a.element,d=function(f){a.current(U(f.currentTarget));if(!U(f.target).is(":button,a,:input,a>.k-icon,textarea")){c.focus()}};if(b){a._tabindex();c.on("focus"+N,function(){var e=a._current;if(!e||!e.is(":visible")){e=a._item("first")}a.current(e)}).on("focusout"+N,function(){if(a._current){a._current.removeClass(Q)}}).on("keydown"+N,function(f){var p=f.keyCode,h=a.current(),o=U(f.target),g=!o.is(":button,textarea,a,a>.t-icon,input"),k=o.is(":text"),m=K.preventDefault,i=c.find("."+G),n=M(),j;if((!g&&!k&&P.ESC!=p)||(k&&P.ESC!=p&&P.ENTER!=p)){return}if(P.UP===p||P.LEFT===p){if(h){h=h.prev()}a.current(!h||!h[0]?a._item("last"):h);m(f)}else{if(P.DOWN===p||P.RIGHT===p){if(h){h=h.next()}a.current(!h||!h[0]?a._item("first"):h);m(f)}else{if(P.PAGEUP===p){a.current(null);a.dataSource.page(a.dataSource.page()-1);m(f)}else{if(P.PAGEDOWN===p){a.current(null);a.dataSource.page(a.dataSource.page()+1);m(f)}else{if(P.HOME===p){a.current(a._item("first"));m(f)}else{if(P.END===p){a.current(a._item("last"));m(f)}else{if(P.ENTER===p){if(i.length!==0&&(g||k)){j=a.items().index(i);if(n){n.blur()}a.save();var l=function(){a.element.trigger("focus");a.current(a.items().eq(j))};a.one("dataBound",l)}else{if(a.options.editTemplate!==""){a.edit(h)}}}else{if(P.ESC===p){i=c.find("."+G);if(i.length===0){return}j=a.items().index(i);a.cancel();a.element.trigger("focus");a.current(a.items().eq(j))}}}}}}}}});c.on("mousedown"+N+" touchstart"+N,H,E(d,a))}},clearSelection:function(){var a=this;a.selectable.clear();a.trigger(B)},select:function(c){var a=this,b=a.selectable;c=U(c);if(c.length){if(!b.options.multiple){b.clear();c=c.first()}b.value(c);return}return b.value()},_destroyEditable:function(){var a=this;if(a.editable){a.editable.destroy();delete a.editable}},_modelFromElement:function(b){var a=b.attr(K.attr("uid"));return this.dataSource.getByUid(a)},_closeEditable:function(b){var f=this,a=f.editable,g,e,d=f.template,c=true;if(a){if(b){c=a.end()}if(c){if(a.element.index()%2){d=f.altTemplate}g=f._modelFromElement(a.element);f._destroyEditable();e=a.element.index();a.element.replaceWith(d(g));f.items().eq(e).attr(K.attr("uid"),g.uid)}}return c},edit:function(c){var a=this,f=a._modelFromElement(c),e,b=f.uid,d;a.cancel();c=a.items().filter("["+K.attr("uid")+"="+b+"]");d=c.index();c.replaceWith(a.editTemplate(f));e=a.items().eq(d).addClass(G).attr(K.attr("uid"),f.uid);a.editable=e.kendoEditable({model:f,clearContainer:false,errorTemplate:false}).data("kendoEditable");a.trigger(S,{model:f,item:e})},save:function(){var b=this,a=b.editable,c;if(!a){return}a=a.element;c=b._modelFromElement(a);if(!b.trigger(V,{model:c,item:a})&&b._closeEditable(true)){b.dataSource.sync()}},remove:function(c){var a=this,b=a.dataSource,d=a._modelFromElement(c);if(!a.trigger(Z,{model:d,item:c})){c.hide();b.remove(d);b.sync()}},add:function(){var a=this,b=a.dataSource,c=b.indexOf((b.view()||[])[0]);if(c<0){c=0}a.cancel();b.insert(c,{});a.edit(a.element.children().first())},cancel:function(){var a=this,b=a.dataSource;if(a.editable){var c=a.editable.element;var d=a._modelFromElement(c);if(!a.trigger(J,{model:d,container:c})){b.cancelChanges(d);a._closeEditable(false)}}},_crudHandlers:function(){var a=this,b=W+N;a.element.on(b,".k-edit-button",function(c){var d=U(this).closest("["+K.attr("uid")+"]");a.edit(d);c.preventDefault()});a.element.on(b,".k-delete-button",function(c){var d=U(this).closest("["+K.attr("uid")+"]");a.remove(d);c.preventDefault()});a.element.on(b,".k-update-button",function(c){a.save();c.preventDefault()});a.element.on(b,".k-cancel-button",function(c){a.cancel();c.preventDefault()})},destroy:function(){var a=this;R.fn.destroy.call(a);a._unbindDataSource();a._destroyEditable();a.element.off(N);if(a.pager){a.pager.destroy()}if(a.selectable){a.selectable.destroy()}K.destroy(a.element)}});K.ui.plugin(C)})(window.kendo.jQuery);kendo_module({id:"imagebrowser",name:"ImageBrowser",category:"web",description:"",hidden:true,depends:["listview","dropdownlist","upload"]});(function(a,Z){var H=window.kendo,Y=H.ui.Widget,L=a.isPlainObject,f=a.proxy,O=a.extend,R=H.support.placeholder,C=H.support.browser,Q=H.isFunction,X=/(^\/|\/$)/g,M="change",U="apply",B="error",c="click",T=".kendoImageBrowser",d=".kendoBreadcrumbs",P=".kendoSearchBox",S="name",b="size",J="type",e={field:J,dir:"asc"},N=H.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),V='<div class="k-widget k-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';O(true,H.data,{schemas:{"imagebrowser":{data:function(g){return g.items||g||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}});O(true,H.data,{transports:{"imagebrowser":H.data.RemoteTransport.extend({init:function(g){H.data.RemoteTransport.fn.init.call(this,a.extend(true,{},this.options,g))},_call:function(g,h){h.data=a.extend({},h.data,{path:this.options.path()});if(Q(this.options[g])){this.options[g].call(this,h)}else{H.data.RemoteTransport.fn[g].call(this,h)}},read:function(g){this._call("read",g)},create:function(g){this._call("create",g)},destroy:function(g){this._call("destroy",g)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});function W(i,k,h){var j,g;i.on("dragenter"+T,function(){k();g=new Date();if(!j){j=setInterval(function(){var l=new Date()-g;if(l>100){h();clearInterval(j);j=null}},100)}}).on("dragover"+T,function(){g=new Date()})}var K;if(C.msie&&C.version<8){K=function(g){return g.offsetTop}}else{K=function(g){return g.offsetTop-a(g).height()}}function A(h,g){if(h===Z||!h.match(/\/$/)){h=(h||"")+"/"}return h+g}function D(h){if(!h){return""}var g=" bytes";if(h>=1073741824){g=" GB";h/=1073741824}else{if(h>=1048576){g=" MB";h/=1048576}else{if(h>=1024){g=" KB";h/=1024}}}return Math.round(h*100)/100+g}function I(i,h){var g=i[h];if(L(g)){return g.from||g.field||h}return g}var F=Y.extend({init:function(i,h){var g=this;h=h||{};Y.fn.init.call(g,i,h);g.element.addClass("k-imagebrowser k-secondary");g.element.on(c+T,".k-toolbar button:not(.k-state-disabled):has(.k-delete)",f(g._deleteClick,g)).on(c+T,".k-toolbar button:not(.k-state-disabled):has(.k-addfolder)",f(g._addClick,g)).on("keydown"+T,"li.k-state-selected input",f(g._directoryKeyDown,g)).on("blur"+T,"li.k-state-selected input",f(g._directoryBlur,g));g._dataSource();g.refresh();g.path(g.options.path)},options:{name:"ImageBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},events:[B,M,U],destroy:function(){var g=this;Y.fn.destroy.call(g);g.dataSource.unbind(B,g._errorHandler);g.element.add(g.list).add(g.toolbar).off(T);if(g.arrangeBy){g.arrangeBy.destroy()}H.destroy(g.element)},value:function(){var h=this,j=h._selectedItem(),g,i=h.options.transport.imageUrl;if(j&&j.get(J)==="f"){g=A(h.path(),j.get(S)).replace(X,"");if(i){g=Q(i)?i(g):H.format(i,encodeURIComponent(g))}return g}},_selectedItem:function(){var g=this.listView,h=g.select();if(h.length){return this.dataSource.getByUid(h.attr(H.attr("uid")))}},_toolbar:function(){var h=this,i=H.template(V),g=h.options.messages,j=[{text:g.orderByName,value:"name"},{text:g.orderBySize,value:"size"}];h.toolbar=a(i({messages:g,showUpload:h.options.transport.uploadUrl,showCreate:h.options.transport.create,showDelete:h.options.transport.destroy})).appendTo(h.element).find(".k-upload input").kendoUpload({multiple:false,localization:{dropFilesHere:g.dropFilesHere},async:{saveUrl:h.options.transport.uploadUrl,autoUpload:true},upload:f(h._fileUpload,h),error:function(k){h._error({xhr:k.XMLHttpRequest,status:"error"})}}).end();h.upload=h.toolbar.find(".k-upload input").data("kendoUpload");h.arrangeBy=h.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:j,dataTextField:"text",dataValueField:"value",change:function(){h.orderBy(this.value())}}).data("kendoDropDownList");h._attachDropzoneEvents()},_attachDropzoneEvents:function(){var g=this;if(g.options.transport.uploadUrl){W(a(document.documentElement),a.proxy(g._dropEnter,g),a.proxy(g._dropLeave,g));g._scrollHandler=f(g._positionDropzone,g)}},_dropEnter:function(){this._positionDropzone();a(document).on("scroll"+T,this._scrollHandler)},_dropLeave:function(){this._removeDropzone();a(document).off("scroll"+T,this._scrollHandler)},_positionDropzone:function(){var h=this,i=h.element,g=i.offset();h.toolbar.find(".k-dropzone").addClass("k-imagebrowser-dropzone").offset(g).css({width:i[0].clientWidth,height:i[0].clientHeight,lineHeight:i[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-imagebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var g=this,h=g.listView.select(),i=H.format(g.options.messages.deleteFile,h.find("strong").text());if(h.length&&g._showMessage(i,"confirm")){g.listView.remove(h)}},_addClick:function(){this.createDirectory()},_getFieldName:function(g){return I(this.dataSource.reader.model.fields,g)},_fileUpload:function(g){var m=this,l=m.options,h=l.fileTypes,k=new RegExp(("("+h.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),j=g.files[0].name,n=S,i=b,o;if(k.test(j)){g.data={path:m.path()};o=m._createFile(j);if(!o){g.preventDefault()}else{m.upload.one("success",function(p){o.set(n,p.response[m._getFieldName(n)]);o.set(i,p.response[m._getFieldName(i)]);m._tiles=m.listView.items().filter("["+H.attr("type")+"=f]");m._scroll()})}}else{g.preventDefault();m._showMessage(H.format(l.messages.invalidFileType,j,h))}},_findFile:function(k){var m=this.dataSource.data(),l,j,g=J,i=S,h;k=k.toLowerCase();for(l=0,h=m.length;l<h;l++){if(m[l].get(g)==="f"&&m[l].get(i).toLowerCase()===k){j=m[l];break}}return j},_createFile:function(m){var n=this,k,l,i=0,o={},h=J,g=n.dataSource.view(),j=n._findFile(m);if(j&&!n._showMessage(H.format(n.options.messages.overwriteFile,m),"confirm")){return null}if(j){return j}for(k=0,l=g.length;k<l;k++){if(g[k].get(h)==="f"){i=k;break}}o[h]="f";o[S]=m;o[b]=0;return n.dataSource.insert(++i,o)},createDirectory:function(){var l=this,j,k,m=0,h=J,n=S,g=l.dataSource.data(),i=l._nameDirectory(),o=new l.dataSource.reader.model();for(j=0,k=g.length;j<k;j++){if(g[j].get(h)==="d"){m=j}}o.set(h,"d");o.set(n,i);l.listView.one("dataBound",function(){var q=l.listView.items().filter("["+H.attr("uid")+"="+o.uid+"]"),p=q.find("input");if(q.length){this.edit(q)}this.element.scrollTop(q.attr("offsetTop")-this.element[0].offsetHeight);setTimeout(function(){p.select()})}).one("save",function(p){var q=p.model.get(n);if(!q){p.model.set(n,i)}else{p.model.set(n,l._nameExists(q,o.uid)?l._nameDirectory():q)}});l.dataSource.insert(++m,o)},_directoryKeyDown:function(g){if(g.keyCode==13){g.currentTarget.blur()}},_directoryBlur:function(){this.listView.save()},_nameExists:function(k,j){var m=this.dataSource.data(),g=J,i=S,l,h;for(l=0,h=m.length;l<h;l++){if(m[l].get(g)==="d"&&m[l].get(i).toLowerCase()===k.toLowerCase()&&m[l].uid!==j){return true}}return false},_nameDirectory:function(){var n="New folder",i=this.dataSource.data(),l=[],g=J,m=S,h,j,k;for(j=0,k=i.length;j<k;j++){if(i[j].get(g)==="d"&&i[j].get(m).toLowerCase().indexOf(n.toLowerCase())>-1){l.push(i[j].get(m))}}if(a.inArray(n,l)>-1){j=2;do{h=n+" ("+j+")";j++}while(a.inArray(h,l)>-1);n=h}return n},orderBy:function(g){this.dataSource.sort([{field:J,dir:"asc"},{field:g,dir:"asc"}])},search:function(g){this.dataSource.filter({field:S,operator:"contains",value:g})},_content:function(){var g=this;g.list=a('<ul class="k-reset k-floats k-tiles" />').appendTo(g.element).on("scroll"+T,f(g._scroll,g)).on("dblclick"+T,"li",f(g._dblClick,g));g.listView=new H.ui.ListView(g.list,{dataSource:g.dataSource,template:g._itemTmpl(),editTemplate:g._editTmpl(),selectable:true,autoBind:false,dataBinding:function(h){g.toolbar.find(".k-delete").parent().addClass("k-state-disabled");if(h.action==="remove"||h.action==="sync"){h.preventDefault()}},dataBound:function(){if(g.dataSource.view().length){g._tiles=this.items().filter("["+H.attr("type")+"=f]");g._scroll()}else{this.wrapper.append(N({text:g.options.messages.emptyFolder}))}},change:f(g._listViewChange,g)})},_dblClick:function(g){var h=this,j=a(g.currentTarget);if(j.filter("["+H.attr("type")+"=d]").length){var i=h.dataSource.getByUid(j.attr(H.attr("uid")));if(i){h.path(A(h.path(),i.get(S)));h.breadcrumbs.value(h.path())}}else{if(j.filter("["+H.attr("type")+"=f]").length){h.trigger(U)}}},_listViewChange:function(){var g=this._selectedItem();if(g){this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled");if(g.get(J)==="f"){this.trigger(M)}}},_dataSource:function(){var i=this,k=i.options,l=k.transport,h=O({},e),m={field:S,dir:"asc"},g,j={type:l.type||"imagebrowser",sort:[h,m]};if(L(l)){l.path=f(i.path,i);j.transport=l}if(L(k.schema)){j.schema=k.schema}else{if(l.type&&L(H.data.schemas[l.type])){g=H.data.schemas[l.type]}}if(i.dataSource&&i._errorHandler){i.dataSource.unbind(B,i._errorHandler)}else{i._errorHandler=f(i._error,i)}i.dataSource=H.data.DataSource.create(j).bind(B,i._errorHandler)},_navigation:function(){var g=this,h=a('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);g.breadcrumbs=h.find("input:first").kendoBreadcrumbs({value:g.options.path,change:function(){g.path(this.value())}}).data("kendoBreadcrumbs");g.searchBox=h.parent().find("input:last").kendoSearchBox({label:g.options.messages.search,change:function(){g.search(this.value())}}).data("kendoSearchBox")},_error:function(g){var h=this,i;if(!h.trigger(B,g)){i=g.xhr.status;if(g.status=="error"){if(i=="404"){h._showMessage(h.options.messages.directoryNotFound)}else{if(i!="0"){h._showMessage("Error! The requested URL returned "+i+" - "+g.xhr.statusText)}}}else{if(i=="timeout"){h._showMessage("Error! Server timeout.")}}}},_showMessage:function(h,g){return window[g||"alert"](h)},refresh:function(){var g=this;g._navigation();g._toolbar();g._content()},_loadImage:function(i){var j=this,g=a(i),n=j.dataSource.getByUid(g.attr(H.attr("uid"))),l=n.get(S),k=j.options.transport.thumbnailUrl,h=a("<img />",{alt:l}),m="?";h.hide().on("load"+T,function(){a(this).prev().remove().end().addClass("k-image").fadeIn()});g.find(".k-loading").after(h);if(Q(k)){k=k(j.path(),encodeURIComponent(l))}else{if(k.indexOf("?")>=0){m="&"}k=k+m+"path="+j.path()+encodeURIComponent(l)}h.attr("src",k);i.loaded=true},_scroll:function(){var g=this;if(g.options.transport&&g.options.transport.thumbnailUrl){clearTimeout(g._timeout);g._timeout=setTimeout(function(){var h=g.list.outerHeight(),j=g.list.scrollTop(),i=j+h;g._tiles.each(function(){var k=K(this),l=k+this.offsetHeight;if((k>=j&&k<i)||(l>=j&&l<i)){g._loadImage(this)}if(k>i){return false}});g._tiles=g._tiles.filter(function(){return !this.loaded})},250)}},_editTmpl:function(){var g='<li class="k-tile k-state-selected" '+H.attr("uid")+'="#=uid#" ';g+=H.attr("type")+'="${'+J+'}">';g+="#if("+J+' == "d") { #';g+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';g+="#}else{#";g+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>';g+="#}#";g+="#if("+J+' == "d") { #';g+='<input class="k-input" '+H.attr("bind")+'="value:'+S+'"/>';g+="#}#";g+="</li>";return f(H.template(g),{sizeFormatter:D})},_itemTmpl:function(){var h=this,g='<li class="k-tile" '+H.attr("uid")+'="#=uid#" ';g+=H.attr("type")+'="${'+J+'}">';g+="#if("+J+' == "d") { #';g+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>';g+="#}else{#";if(h.options.transport&&h.options.transport.thumbnailUrl){g+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>'}else{g+='<div class="k-thumb"><span class="k-icon k-file"></span></div>'}g+="#}#";g+="<strong>${"+S+"}</strong>";g+="#if("+J+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+b+")}</span> #}#";g+="</li>";return f(H.template(g),{sizeFormatter:D})},path:function(h){var g=this,i=g._path||"";if(h!==Z){g._path=h.replace(X,"")+"/";g.dataSource.read({path:g._path});return}if(i){i=i.replace(X,"")}return i==="/"||i===""?"":(i+"/")}});var G=Y.extend({init:function(i,h){var g=this;h=h||{};Y.fn.init.call(g,i,h);if(R){g.element.attr("placeholder",g.options.label)}g._wrapper();g.element.on("keydown"+P,f(g._keydown,g)).on("change"+P,f(g._updateValue,g));g.wrapper.on(c+P,"a",f(g._click,g));if(!R){g.element.on("focus"+P,f(g._focus,g)).on("blur"+P,f(g._blur,g))}},options:{name:"SearchBox",label:"Search",value:""},events:[M],destroy:function(){var g=this;g.wrapper.add(g.element).add(g.label).off(P);Y.fn.destroy.call(g)},_keydown:function(g){if(g.keyCode===13){this._updateValue()}},_click:function(g){g.preventDefault();this._updateValue()},_updateValue:function(){var g=this,h=g.element.val();if(h!==g.value()){g.value(h);g.trigger(M)}},_blur:function(){this._updateValue();this._toggleLabel()},_toggleLabel:function(){if(!R){this.label.toggle(!this.element.val())}},_focus:function(){this.label.hide()},_wrapper:function(){var h=this.element,g=h.parents(".k-search-wrap");h[0].style.width="";h.addClass("k-input");if(!g.length){g=h.wrap(a('<div class="k-widget k-search-wrap k-textbox"/>')).parent();if(!R){a('<label style="display:block">'+this.options.label+"</label>").insertBefore(h)}a('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(g)}this.wrapper=g;this.label=g.find(">label")},value:function(h){var g=this;if(h!==Z){g.options.value=h;g.element.val(h);g._toggleLabel();return}return g.options.value}});var E=Y.extend({init:function(i,h){var g=this;h=h||{};Y.fn.init.call(g,i,h);g._wrapper();g.wrapper.on("focus"+d,"input",f(g._focus,g)).on("blur"+d,"input",f(g._blur,g)).on("keydown"+d,"input",f(g._keydown,g)).on(c+d,"a.k-i-arrow-n:first",f(g._rootClick,g)).on(c+d,"a:not(.k-i-arrow-n)",f(g._click,g));g.value(g.options.value)},options:{name:"Breadcrumbs",gap:50},events:[M],destroy:function(){var g=this;Y.fn.destroy.call(g);g.wrapper.add(g.wrapper.find("input")).add(g.wrapper.find("a")).off(d)},_update:function(g){g=(g||"").charAt(0)==="/"?g:("/"+(g||""));if(g!==this.value()){this.value(g);this.trigger(M)}},_click:function(g){g.preventDefault();this._update(this._path(a(g.target).prevAll("a:not(.k-i-arrow-n)").addBack()))},_rootClick:function(g){g.preventDefault();this._update("")},_focus:function(){var g=this,h=g.element;g.overlay.hide();g.element.val(g.value());setTimeout(function(){h.select()})},_blur:function(){if(this.overlay.is(":visible")){return}var g=this,h=g.element,i=h.val().replace(/\/{2,}/g,"/");g.overlay.show();h.val("");g._update(i)},_keydown:function(g){var h=this;if(g.keyCode===13){h._blur();setTimeout(function(){h.overlay.find("a:first").focus()})}},_wrapper:function(){var i=this.element,g=i.parents(".k-breadcrumbs"),h;i[0].style.width="";i.addClass("k-input");if(!g.length){g=i.wrap(a('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()}h=g.find(".k-breadcrumbs-wrap");if(!h.length){h=a('<div class="k-breadcrumbs-wrap"/>').appendTo(g)}this.wrapper=g;this.overlay=h},refresh:function(){var g="",k=this.value(),i,j,l,h;if(k===Z||!k.match(/^\//)){k="/"+(k||"")}i=k.split("/");for(l=0,h=i.length;l<h;l++){j=i[l];if(j){if(!g){g+='<a href="#" class="k-icon k-i-arrow-n">root</a>'}g+='<a class="k-link" href="#">'+i[l]+"</a>";g+='<span class="k-icon k-i-arrow-e">&gt;</span>'}}this.overlay.empty().append(a(g));this._adjustSectionWidth()},_adjustSectionWidth:function(){var h=this,g=h.wrapper,i=g.width()-h.options.gap,k=h.overlay.find("a"),j;k.each(function(l){j=a(this);if(j.parent().width()>i){if(l==k.length-1){j.width(i)}else{j.prev().addBack().hide()}}})},value:function(g){if(g!==Z){this._value=g.replace(/\/{2,}/g,"/");this.refresh();return}return this._value},_path:function(g){return"/"+a.map(g,function(h){return a(h).text()}).join("/")}});H.ui.plugin(F);H.ui.plugin(E);H.ui.plugin(G)})(window.kendo.jQuery);kendo_module({id:"editor",name:"Editor",category:"web",description:"Rich text editor component",depends:["combobox","dropdownlist","window","colorpicker"],features:[{id:"editor-imagebrowser",name:"Image Browser",description:"Support for uploading and inserting images",depends:["imagebrowser"]}]});(function(R,Q){var J=window.kendo,E=J.Class,P=J.ui.Widget,D=J.support.mobileOS,C=J.support.browser,H=R.extend,M=R.proxy,N=J.deepExtend,L=".kendoEditor",I=J.keys;var T=E.extend({init:function(U){this.options=U},getHtml:function(){var U=this.options;return J.template(U.template,{useWithBlock:false})(U)}});var S={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap k-secondary" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span class="k-tool-icon #= data.cssClass #">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',formatByName:function(W,V){for(var U=0;U<V.length;U++){if(R.inArray(W,V[U].tags)>=0){return V[U]}}},registerTool:function(W,V){var U=V.options;if(U&&U.template){U.template.options.cssClass="k-"+W}if(!V.name){V.options.name=W;V.name=W.toLowerCase()}F.defaultTools[W]=V},registerFormat:function(V,U){F.fn.options.formats[V]=U}};var G={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogButtonSeparator:"or",dialogCancel:"Cancel",createTable:"Create table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"};var A=!D||(D.ios&&D.flatVersion>=500)||(!D.ios&&typeof(document.documentElement.contentEditable)!="undefined");var O={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]};var F=P.extend({init:function(U,Y){var Z=this,W,X=J.ui.editor,V,b,a=X.Dom.name(U);if(!A){return}P.fn.init.call(Z,U,Y);Z.options=N({},Z.options,Y);U=Z.element;U.closest("form").on("submit"+L,function(){Z.update()});b=H({},Z.options);b.editor=Z;if(a=="textarea"){Z._wrapTextarea();V=Z.wrapper.find(".k-editor-toolbar");if(U[0].id){V.attr("aria-controls",U[0].id)}}else{Z.element.addClass("k-widget k-editor k-editor-inline");b.popup=true;V=R('<ul class="k-editor-toolbar k-secondary" role="toolbar" />').insertBefore(U)}Z.toolbar=new X.Toolbar(V[0],b);Z.toolbar.bindTo(Z);Z._initializeContentElement(Z);Z.keyboard=new X.Keyboard([new X.TypingHandler(Z),new X.SystemHandler(Z)]);Z.clipboard=new X.Clipboard(this);Z.undoRedoStack=new X.UndoRedoStack();if(Y&&Y.value){W=Y.value}else{if(Z.textarea){W=U.val().replace(/[\r\n\v\f\t ]+/ig," ")}else{W=U[0].innerHTML}}Z.value(W);R(document).on("mousedown",M(Z._endTyping,Z)).on("mouseup",M(Z._mouseup,Z));J.notify(Z)},_endTyping:function(){var V=this.keyboard;try{if(V.isTypingInProgress()){V.endTyping(true);this.saveSelection()}}catch(U){}},_selectionChange:function(){this._selectionStarted=false;this.saveSelection();this.trigger("select",{})},_wrapTextarea:function(){var V=this,W=V.element,X=W[0].style.width,U=W[0].style.height,Z=S.editorWrapperTemplate,a=R(Z).insertBefore(W).width(X).height(U),Y=a.find(".k-editable-area");W.attr("autocomplete","off").appendTo(Y).addClass("k-content k-raw-content").css("display","none");V.textarea=W;V.wrapper=a},_createContentElement:function(W){var U=this;var b,a,Y;var Z=U.textarea;var X=document.domain;var V='javascript:""';if(X!=location.hostname){V="javascript:document.write('<script>document.domain=\""+X+"\"</script>')"}Z.hide();b=R("<iframe />",{frameBorder:"0"})[0];R(b).css("display","").addClass("k-content").insertBefore(Z);b.src=V;a=b.contentWindow||b;Y=a.document||b.contentDocument;R(b).one("load",function(){var c=U.toolbar.items().filter(".k-decorated");c.kendoSelectBox("decorate",Y)});Y.open();Y.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;background:#fff;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(J.support.isRtl(Z)?"direction:rtl;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}.k-table{width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}</style><script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');</script>"+R.map(W,function(c){return"<link rel='stylesheet' href='"+c+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>");Y.close();return a},_initializeContentElement:function(){var X=this;var Y;var V;if(X.textarea){X.window=X._createContentElement(X.options.stylesheets);Y=X.document=X.window.contentDocument||X.window.document;X.body=Y.body;V=X.window;R(Y).on("mouseup"+L,M(X._mouseup,X))}else{X.window=window;Y=X.document=document;X.body=X.element[0];V=X.body;var U=X.toolbar.items().filter(".k-decorated");U.kendoSelectBox("decorate",Y)}R(V).on("blur"+L,function(){var Z=X.textarea?X.textarea.val():X._oldValue;var a=X.options.encoded?X.encodedValue():X.value();X.update();if(a!=Z){X.trigger("change")}});try{Y.execCommand("enableInlineTableEditing",null,false)}catch(W){}if(J.support.touch){R(Y).on("selectionchange"+L,function(){X._selectionChange()})}R(X.body).on("keydown"+L,function(Z){var i;if(Z.keyCode===I.F10){setTimeout(M(X.toolbar.focus,X.toolbar),100);Z.preventDefault();return}else{if(Z.keyCode===I.BACKSPACE){i=X.getRange();var h,j=C.msie?"":'<br _moz_dirty="" />',c=J.ui.editor.Dom;i.deleteContents();h=i.commonAncestorContainer;if(c.name(h)==="p"&&h.innerHTML===""){h.innerHTML=j;i.setStart(h,0);i.collapse(true);X.selectRange(i)}}else{if(Z.keyCode==I.LEFT||Z.keyCode==I.RIGHT){i=X.getRange();var f=Z.keyCode==I.LEFT;var g=i[f?"startContainer":"endContainer"];var b=i[f?"startOffset":"endOffset"];var a=f?-1:1;if(f){b-=1}if(b+a>0&&g.nodeType==3&&g.nodeValue[b]=="\ufeff"){i.setStart(g,b+a);i.collapse(true);X.selectRange(i)}}}}var d=X.keyboard.toolFromShortcut(X.toolbar.tools,Z);if(d){Z.preventDefault();if(!/^(undo|redo)$/.test(d)){X.keyboard.endTyping(true)}X.trigger("keydown",Z);X.exec(d);return false}X.keyboard.clearTimeout();X.keyboard.keydown(Z)}).on("keyup"+L,function(Z){var a=[8,9,33,34,35,36,37,38,39,40,40,45,46];if(R.inArray(Z.keyCode,a)>-1||(Z.keyCode==65&&Z.ctrlKey&&!Z.altKey&&!Z.shiftKey)){X._selectionChange()}X.keyboard.keyup(Z)}).on("mousedown"+L,function(Z){X._selectionStarted=true;var a=R(Z.target);if(!C.gecko&&Z.which==2&&a.is("a[href]")){window.open(a.attr("href"),"_new")}}).on("click"+L,function(a){var Z=J.ui.editor.Dom,b;if(Z.name(a.target)==="img"){b=X.createRange();b.selectNode(a.target);X.selectRange(b)}}).on("cut"+L+" paste"+L,function(Z){X.clipboard["on"+Z.type](Z)}).on("focusin"+L,function(){R(this).addClass("k-state-active");X.toolbar.show()}).on("focusout"+L,function(){setTimeout(function(){var a=J._activeElement();var Z=X.body;var b=X.toolbar;if(a!=Z&&!R.contains(Z,a)&&!b.focused()){R(Z).removeClass("k-state-active");b.hide()}},10)})},_mouseup:function(){var U=this;if(U._selectionStarted){setTimeout(function(){U._selectionChange()},1)}},refresh:function(){var U=this;if(U.textarea){U.textarea.val(U.value());U.wrapper.find("iframe").remove();U._initializeContentElement(U);U.value(U.textarea.val())}},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:G,formats:{},encoded:true,stylesheets:[],dialogOptions:{modal:true,resizable:false,draggable:true,animation:false},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],O.basic,O.alignment,O.lists,O.indenting,O.links,["insertImage"],O.tables)},destroy:function(){var U=this;P.fn.destroy.call(U);R(U.window).add(U.document).add(U.body).add(U.wrapper).add(U.element.closest("form")).off(L);R(document).off("mousedown",M(U._endTyping,U)).off("mouseup",M(U._mouseup,U));U.toolbar.destroy();J.destroy(U.wrapper)},state:function(Z){var V=F.defaultTools[Z];var X=V&&(V.options.finder||V.finder);var U=J.ui.editor.RangeUtils;var Y,W;if(X){Y=this.getRange();W=U.textNodes(Y);if(!W.length&&Y.collapsed){W=[Y.startContainer]}return X.getFormat?X.getFormat(W):X.isFormatted(W)}return false},value:function(a){var b=this.body,X=J.ui.editor,U=X.Dom,Z=X.Serializer.domToXhtml(b);if(a===Q){return Z}if(a==Z){return}var V=/onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i;a=(a||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/ig,"<telerik:script $1>$2</telerik:script>").replace(/<img([^>]*)>/ig,function(c){return c.replace(V,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/ig,"$1").replace(/<p([^>]*)>(\s*)?<\/p>/ig,"<p$1>"+X.emptyElementContent+"</p>");if(C.msie&&C.version<9){a="<br/>"+a;var Y="originalsrc",W="originalhref";a=a.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,W+'="$1"');a=a.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,Y+'="$1"');b.innerHTML=a;U.remove(b.firstChild);R(b).find("telerik\\:script,script,link,img,a").each(function(){var c=this;if(c[W]){c.setAttribute("href",c[W]);c.removeAttribute(W)}if(c[Y]){c.setAttribute("src",c[Y]);c.removeAttribute(Y)}})}else{b.innerHTML=a;if(C.msie){U.normalize(b);setTimeout(function(){var d=b.getElementsByTagName("ol"),c,f,e;for(c=0;c<d.length;c++){f=d[c];e=f.getAttribute("start");f.setAttribute("start",1);if(e){f.setAttribute("start",e)}else{f.removeAttribute(e)}}},1)}}R("table",this.body).addClass("k-table");this.selectionRestorePoint=null;this.update()},saveSelection:function(W){W=W||this.getRange();var V=W.commonAncestorContainer,U=this.body;if(V==U||R.contains(U,V)){this.selectionRestorePoint=new J.ui.editor.RestorePoint(W)}},_focusBody:function(){var U=this.body;if(J._activeElement()!=U){U.focus()}},restoreSelection:function(){this._focusBody();if(this.selectionRestorePoint){this.selectRange(this.selectionRestorePoint.toRange())}},focus:function(){this.restoreSelection()},update:function(U){U=U||this.options.encoded?this.encodedValue():this.value();if(this.textarea){this.textarea.val(U)}else{this._oldValue=U}},encodedValue:function(){return J.ui.editor.Dom.encode(this.value())},createRange:function(U){return J.ui.editor.RangeUtils.createRange(U||this.document)},getSelection:function(){return J.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(V){this._focusBody();var U=this.getSelection();U.removeAllRanges();U.addRange(V);this.saveSelection(V)},getRange:function(){var U=this.getSelection(),V=U.rangeCount>0?U.getRangeAt(0):this.createRange(),W=this.document;if(V.startContainer==W&&V.endContainer==W&&!V.startOffset&&!V.endOffset){V.setStart(this.body,0);V.collapse(true)}return V},selectedHtml:function(){return J.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(U,V){this.clipboard.paste(U,V)},exec:function(W,Z){var U=this,V,X,Y=null;if(!W){throw new Error("kendoEditor.exec(): `name` parameter cannot be empty")}W=W.toLowerCase();if(!U.keyboard.isTypingInProgress()){U.restoreSelection()}X=U.toolbar.toolById(W);if(!X){for(var a in F.defaultTools){if(a.toLowerCase()==W){X=F.defaultTools[a];break}}}if(X){V=U.getRange();if(X.command){Y=X.command(H({range:V},Z))}U.trigger("execute",{name:W,command:Y});if(/^(undo|redo)$/i.test(W)){U.undoRedoStack[W]()}else{if(Y){if(!Y.managesUndoRedo){U.undoRedoStack.push(Y)}Y.editor=U;Y.exec();if(Y.async){Y.change=M(U._selectionChange,U);return}}}U._selectionChange()}}});F.defaultTools={undo:{options:{key:"Z",ctrl:true}},redo:{options:{key:"Y",ctrl:true}}};J.ui.plugin(F);var B=E.extend({init:function(U){this.options=U},initialize:function(U,V){U.attr({unselectable:"on",title:V.title})},command:function(U){return new this.options.command(U)},update:R.noop});B.exec=function(W,U,V){W.exec(U,{value:V})};var K=B.extend({init:function(U){B.fn.init.call(this,U)},command:function(U){var V=this;return new J.ui.editor.FormatCommand(H(U,{formatter:V.options.formatter}))},update:function(U,V){var W=this.options.finder.isFormatted(V);U.toggleClass("k-state-selected",W);U.attr("aria-pressed",W)}});S.registerTool("separator",new B({template:new T({template:S.separatorTemplate})}));H(J.ui,{editor:{ToolTemplate:T,EditorUtils:S,Tool:B,FormatTool:K,_bomFill:C.msie&&C.version<9?"\ufeff":"",emptyElementContent:!C.msie?'<br _moz_dirty="" />':C.version<9?"\ufeff":""}})})(window.jQuery);(function(X){var U=window.kendo,T=X.map,K=X.extend,B=U.support.browser,M="style",L="float",N="cssFloat",W="styleFloat",A="class",Y="k-marker";function O(e){var c={},b,d;for(b=0,d=e.length;b<d;b++){c[e[b]]=true}return c}var S=O("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),Q="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),R=O(Q),Z="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),J=O(Z),H=O("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(","));var a=function(b){if(b.nodeType==1){b.normalize()}};if(B.msie&&B.version>=8){a=function(c){if(c.nodeType==1&&c.firstChild){var d=c.firstChild,b=d;while(true){b=b.nextSibling;if(!b){break}if(b.nodeType==3&&d.nodeType==3){b.nodeValue=d.nodeValue+b.nodeValue;V.remove(d)}d=b}}}}var E=/^\s+$/,D=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,P=/\ufeff/g,F,C=("color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height").split(","),G=/[\u00A0-\u2666<>\&]/g,I={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"};var V={block:R,inline:J,findNodeIndex:function(c,d){var b=0;while(true){c=c.previousSibling;if(!c){break}if(!(d&&c.nodeType==3)){b++}}return b},isDataNode:function(b){return b&&b.nodeValue!==null&&b.data!==null},isAncestorOf:function(d,c){try{return !V.isDataNode(d)&&(X.contains(d,V.isDataNode(c)?c.parentNode:c)||c.parentNode==d)}catch(b){return false}},isAncestorOrSelf:function(b,c){return V.isAncestorOf(b,c)||b==c},findClosestAncestor:function(b,c){if(V.isAncestorOf(b,c)){while(c&&c.parentNode!=b){c=c.parentNode}}return c},getNodeLength:function(b){return V.isDataNode(b)?b.length:b.childNodes.length},splitDataNode:function(d,b){var f=d.cloneNode(false),c="",e=d;while(e.nextSibling&&e.nextSibling.nodeType==3&&e.nextSibling.nodeValue){c+=e.nextSibling.nodeValue;e=e.nextSibling}d.deleteData(b,d.length);f.deleteData(0,b);f.nodeValue+=c;V.insertAfter(f,d)},attrEquals:function(d,c){for(var b in c){var e=d[b];if(b==L){e=d[X.support.cssFloat?N:W]}if(typeof e=="object"){if(!V.attrEquals(e,c[b])){return false}}else{if(e!=c[b]){return false}}}return true},blockParentOrBody:function(b){return V.parentOfType(b,Q)||b.ownerDocument.body},blockParents:function(d){var b=[],c,e;for(c=0,e=d.length;c<e;c++){var f=V.parentOfType(d[c],V.blockElements);if(f&&X.inArray(f,b)<0){b.push(f)}}return b},windowFromDocument:function(b){return b.defaultView||b.parentWindow},normalize:a,blockElements:Q,inlineElements:Z,empty:S,fillAttrs:H,toHex:function(c){var b=D.exec(c);if(!b){return c}return"#"+T(b.slice(1),function(d){d=parseInt(d,10).toString(16);return d.length>1?d:"0"+d}).join("")},encode:function(b){return b.replace(G,function(e){var d=e.charCodeAt(0);var f=I[d];return f?"&"+f+";":e})},stripBom:function(b){return b.replace(P,"")},name:function(b){return b.nodeName.toLowerCase()},significantChildNodes:function(b){return X.grep(b.childNodes,function(c){return c.nodeType!=3||!V.isWhitespace(c)})},lastTextNode:function(d){var c=null;if(d.nodeType==3){return d}for(var b=d.lastChild;b;b=b.previousSibling){c=V.lastTextNode(b);if(c){return c}}return c},is:function(b,c){return V.name(b)==c},isMarker:function(b){return b.className==Y},isWhitespace:function(b){return E.test(b.nodeValue)},isBlock:function(b){return R[V.name(b)]},isEmpty:function(b){return S[V.name(b)]},isInline:function(b){return J[V.name(b)]},scrollContainer:function(d){var b=V.windowFromDocument(d),c=(b.contentWindow||b).document||b.ownerDocument||b;if(U.support.browser.webkit||c.compatMode=="BackCompat"){c=c.body}else{c=c.documentElement}return c},scrollTo:function(d){var h=X(V.isDataNode(d)?d.parentNode:d),b=V.windowFromDocument(d.ownerDocument),e=b.innerHeight,f,g,c=V.scrollContainer(d.ownerDocument);if(V.name(h[0])=="br"){h=h.parent()}f=h.offset().top;g=h[0].offsetHeight;if(g+f>c.scrollTop+e){c.scrollTop=g+f-e}},persistScrollTop:function(b){F=V.scrollContainer(b).scrollTop},restoreScrollTop:function(b){V.scrollContainer(b).scrollTop=F},insertAt:function(d,b,c){d.insertBefore(b,d.childNodes[c]||null)},insertBefore:function(b,c){if(c.parentNode){return c.parentNode.insertBefore(b,c)}else{return c}},insertAfter:function(b,c){return c.parentNode.insertBefore(b,c.nextSibling)},remove:function(b){b.parentNode.removeChild(b)},removeTextSiblings:function(c){var b=c.parentNode;while(c.nextSibling&&c.nextSibling.nodeType==3){b.removeChild(c.nextSibling)}while(c.previousSibling&&c.previousSibling.nodeType==3){b.removeChild(c.previousSibling)}},trim:function(d){for(var b=d.childNodes.length-1;b>=0;b--){var c=d.childNodes[b];if(V.isDataNode(c)){if(!V.stripBom(c.nodeValue).length){V.remove(c)}if(V.isWhitespace(c)){V.insertBefore(c,d)}}else{if(c.className!=Y){V.trim(c);if(!c.childNodes.length&&!V.isEmpty(c)){V.remove(c)}}}}return d},closest:function(c,b){while(c&&V.name(c)!=b){c=c.parentNode}return c},sibling:function(b,c){do{b=b[c]}while(b&&b.nodeType!=1);return b},next:function(b){return V.sibling(b,"nextSibling")},prev:function(b){return V.sibling(b,"previousSibling")},parentOfType:function(c,b){do{c=c.parentNode}while(c&&!(V.ofType(c,b)));return c},ofType:function(c,b){return X.inArray(V.name(c),b)>=0},changeTag:function(j,k){var g=V.create(j.ownerDocument,k),f=j.attributes,e,h,c,d,b;for(e=0,h=f.length;e<h;e++){b=f[e];if(b.specified){c=b.nodeName;d=b.nodeValue;if(c==A){g.className=d}else{if(c==M){g.style.cssText=j.style.cssText}else{g.setAttribute(c,d)}}}}while(j.firstChild){g.appendChild(j.firstChild)}V.insertBefore(g,j);V.remove(j);return g},editableParent:function(b){while(b.nodeType==3||b.contentEditable!=="true"){b=b.parentNode}return b},wrap:function(c,b){V.insertBefore(b,c);b.appendChild(c);return b},unwrap:function(b){var c=b.parentNode;while(b.firstChild){c.insertBefore(b.firstChild,b)}c.removeChild(b)},create:function(c,b,d){return V.attr(c.createElement(b),d)},attr:function(c,b){b=K({},b);if(b&&M in b){V.style(c,b.style);delete b.style}for(var d in b){if(b[d]===null){c.removeAttribute(d);delete b[d]}else{if(d=="className"){c[d]=b[d]}}}return K(c,b)},style:function(b,c){X(b).css(c||{})},unstyle:function(c,d){for(var b in d){if(b==L){b=X.support.cssFloat?N:W}c.style[b]=""}if(c.style.cssText===""){c.removeAttribute(M)}},inlineStyle:function(b,e,d){var c=X(V.create(b,e,d)),f;b.body.appendChild(c[0]);f=T(C,function(g){if(B.msie&&g=="line-height"&&c.css(g)=="1px"){return"line-height:1.5"}else{return g+":"+c.css(g)}}).join(";");c.remove();return f},removeClass:function(d,e){var b=" "+d.className+" ",g=e.split(" "),c,f;for(c=0,f=g.length;c<f;c++){b=b.replace(" "+g[c]+" "," ")}b=X.trim(b);if(b.length){d.className=b}else{d.removeAttribute(A)}},commonAncestor:function(){var b=arguments.length,c=[],k=Infinity,d=null,f,g,h,l,e;if(!b){return null}if(b==1){return arguments[0]}for(f=0;f<b;f++){g=[];h=arguments[f];while(h){g.push(h);h=h.parentNode}c.push(g.reverse());k=Math.min(k,g.length)}if(b==1){return c[0][0]}for(f=0;f<k;f++){l=c[0][f];for(e=1;e<b;e++){if(l!=c[e][f]){return d}}d=l}return d},closestSplittableParent:function(e){var d;if(e.length==1){d=V.parentOfType(e[0],["ul","ol"])}else{d=V.commonAncestor.apply(null,e)}if(!d){d=V.parentOfType(e[0],["p","td"])||e[0].ownerDocument.body}if(V.isInline(d)){d=V.blockParentOrBody(d)}var c=T(e,V.editableParent);var b=V.commonAncestor(c)[0];if(X.contains(d,b)){d=b}return d},closestEditable:function(d,b){var c=V.parentOfType(d,b);var e=V.editableParent(d);if(c&&e&&X.contains(c,e)){c=e}else{if(!c&&e){c=e}}return c},closestEditableOfType:function(d,b){var c=V.closestEditable(d,b);if(c&&V.ofType(c,b)){return c}}};U.ui.editor.Dom=V})(window.kendo.jQuery);(function(L,A){var C=window.kendo;var B=C.ui.editor;var D=B.Dom;var F=L.extend;var G="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");var M=/"/g;var J=/<br[^>]*>/i;var H=/^\d+(\.\d*)?(px)?$/i;var N=/<p><\/p>/i;var K=/([\w|\-]+)\s*:\s*([^;]+);?/i;var I=/^sizzle-\d+/i;var E={domToXhtml:function(R){var O=[];var S={"telerik:script":{start:function(W){O.push("<script");Q(W);O.push(">")},end:function(){O.push("</script>")}},b:{start:function(){O.push("<strong>")},end:function(){O.push("</strong>")}},i:{start:function(){O.push("<em>")},end:function(){O.push("</em>")}},u:{start:function(){O.push('<span style="text-decoration:underline;">')},end:function(){O.push("</span>")}},iframe:{start:function(W){O.push("<iframe");Q(W);O.push(">")},end:function(){O.push("</iframe>")}},font:{start:function(Y){O.push('<span style="');var Z=Y.getAttribute("color");var W=G[Y.getAttribute("size")];var X=Y.getAttribute("face");if(Z){O.push("color:");O.push(D.toHex(Z));O.push(";")}if(X){O.push("font-face:");O.push(X);O.push(";")}if(W){O.push("font-size:");O.push(W);O.push(";")}O.push('">')},end:function(){O.push("</span>")}}};function V(d){var X=L.trim;var Z=X(d).split(";");var c,a=Z.length;var Y;var W,b;for(c=0,a=Z.length;c<a;c++){if(!Z[c].length){continue}Y=K.exec(Z[c]);if(!Y){continue}W=X(Y[1].toLowerCase());b=X(Y[2]);if(W=="font-size-adjust"||W=="font-stretch"){continue}if(W.indexOf("color")>=0){b=D.toHex(b)}else{if(W.indexOf("font")>=0){b=b.replace(M,"'")}else{if(/\burl\(/g.test(b)){b=b.replace(M,"")}}}O.push(W);O.push(":");O.push(b);O.push(";")}}function Q(c){var h=[];var b=c.attributes;var W,a,d;var X,Z,Y;if(D.is(c,"img")){var e=c.style.width,f=c.style.height,g=L(c);if(e&&H.test(e)){g.attr("width",parseInt(e,10));D.unstyle(c,{width:A})}if(f&&H.test(f)){g.attr("height",parseInt(f,10));D.unstyle(c,{height:A})}}for(a=0,d=b.length;a<d;a++){W=b[a];X=W.nodeName;Z=W.nodeValue;Y=W.specified;if(X=="value"&&"value" in c&&c.value){Y=true}else{if(X=="type"&&Z=="text"){Y=true}else{if(X=="class"&&!Z){Y=false}else{if(I.test(X)){Y=false}else{if(X=="complete"){Y=false}else{if(X=="altHtml"){Y=false}else{if(X.indexOf("_moz")>=0){Y=false}}}}}}}if(Y){h.push(W)}}if(!h.length){return}h.sort(function(j,i){return j.nodeName>i.nodeName?1:j.nodeName<i.nodeName?-1:0});for(a=0,d=h.length;a<d;a++){W=h[a];X=W.nodeName;Z=W.nodeValue;if(X.toLowerCase()=="contenteditable"&&(D.is(c,"table")||D.is(c,"td"))){continue}if(X=="class"&&Z=="k-table"){continue}O.push(" ");O.push(X);O.push('="');if(X=="style"){V(Z||c.style.cssText)}else{if(X=="src"||X=="href"){O.push(c.getAttribute(X,2))}else{O.push(D.fillAttrs[X]?X:Z)}}O.push('"')}}function P(X,W){for(var Y=X.firstChild;Y;Y=Y.nextSibling){U(Y,W)}}function T(W){return W.nodeValue.replace(/\ufeff/g,"")}function U(Z,X){var a=Z.nodeType,c,W,b,Y,d;if(a==1){c=D.name(Z);if(!c||((Z.attributes._moz_dirty||Z.attributes._moz_editor_bogus_node)&&D.is(Z,"br"))||Z.className=="k-marker"){return}if(D.isInline(Z)&&Z.childNodes.length==1&&Z.firstChild.nodeType==3&&!T(Z.firstChild)){return}W=S[c];if(W){W.start(Z);P(Z);W.end(Z);return}O.push("<");O.push(c);Q(Z);if(D.empty[c]){O.push(" />")}else{O.push(">");P(Z,X||D.is(Z,"pre"));O.push("</");O.push(c);O.push(">")}}else{if(a==3){Y=T(Z);if(!X&&L.support.leadingWhitespace){b=Z.parentNode;d=Z.previousSibling;if(!d){d=(D.isInline(b)?b:Z).previousSibling}if(!d||d.innerHTML===""||D.isBlock(d)){Y=Y.replace(/^[\r\n\v\f\t ]+/,"")}Y=Y.replace(/ +/," ")}O.push(D.encode(Y))}else{if(a==4){O.push("<![CDATA[");O.push(Z.data);O.push("]]>")}else{if(a==8){if(Z.data.indexOf("[CDATA[")<0){O.push("<!--");O.push(Z.data);O.push("-->")}else{O.push("<!");O.push(Z.data);O.push(">")}}}}}}if(R.childNodes.length==1&&R.firstChild.nodeType==3){return D.encode(T(R.firstChild).replace(/[\r\n\v\f\t ]+/," "))}P(R);O=O.join("");if(O.replace(J,"").replace(N,"")===""){return""}return O}};F(B,{Serializer:E})})(window.kendo.jQuery);(function(P){var V=window.kendo,I=V.Class,L=P.extend,F=V.ui.editor,C=V.support.browser,K=F.Dom,O=K.findNodeIndex,U=K.isDataNode,Z=K.findClosestAncestor,S=K.getNodeLength,W=K.normalize;var A={selectionFromWindow:function(b){if(!("getSelection" in b)){return new Y(b.document)}return b.getSelection()},selectionFromRange:function(c){var b=T.documentFromRange(c);return A.selectionFromDocument(b)},selectionFromDocument:function(b){return A.selectionFromWindow(K.windowFromDocument(b))}};var B=I.extend({init:function(b){P.extend(this,{ownerDocument:b,startContainer:b,endContainer:b,commonAncestorContainer:b,startOffset:0,endOffset:0,collapsed:true})},setStart:function(c,b){this.startContainer=c;this.startOffset=b;D(this);N(this,true)},setEnd:function(c,b){this.endContainer=c;this.endOffset=b;D(this);N(this,false)},setStartBefore:function(b){this.setStart(b.parentNode,O(b))},setStartAfter:function(b){this.setStart(b.parentNode,O(b)+1)},setEndBefore:function(b){this.setEnd(b.parentNode,O(b))},setEndAfter:function(b){this.setEnd(b.parentNode,O(b)+1)},selectNode:function(b){this.setStartBefore(b);this.setEndAfter(b)},selectNodeContents:function(b){this.setStart(b,0);this.setEnd(b,b[b.nodeType===1?"childNodes":"nodeValue"].length)},collapse:function(c){var b=this;if(c){b.setEnd(b.startContainer,b.startOffset)}else{b.setStart(b.endContainer,b.endOffset)}},deleteContents:function(){var c=this,d=c.cloneRange();if(c.startContainer!=c.commonAncestorContainer){c.setStartAfter(Z(c.commonAncestorContainer,c.startContainer))}c.collapse(true);(function b(e){while(e.next()){if(e.hasPartialSubtree()){b(e.getSubtreeIterator())}else{e.remove()}}})(new X(d))},cloneContents:function(){var b=T.documentFromRange(this);return(function c(d){var e,f=b.createDocumentFragment();while(e=d.next()){e=e.cloneNode(!d.hasPartialSubtree());if(d.hasPartialSubtree()){e.appendChild(c(d.getSubtreeIterator()))}f.appendChild(e)}return f})(new X(this))},extractContents:function(){var d=this,e=d.cloneRange();if(d.startContainer!=d.commonAncestorContainer){d.setStartAfter(Z(d.commonAncestorContainer,d.startContainer))}d.collapse(true);var c=T.documentFromRange(d);return(function b(f){var g,h=c.createDocumentFragment();while(g=f.next()){if(f.hasPartialSubtree()){g=g.cloneNode(false);g.appendChild(b(f.getSubtreeIterator()))}else{f.remove(d.originalRange)}h.appendChild(g)}return h})(new X(e))},insertNode:function(c){var b=this;if(U(b.startContainer)){if(b.startOffset!=b.startContainer.nodeValue.length){K.splitDataNode(b.startContainer,b.startOffset)}K.insertAfter(c,b.startContainer)}else{K.insertAt(b.startContainer,c,b.startOffset)}b.setStart(b.startContainer,b.startOffset)},cloneRange:function(){return P.extend(new B(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var b=this.startContainer.nodeName,c=this.endContainer.nodeName;return[b=="#text"?this.startContainer.nodeValue:b,"(",this.startOffset,") : ",c=="#text"?this.endContainer.nodeValue:c,"(",this.endOffset,")"].join("")}});function J(b,d,i,h){if(b==d){return h-i}var g=d;while(g&&g.parentNode!=b){g=g.parentNode}if(g){return O(g)-i}g=b;while(g&&g.parentNode!=d){g=g.parentNode}if(g){return h-O(g)-1}var e=K.commonAncestor(b,d);var c=b;while(c&&c.parentNode!=e){c=c.parentNode}if(!c){c=e}var f=d;while(f&&f.parentNode!=e){f=f.parentNode}if(!f){f=e}if(c==f){return 0}return O(f)-O(c)}function N(d,b){function c(f){try{return J(f.startContainer,f.endContainer,f.startOffset,f.endOffset)<0}catch(e){return true}}if(c(d)){if(b){d.commonAncestorContainer=d.endContainer=d.startContainer;d.endOffset=d.startOffset}else{d.commonAncestorContainer=d.startContainer=d.endContainer;d.startOffset=d.endOffset}d.collapsed=true}}function D(c){c.collapsed=c.startContainer==c.endContainer&&c.startOffset==c.endOffset;var b=c.startContainer;while(b&&b!=c.endContainer&&!K.isAncestorOf(b,c.endContainer)){b=b.parentNode}c.commonAncestorContainer=b}var X=I.extend({init:function(c){P.extend(this,{range:c,_current:null,_next:null,_end:null});if(c.collapsed){return}var b=c.commonAncestorContainer;this._next=c.startContainer==b&&!U(c.startContainer)?c.startContainer.childNodes[c.startOffset]:Z(b,c.startContainer);this._end=c.endContainer==b&&!U(c.endContainer)?c.endContainer.childNodes[c.endOffset]:Z(b,c.endContainer).nextSibling},hasNext:function(){return !!this._next},next:function(){var b=this,c=b._current=b._next;b._next=b._current&&b._current.nextSibling!=b._end?b._current.nextSibling:null;if(U(b._current)){if(b.range.endContainer==b._current){c=c.cloneNode(true);c.deleteData(b.range.endOffset,c.length-b.range.endOffset)}if(b.range.startContainer==b._current){c=c.cloneNode(true);c.deleteData(0,b.range.startOffset)}}return c},traverse:function(b){var c=this,e;function d(){c._current=c._next;c._next=c._current&&c._current.nextSibling!=c._end?c._current.nextSibling:null;return c._current}while(e=d()){if(c.hasPartialSubtree()){c.getSubtreeIterator().traverse(b)}else{b(e)}}return e},remove:function(g){var f=this,d=f.range.startContainer==f._current,e=f.range.endContainer==f._current,b,c,h;if(U(f._current)&&(d||e)){b=d?f.range.startOffset:0;c=e?f.range.endOffset:f._current.length;h=c-b;if(g&&(d||e)){if(f._current==g.startContainer&&b<=g.startOffset){g.startOffset-=h}if(f._current==g.endContainer&&c<=g.endOffset){g.endOffset-=h}}f._current.deleteData(b,h)}else{var j=f._current.parentNode;if(g&&(f.range.startContainer==j||f.range.endContainer==j)){var i=O(f._current);if(j==g.startContainer&&i<=g.startOffset){g.startOffset-=1}if(j==g.endContainer&&i<g.endOffset){g.endOffset-=1}}K.remove(f._current)}},hasPartialSubtree:function(){return !U(this._current)&&(K.isAncestorOrSelf(this._current,this.range.startContainer)||K.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var c=this,b=c.range.cloneRange();b.selectNodeContents(c._current);if(K.isAncestorOrSelf(c._current,c.range.startContainer)){b.setStart(c.range.startContainer,c.range.startOffset)}if(K.isAncestorOrSelf(c._current,c.range.endContainer)){b.setEnd(c.range.endContainer,c.range.endOffset)}return new X(b)}});var Y=I.extend({init:function(b){this.ownerDocument=b;this.rangeCount=1},addRange:function(c){var b=this.ownerDocument.body.createTextRange();H(b,c,false);H(b,c,true);b.select()},removeAllRanges:function(){this.ownerDocument.selection.empty()},getRangeAt:function(){var f,j=new B(this.ownerDocument),h=this.ownerDocument.selection,b,e;try{f=h.createRange();b=f.item?f.item(0):f.parentElement();if(b.ownerDocument!=this.ownerDocument){return j}}catch(i){return j}if(h.type=="Control"){j.selectNode(f.item(0))}else{e=a(f);M(f,j,e,true);M(f,j,e,false);if(j.startContainer.nodeType==9){j.setStart(j.endContainer,j.startOffset)}if(j.endContainer.nodeType==9){j.setEnd(j.startContainer,j.endOffset)}if(f.compareEndPoints("StartToEnd",f)===0){j.collapse(false)}var d=j.startContainer,l=j.endContainer,k=this.ownerDocument.body;if(!j.collapsed&&j.startOffset===0&&j.endOffset==S(j.endContainer)&&!(d==l&&U(d)&&d.parentNode==k)){var g=false,c=false;while(O(d)===0&&d==d.parentNode.firstChild&&d!=k){d=d.parentNode;g=true}while(O(l)==S(l.parentNode)-1&&l==l.parentNode.lastChild&&l!=k){l=l.parentNode;c=true}if(d==k&&l==k&&g&&c){j.setStart(d,0);j.setEnd(l,S(k))}}}return j}});function a(d){var c=d.duplicate(),b=d.duplicate();c.collapse(true);b.collapse(false);return K.commonAncestor(d.parentElement(),c.parentElement(),b.parentElement())}function H(h,m,d){var l=m[d?"startContainer":"endContainer"],e=m[d?"startOffset":"endOffset"],i=0,j=U(l),b=j?l:l.childNodes[e]||null,g=j?l.parentNode:l,k=m.ownerDocument,f=k.body.createTextRange(),c;if(l.nodeType==3||l.nodeType==4){i=e}if(!g){g=k.body}if(g.nodeName.toLowerCase()=="img"){f.moveToElementText(g);f.collapse(false);h.setEndPoint(d?"StartToStart":"EndToStart",f)}else{c=g.insertBefore(K.create(k,"a"),b);f.moveToElementText(c);K.remove(c);f[d?"moveStart":"moveEnd"]("character",i);f.collapse(false);h.setEndPoint(d?"StartToStart":"EndToStart",f)}}function M(h,l,g,d){var b=K.create(l.ownerDocument,"a"),f=h.duplicate(),i=d?"StartToStart":"StartToEnd",c,m,k,j,n,o,e;b.innerHTML="\ufeff";f.collapse(d);m=f.parentElement();if(!K.isAncestorOrSelf(g,m)){m=g}do{m.insertBefore(b,b.previousSibling);f.moveToElementText(b)}while((c=f.compareEndPoints(i,h))>0&&b.previousSibling);k=b.nextSibling;if(c==-1&&U(k)){f.setEndPoint(d?"EndToStart":"EndToEnd",h);K.remove(b);o=[k,f.text.length]}else{j=!d&&b.previousSibling;n=d&&b.nextSibling;if(U(n)){o=[n,0]}else{if(U(j)){o=[j,j.length]}else{e=O(b);if(m.nextSibling&&e==m.childNodes.length-1){o=[m.nextSibling,0]}else{o=[m,e]}}}K.remove(b)}l[d?"setStart":"setEnd"].apply(l,o)}var Q=I.extend({init:function(b){this.enumerate=function(){var c=[];function d(e){if(K.is(e,"img")||(e.nodeType==3&&(!K.isWhitespace(e)||e.nodeValue=="\ufeff"))){c.push(e)}else{e=e.firstChild;while(e){d(e);e=e.nextSibling}}}new X(b).traverse(d);return c}}});var G=I.extend({init:function(c){var b=this;b.range=c;b.rootNode=T.documentFromRange(c);b.body=b.getEditable(c);if(K.name(b.body)!="body"){b.rootNode=b.body}b.html=b.body.innerHTML;b.startContainer=b.nodeToPath(c.startContainer);b.endContainer=b.nodeToPath(c.endContainer);b.startOffset=b.offset(c.startContainer,c.startOffset);b.endOffset=b.offset(c.endContainer,c.endOffset)},index:function(d){var c=0,e=d.nodeType;while(d=d.previousSibling){var b=d.nodeType;if(b!=3||e!=b){c++}e=b}return c},getEditable:function(c){var b=c.commonAncestorContainer;while(b&&(b.nodeType==3||b.attributes&&!b.attributes.contentEditable)){b=b.parentNode}return b},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(b,c){if(b.nodeType==3){while((b=b.previousSibling)&&b.nodeType==3){c+=b.nodeValue.length}}return c},nodeToPath:function(b){var c=[];while(b!=this.rootNode){c.push(this.index(b));b=b.parentNode}return c},toRangePoint:function(g,h,d,b){var e=this.rootNode,c=d.length,f=b;while(c--){e=e.childNodes[d[c]]}while(e.nodeType==3&&e.nodeValue.length<f){f-=e.nodeValue.length;e=e.nextSibling}g[h?"setStart":"setEnd"](e,f)},toRange:function(){var b=this,c=b.range.cloneRange();b.toRangePoint(c,true,b.startContainer,b.startOffset);b.toRangePoint(c,false,b.endContainer,b.endOffset);return c}});var E=I.extend({init:function(){this.caret=null},addCaret:function(c){var b=this;b.caret=K.create(T.documentFromRange(c),"span",{className:"k-marker"});c.insertNode(b.caret);c.selectNode(b.caret);return b.caret},removeCaret:function(g){var d=this,h=d.caret.previousSibling,i=0;if(h){i=U(h)?h.nodeValue.length:O(h)}var f=d.caret.parentNode;var b=h?O(h):0;K.remove(d.caret);W(f);var e=f.childNodes[b];if(U(e)){g.setStart(e,i)}else{if(e){var c=K.lastTextNode(e);if(c){g.setStart(c,c.nodeValue.length)}else{g[h?"setStartAfter":"setStartBefore"](e)}}else{if(!C.msie&&!f.innerHTML){f.innerHTML='<br _moz_dirty="" />'}g.selectNodeContents(f)}}g.collapse(true)},add:function(g,e){var d=this;var b=g.collapsed&&!T.isExpandable(g);var h=T.documentFromRange(g);if(e&&g.collapsed){d.addCaret(g);g=T.expand(g)}var c=g.cloneRange();c.collapse(false);d.end=K.create(h,"span",{className:"k-marker"});c.insertNode(d.end);c=g.cloneRange();c.collapse(true);d.start=d.end.cloneNode(true);c.insertNode(d.start);d._removeDeadMarkers(d.start,d.end);if(b){var f=h.createTextNode("\ufeff");K.insertAfter(f.cloneNode(),d.start);K.insertBefore(f,d.end)}g.setStartBefore(d.start);g.setEndAfter(d.end);W(g.commonAncestorContainer);return g},_removeDeadMarkers:function(c,b){if(c.previousSibling&&c.previousSibling.nodeValue=="\ufeff"){K.remove(c.previousSibling)}if(b.nextSibling&&b.nextSibling.nodeValue=="\ufeff"){K.remove(b.nextSibling)}},remove:function(m){var n=this,q=n.start,i=n.end,d,o,l;W(m.commonAncestorContainer);while(!q.nextSibling&&q.parentNode){q=q.parentNode}while(!i.previousSibling&&i.parentNode){i=i.parentNode}d=(q.previousSibling&&q.previousSibling.nodeType==3)&&(q.nextSibling&&q.nextSibling.nodeType==3);o=(i.previousSibling&&i.previousSibling.nodeType==3)&&(i.nextSibling&&i.nextSibling.nodeType==3);l=d&&o;q=q.nextSibling;i=i.previousSibling;var c=false;var e=false;if(q==n.end){e=!!n.start.previousSibling;q=i=n.start.previousSibling||n.end.nextSibling;c=true}K.remove(n.start);K.remove(n.end);if(!q||!i){m.selectNodeContents(m.commonAncestorContainer);m.collapse(true);return}var j=c?U(q)?q.nodeValue.length:q.childNodes.length:0;var p=U(i)?i.nodeValue.length:i.childNodes.length;if(q.nodeType==3){while(q.previousSibling&&q.previousSibling.nodeType==3){q=q.previousSibling;j+=q.nodeValue.length}}if(i.nodeType==3){while(i.previousSibling&&i.previousSibling.nodeType==3){i=i.previousSibling;p+=i.nodeValue.length}}var h=O(q),b=q.parentNode;var k=O(i),g=i.parentNode;for(var f=q;f.previousSibling;f=f.previousSibling){if(f.nodeType==3&&f.previousSibling.nodeType==3){h--}}for(var r=i;r.previousSibling;r=r.previousSibling){if(r.nodeType==3&&r.previousSibling.nodeType==3){k--}}W(b);if(q.nodeType==3){q=b.childNodes[h]}W(g);if(i.nodeType==3){i=g.childNodes[k]}if(c){if(q.nodeType==3){m.setStart(q,j)}else{m[e?"setStartAfter":"setStartBefore"](q)}m.collapse(true)}else{if(q.nodeType==3){m.setStart(q,j)}else{m.setStartBefore(q)}if(i.nodeType==3){m.setEnd(i,p)}else{m.setEndAfter(i)}}if(n.caret){n.removeCaret(m)}}});var R=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/;var T={nodes:function(c){var b=T.textNodes(c);if(!b.length){c.selectNodeContents(c.commonAncestorContainer);b=T.textNodes(c);if(!b.length){b=K.significantChildNodes(c.commonAncestorContainer)}}return b},textNodes:function(b){return new Q(b).enumerate()},documentFromRange:function(c){var b=c.startContainer;return b.nodeType==9?b:b.ownerDocument},createRange:function(b){if(C.msie&&C.version<9){return new B(b)}return b.createRange()},selectRange:function(d){var b=T.image(d);if(b){d.setStartAfter(b);d.setEndAfter(b)}var c=A.selectionFromRange(d);c.removeAllRanges();c.addRange(d)},stringify:function(b){return V.format("{0}:{1} - {2}:{3}",K.name(b.startContainer),b.startOffset,K.name(b.endContainer),b.endOffset)},split:function(d,c,e){function b(h){var g=d.cloneRange();g.collapse(h);g[h?"setStartBefore":"setEndAfter"](c);var f=g.extractContents();if(e){f=K.trim(f)}K[h?"insertBefore":"insertAfter"](f,c)}b(true);b(false)},getMarkers:function(c){var b=[];new X(c).traverse(function(d){if(d.className=="k-marker"){b.push(d)}});return b},image:function(c){var b=[];new X(c).traverse(function(d){if(K.is(d,"img")){b.push(d)}});if(b.length==1){return b[0]}},expand:function(g){var d=g.cloneRange();var c=d.startContainer.childNodes[d.startOffset===0?0:d.startOffset-1];var i=d.endContainer.childNodes[d.endOffset];if(!U(c)||!U(i)){return d}var f=c.nodeValue;var b=i.nodeValue;if(!f||!b){return d}var e=f.split("").reverse().join("").search(R);var h=b.search(R);if(!e||!h){return d}h=h==-1?b.length:h;e=e==-1?0:f.length-e;d.setStart(c,e);d.setEnd(i,h);return d},isExpandable:function(h){var f=h.startContainer;var b=T.documentFromRange(h);if(f==b||f==b.body){return false}var c=h.cloneRange();var e=f.nodeValue;if(!e){return false}var g=e.substring(0,c.startOffset);var d=e.substring(c.startOffset);var j=0,i=0;if(g){j=g.split("").reverse().join("").search(R)}if(d){i=d.search(R)}return j&&i}};L(F,{SelectionUtils:A,W3CRange:B,RangeIterator:X,W3CSelection:Y,RangeEnumerator:Q,RestorePoint:G,Marker:E,RangeUtils:T})})(window.kendo.jQuery);(function(T){var Q=window.kendo,H=Q.Class,B=Q.ui.editor,U=B.EditorUtils,R=U.registerTool,K=B.Dom,A=B.Tool,G=B.ToolTemplate,F=B.RestorePoint,D=B.Marker,L=T.extend;var X=H.extend({init:function(Y){this.options=Y;this.restorePoint=new F(Y.range);this.marker=new D();this.formatter=Y.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(Y){return this.marker.add(this.getRange(),Y)},releaseRange:function(Y){this.marker.remove(Y);this.editor.selectRange(Y)},undo:function(){var Y=this.restorePoint;Y.restoreHtml();this.editor.selectRange(Y.toRange())},redo:function(){this.exec()},createDialog:function(a,Y){var Z=this.editor;return T(a).appendTo(document.body).kendoWindow(L({},Z.options.dialogOptions,Y)).closest(".k-window").toggleClass("k-rtl",Q.support.isRtl(Z.wrapper)).end()},exec:function(){var Y=this.lockRange(true);this.formatter.editor=this.editor;this.formatter.toggle(Y);this.releaseRange(Y)}});var S=H.extend({init:function(Z,Y){this.body=Z.body;this.startRestorePoint=Z;this.endRestorePoint=Y},redo:function(){this.body.innerHTML=this.endRestorePoint.html;this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html;this.editor.selectRange(this.startRestorePoint.toRange())}});var C=X.extend({init:function(Y){X.fn.init.call(this,Y);this.managesUndoRedo=true},exec:function(){var c=this.editor;var a=this.options;var d=a.range;var b=new F(d);var Y=a.html||a.value||"";c.selectRange(d);c.clipboard.paste(Y,a);var Z=new S(b,new F(c.getRange()));Z.editor=c;c.undoRedoStack.push(Z);c.focus()}});var P=A.extend({initialize:function(Y,b){var c=b.editor,a=this.options,Z=a.items?a.items:c.options.insertHtml;new B.SelectBox(Y,{dataSource:Z,dataTextField:"text",dataValueField:"value",change:function(){A.exec(c,"insertHtml",this.value())},title:c.options.messages.insertHtml,highlightFirst:false})},command:function(Y){return new C(Y)},update:function(Y){var Z=Y.data("kendoSelectBox")||Y.find("select").data("kendoSelectBox");Z.close();Z.value(Z.options.title)}});var V=H.extend({init:function(){this.stack=[];this.currentCommandIndex=-1},push:function(Y){this.stack=this.stack.slice(0,this.currentCommandIndex+1);this.currentCommandIndex=this.stack.push(Y)-1},undo:function(){if(this.canUndo()){this.stack[this.currentCommandIndex--].undo()}},redo:function(){if(this.canRedo()){this.stack[++this.currentCommandIndex].redo()}},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}});var E=H.extend({init:function(Y){this.editor=Y},keydown:function(Y){var Z=this,c=Z.editor,f=c.keyboard,b=f.isTypingKey(Y),a=L(T.Event(),Y);Z.editor.trigger("keydown",a);if(a.isDefaultPrevented()){Y.preventDefault()}if(!a.isDefaultPrevented()&&b&&!f.isTypingInProgress()){var d=c.getRange();Z.startRestorePoint=new F(d);f.startTyping(function(){c.selectionRestorePoint=Z.endRestorePoint=new F(c.getRange());var e=new S(Z.startRestorePoint,Z.endRestorePoint);e.editor=c;c.undoRedoStack.push(e)});return true}return false},keyup:function(Y){var Z=this.editor.keyboard;this.editor.trigger("keyup",Y);if(Z.isTypingInProgress()){Z.endTyping();return true}return false}});var M=H.extend({init:function(Y){this.editor=Y;this.systemCommandIsInProgress=false},createUndoCommand:function(){var Y=this;Y.endRestorePoint=new F(Y.editor.getRange());var Z=new S(Y.startRestorePoint,Y.endRestorePoint);Z.editor=Y.editor;Y.editor.undoRedoStack.push(Z);Y.startRestorePoint=Y.endRestorePoint},changed:function(){if(this.startRestorePoint){return this.startRestorePoint.html!=this.editor.body.innerHTML}return false},keydown:function(Y){var Z=this,a=Z.editor,b=a.keyboard;if(b.isModifierKey(Y)){if(b.isTypingInProgress()){b.endTyping(true)}Z.startRestorePoint=new F(a.getRange());return true}if(b.isSystem(Y)){Z.systemCommandIsInProgress=true;if(Z.changed()){Z.systemCommandIsInProgress=false;Z.createUndoCommand()}return true}return false},keyup:function(Y){var Z=this;if(Z.systemCommandIsInProgress&&Z.changed()){Z.systemCommandIsInProgress=false;Z.createUndoCommand(Y);return true}return false}});var O=H.extend({init:function(Y){this.handlers=Y;this.typingInProgress=false},isCharacter:function(Y){return(Y>=48&&Y<=90)||(Y>=96&&Y<=111)||(Y>=186&&Y<=192)||(Y>=219&&Y<=222)},toolFromShortcut:function(a,Z){var Y=String.fromCharCode(Z.keyCode),c,b;for(c in a){b=T.extend({ctrl:false,alt:false,shift:false},a[c].options);if((b.key==Y||b.key==Z.keyCode)&&b.ctrl==Z.ctrlKey&&b.alt==Z.altKey&&b.shift==Z.shiftKey){return c}}},isTypingKey:function(Y){var Z=Y.keyCode;return(this.isCharacter(Z)&&!Y.ctrlKey&&!Y.altKey)||Z==32||Z==13||Z==8||(Z==46&&!Y.shiftKey&&!Y.ctrlKey&&!Y.altKey)},isModifierKey:function(Y){var Z=Y.keyCode;return(Z==17&&!Y.shiftKey&&!Y.altKey)||(Z==16&&!Y.ctrlKey&&!Y.altKey)||(Z==18&&!Y.ctrlKey&&!Y.shiftKey)},isSystem:function(Y){return Y.keyCode==46&&Y.ctrlKey&&!Y.altKey&&!Y.shiftKey},startTyping:function(Y){this.onEndTyping=Y;this.typingInProgress=true},stopTyping:function(){this.typingInProgress=false;if(this.onEndTyping){this.onEndTyping()}},endTyping:function(Z){var Y=this;Y.clearTimeout();if(Z){Y.stopTyping()}else{Y.timeout=window.setTimeout(T.proxy(Y.stopTyping,Y),1000)}},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(Z,a){var Y,b=this.handlers;for(Y=0;Y<b.length;Y++){if(b[Y][a](Z)){break}}},keydown:function(Y){this.notify(Y,"keydown")},keyup:function(Y){this.notify(Y,"keyup")}});var N=H.extend({init:function(Y){this.editor=Y;this.cleaners=[new W(),new I()]},htmlToFragment:function(Y){var b=this.editor,c=b.document,Z=K.create(c,"div"),a=c.createDocumentFragment();Z.innerHTML=Y;while(Z.firstChild){a.appendChild(Z.firstChild)}return a},isBlock:function(Y){return(/<(div|p|ul|ol|table|h[1-6])/i).test(Y)},_contentModification:function(a,c){var Z=this;var b=Z.editor;var d=b.getRange();var Y=new F(d);K.persistScrollTop(b.document);a.call(Z,b,d);setTimeout(function(){c.call(Z,b,d);var e=new F(b.getRange());var f=new S(Y,e);f.editor=b;b.undoRedoStack.push(f);b._selectionChange()})},_fixTagNesting:function(Y){var Z=/<(\/?)([a-z][a-z0-9]*)([^>]*)>/gi;var b=[];var a=B.Dom;Y=Y.replace(Z,function(e,d,c){d=!!d;c=c.toLowerCase();var h="";var f=a.inline[c];function g(){h="</"+b.pop()+">"+h}if(d){if(!b.length){return""}do{if(a.block[b[b.length-1]]&&f){return h}g()}while(b.length&&b[b.length-1]!=c)}else{if(!f){while(a.inline[b[b.length-1]]){g()}}b.push(c);h+=e}return h});while(b.length){Y+="</"+b.pop()+">"}return Y},oncut:function(){this._contentModification(T.noop,T.noop)},onpaste:function(Y){this._contentModification(function Z(e,f){var g=K.create(e.document,"div",{className:"k-paste-container",innerHTML:"\ufeff"});e.body.appendChild(g);if(e.body.createTextRange){Y.preventDefault();var b=e.createRange();b.selectNodeContents(g);e.selectRange(b);var d=e.body.createTextRange();d.moveToElementText(g);T(e.body).unbind("paste");d.execCommand("Paste");T(e.body).bind("paste",T.proxy(this.onpaste,this))}else{var c=e.createRange();c.selectNodeContents(g);e.selectRange(c)}f.deleteContents()},function a(d,e){var b="",f={html:""},c;d.selectRange(e);c=T(d.body).children(".k-paste-container");c.each(function(){var g=this.lastChild;if(g&&K.is(g,"br")){K.remove(g)}b+=this.innerHTML});c.remove();b=this._fixTagNesting(b.replace(/\ufeff/g,""));f.html=b;d.trigger("paste",f);d.clipboard.paste(f.html,{clean:true})})},splittableParent:function(b,Z){var Y,a;if(b){return K.parentOfType(Z,["p","ul","ol"])||Z.parentNode}Y=Z.parentNode;a=Z.ownerDocument.body;if(K.isInline(Y)){while(Y.parentNode!=a&&!K.isBlock(Y.parentNode)){Y=Y.parentNode}}return Y},paste:function(m,g){var Z=this.editor,e,h;g=L({clean:false,split:true},g);for(e=0,h=this.cleaners.length;e<h;e++){if(this.cleaners[e].applicable(m)){m=this.cleaners[e].clean(m)}}if(g.clean){m=m.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/ig,"$3");m=m.replace(/<(a|span)[^>]*><\/\1>/ig,"")}m=m.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var f=this.isBlock(m);Z.focus();var k=Z.getRange();k.deleteContents();if(k.startContainer==Z.document){k.selectNodeContents(Z.body)}var a=new D();var j=a.addCaret(k);var b=this.splittableParent(f,j);var Y=false;var c=b!=Z.body&&!K.is(b,"td");if(g.split&&c&&(f||K.isInline(b))){k.selectNode(j);B.RangeUtils.split(k,b,true);Y=true}var n=this.htmlToFragment(m);if(n.firstChild&&n.firstChild.className==="k-paste-container"){var d=[];for(e=0,h=n.childNodes.length;e<h;e++){d.push(n.childNodes[e].innerHTML)}n=this.htmlToFragment(d.join("<br />"))}T(n.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table");k.insertNode(n);b=this.splittableParent(f,j);if(Y){while(j.parentNode!=b){K.unwrap(j.parentNode)}K.unwrap(j.parentNode)}K.normalize(k.commonAncestorContainer);j.style.display="inline";K.restoreScrollTop(Z.document);K.scrollTo(j);a.removeCaret(k);Z.selectRange(k)}});var J=H.extend({clean:function(Y){var a=this,c=a.replacements,Z,b;for(Z=0,b=c.length;Z<b;Z+=2){Y=Y.replace(c[Z],c[Z+1])}return Y}});var W=J.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/ig,"",/<(\/?)b(\s[^>]*)?>/ig,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/ig,"<$1em$2>",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/ig,"",/style=(["|'])\s*\1/g,""]},applicable:function(Y){return(/class="?Mso|style="[^"]*mso-/i).test(Y)},stripEmptyAnchors:function(Y){return Y.replace(/<a([^>]*)>\s*<\/a>/ig,function(b,Z){if(!Z||Z.indexOf("href")<0){return""}return b})},listType:function(Y){var Z;if(/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(Y)){Z=true}Y=Y.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\u00a0");if((!Z&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(Y))||(Z&&/^.\u00a0+/.test(Y))){return"ul"}if(/^\s*\w+[\.\)]\u00a0{2,}/.test(Y)){return"ol"}},lists:function(Y){var b=T(K.blockElements.join(","),Y),j=-1,e,k={"ul":{},"ol":{}},c=Y,d,Z,h,l,a,g,f;for(d=0;d<b.length;d++){Z=b[d];h=this.listType(Z.innerHTML);if(!h||K.name(Z)!="p"){if(!Z.innerHTML){K.remove(Z)}else{k={"ul":{},"ol":{}};c=Y;j=-1}continue}l=parseFloat(Z.style.marginLeft||0);a=k[h][l];if(l>j||!a){a=K.create(document,h);if(c==Y){K.insertBefore(a,Z)}else{c.appendChild(a)}k[h][l]=a}if(e!=h){for(g in k){for(f in k[g]){if(T.contains(a,k[g][f])){delete k[g][f]}}}}K.remove(Z.firstChild);c=K.create(document,"li",{innerHTML:Z.innerHTML});a.appendChild(c);K.remove(Z);j=l;e=h}},removeAttributes:function(a){var Z=a.attributes,Y=Z.length;while(Y--){a.removeAttributeNode(Z[Y])}},createColGroup:function(Z){var a=Z.cells,Y;if(a.length<2){return}Y=T(T.map(a,function(c){var b=c.width;if(b&&parseInt(b,10)!==0){return Q.format('<col style="width:{0}px;"/>',b)}return"<col />"}).join(""));if(!Y.is("colgroup")){Y=T("<colgroup/>").append(Y)}Y.prependTo(T(Z).closest("table"))},convertHeaders:function(a){var b=a.cells,Y=T.map(b,function(d){var c=T(d).children("p").children("strong")[0];if(c&&K.name(c)=="strong"){return c}});if(Y.length==b.length){for(var Z=0;Z<Y.length;Z++){K.unwrap(Y[Z])}T(a).closest("table").find("colgroup").after("<thead><tr>"+T.map(b,function(c){return"<th>"+T(c).html()+"</th>"}).join("")+"</tr></thead>").end().end().remove()}},removeParagraphs:function(a){var Y,d,b,c,Z;for(Y=0;Y<a.length;Y++){this.removeAttributes(a[Y]);c=T(a[Y]);Z=c.children("p");for(d=0,b=Z.length;d<b;d++){if(d<b-1){K.insertAfter(K.create(document,"br"),Z[d])}K.unwrap(Z[d])}}},removeDefaultColors:function(Z){for(var Y=0;Y<Z.length;Y++){if(/^\s*color:\s*[^;]*;?$/i.test(Z[Y].style.cssText)){K.unwrap(Z[Y])}}},tables:function(c){var b=T(c).find("table"),Z=this,a,Y;for(Y=0;Y<b.length;Y++){a=b[Y].rows[0];Z.createColGroup(a);Z.convertHeaders(a);Z.removeAttributes(b[Y]);Z.removeParagraphs(b.eq(Y).find("td,th"));Z.removeDefaultColors(b.eq(Y).find("span"))}},clean:function(Y){var Z=this,a;Y=J.fn.clean.call(Z,Y);Y=Z.stripEmptyAnchors(Y);a=K.create(document,"div",{innerHTML:Y}),Z.lists(a);Z.tables(a);Y=a.innerHTML.replace(/\s+class="?[^"\s>]*"?/ig,"");return Y}});var I=J.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(Y){return(/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i).test(Y)}});L(B,{Command:X,GenericCommand:S,InsertHtmlCommand:C,InsertHtmlTool:P,UndoRedoStack:V,TypingHandler:E,SystemHandler:M,Keyboard:O,Clipboard:N,Cleaner:J,MSWordFormatCleaner:W,WebkitFormatCleaner:I});R("insertHtml",new P({template:new G({template:U.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))})(window.kendo.jQuery);(function(R){var P=window.kendo,G=P.Class,J=P.ui.editor,D=P.ui.Editor.fn.options.formats,S=J.EditorUtils,B=J.Tool,E=J.ToolTemplate,L=J.FormatTool,H=J.Dom,O=J.RangeUtils,I=R.extend,Q=J.EditorUtils.registerTool,N=J.EditorUtils.registerFormat,T="k-marker";var U=G.extend({init:function(X){this.format=X},numberOfSiblings:function(Y){var b=0,Z=0,c=0,X=Y.parentNode,a;for(a=X.firstChild;a;a=a.nextSibling){if(a!=Y){if(a.className==T){c++}else{if(a.nodeType==3){b++}else{Z++}}}}if(c>1&&X.firstChild.className==T&&X.lastChild.className==T){return 0}else{return Z+b}},findSuitable:function(Y,X){if(!X&&this.numberOfSiblings(Y)>0){return null}return H.parentOfType(Y,this.format[0].tags)},findFormat:function(Z){var Y=this.format,X=H.attrEquals,a,d,c,e,b;for(a=0,d=Y.length;a<d;a++){c=Z;e=Y[a].tags;b=Y[a].attr;if(c&&H.ofType(c,e)&&X(c,b)){return c}while(c){c=H.parentOfType(c,e);if(c&&X(c,b)){return c}}}return null},isFormatted:function(Y){var X,Z;for(X=0,Z=Y.length;X<Z;X++){if(this.findFormat(Y[X])){return true}}return false}});var K=G.extend({init:function(X,Z){var Y=this;Y.finder=new U(X);Y.attributes=I({},X[0].attr,Z);Y.tag=X[0].tags[0]},wrap:function(X){return H.wrap(X,H.create(X.ownerDocument,this.tag,this.attributes))},activate:function(Z,Y){var X=this;if(X.finder.isFormatted(Y)){X.split(Z);X.remove(Y)}else{X.apply(Y)}},toggle:function(Y){var X=O.textNodes(Y);if(X.length>0){this.activate(Y,X)}},apply:function(c){var Z=this,a=[],X,b,Y,d;for(X=0,b=c.length;X<b;X++){Y=c[X];d=Z.finder.findSuitable(Y);if(d){H.attr(d,Z.attributes)}else{d=Z.wrap(Y)}a.push(d)}Z.consolidate(a)},remove:function(a){var Y=this,X,Z,b;for(X=0,Z=a.length;X<Z;X++){b=Y.finder.findFormat(a[X]);if(b){if(Y.attributes&&Y.attributes.style){H.unstyle(b,Y.attributes.style);if(!b.style.cssText&&!b.attributes["class"]){H.unwrap(b)}}else{H.unwrap(b)}}}},split:function(b){var a=O.textNodes(b),Z=a.length,X,Y;if(Z>0){for(X=0;X<Z;X++){Y=this.finder.findFormat(a[X]);if(Y){O.split(b,Y,true)}}}},consolidate:function(Y){var X,Z;while(Y.length>1){X=Y.pop();Z=Y[Y.length-1];if(X.previousSibling&&X.previousSibling.className==T){Z.appendChild(X.previousSibling)}if(X.tagName==Z.tagName&&X.previousSibling==Z&&X.style.cssText==Z.style.cssText){while(X.firstChild){Z.appendChild(X.firstChild)}H.remove(X)}}}});var M=U.extend({init:function(X,Z){var Y=this;Y.format=X;Y.greedyProperty=Z;U.fn.init.call(Y,X)},getInlineCssValue:function(h){var g=h.attributes,a=R.trim,f,j,Y,Z,d,b,X,n,k,e,m,c;if(!g){return}for(f=0,j=g.length;f<j;f++){Y=g[f];Z=Y.nodeName;d=Y.nodeValue;if(Y.specified&&Z=="style"){b=a(d||h.style.cssText).split(";");for(n=0,k=b.length;n<k;n++){X=b[n];if(X.length){e=X.split(":");m=a(e[0].toLowerCase());c=a(e[1]);if(m!=this.greedyProperty){continue}return m.indexOf("color")>=0?H.toHex(c):c}}}}},getFormatInner:function(a){var c=R(H.isDataNode(a)?a.parentNode:a),Y=c.parentsUntil("[contentEditable]").addBack(),Z,b,X;for(Z=0,b=Y.length;Z<b;Z++){X=this.greedyProperty=="className"?Y[Z].className:this.getInlineCssValue(Y[Z]);if(X){return X}}return"inherit"},getFormat:function(Z){var Y=this.getFormatInner(Z[0]),X,a;for(X=1,a=Z.length;X<a;X++){if(Y!=this.getFormatInner(Z[X])){return""}}return Y},isFormatted:function(X){return this.getFormat(X)!==""}});var W=K.extend({init:function(X,Z,a){var Y=this;K.fn.init.call(Y,X,Z);Y.greedyProperty=a;Y.values=Z;Y.finder=new M(X,a)},activate:function(c,b){var Z=this,a,Y=Z.greedyProperty,X="apply";Z.split(c);if(Y){a=Y.replace(/-([a-z])/,function(d,e){return e.toUpperCase()});if(Z.values.style[a]=="inherit"){X="remove"}}Z[X](b)}});var V=L.extend({init:function(X){L.fn.init.call(this,I(X,{finder:new U(X.format),formatter:function(){return new K(X.format)}}))}});var F=B.extend({update:function(X,Z){var Y=X.data(this.type);Y.close();Y.value(this.finder.getFormat(Z))}});var A=F.extend({init:function(Y){var X=this;B.fn.init.call(X,Y);X.type=(P.support.browser.msie||P.support.touch)?"kendoDropDownList":"kendoComboBox";X.format=[{tags:["span"]}];X.finder=new M(X.format,Y.cssAttr)},command:function(X){var Z=this.options,Y=this.format,a={};return new J.FormatCommand(I(X,{formatter:function(){a[Z.domAttr]=X.value;return new W(Y,{style:a},Z.cssAttr)}}))},initialize:function(X,b){var c=b.editor,a=this.options,d=a.name,Z,Y=[];if(a.defaultValue){Y=[{text:c.options.messages[a.defaultValue[0].text],value:a.defaultValue[0].value}]}Z=Y.concat(a.items?a.items:c.options[d]);X[this.type]({dataTextField:"text",dataValueField:"value",dataSource:Z,change:function(){B.exec(c,d,this.value())},highlightFirst:false});X.closest(".k-widget").removeClass("k-"+d).find("*").addBack().attr("unselectable","on");X.data(this.type).value("inherit")}});var C=B.extend({init:function(X){B.fn.init.call(this,X);this.format=[{tags:["span"]}];this.finder=new M(this.format,X.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(X){var Z=this.options,Y=this.format,a={};return new J.FormatCommand(I(X,{formatter:function(){a[Z.domAttr]=X.value;return new W(Y,{style:a},Z.cssAttr)}}))},initialize:function(X,a){var b=a.editor,c=this.name,Z=I({},C.fn.options,this.options),Y=Z.palette;X=this._widget=new P.ui.ColorPicker(X,{value:R.isArray(Y)?Y[0]:"#000",toolIcon:"k-"+Z.name,palette:Y,change:function(){var d=X.value();if(d){B.exec(b,c,d)}b.focus()},activate:function(d){d.preventDefault();X.trigger("change")}});X.wrapper.attr({title:a.title,unselectable:"on"}).find("*").attr("unselectable","on")}});I(J,{InlineFormatFinder:U,InlineFormatter:K,DelayedExecutionTool:F,GreedyInlineFormatFinder:M,GreedyInlineFormatter:W,InlineFormatTool:V,FontTool:A,ColorTool:C});N("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]);Q("bold",new V({key:"B",ctrl:true,format:D.bold,template:new E({template:S.buttonTemplate,title:"Bold"})}));N("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]);Q("italic",new V({key:"I",ctrl:true,format:D.italic,template:new E({template:S.buttonTemplate,title:"Italic"})}));N("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]);Q("underline",new V({key:"U",ctrl:true,format:D.underline,template:new E({template:S.buttonTemplate,title:"Underline"})}));N("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]);Q("strikethrough",new V({format:D.strikethrough,template:new E({template:S.buttonTemplate,title:"Strikethrough"})}));N("superscript",[{tags:["sup"]}]);Q("superscript",new V({format:D.superscript,template:new E({template:S.buttonTemplate,title:"Superscript"})}));N("subscript",[{tags:["sub"]}]);Q("subscript",new V({format:D.subscript,template:new E({template:S.buttonTemplate,title:"Subscript"})}));Q("foreColor",new C({cssAttr:"color",domAttr:"color",name:"foreColor",template:new E({template:S.colorPickerTemplate,title:"Color"})}));Q("backColor",new C({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new E({template:S.colorPickerTemplate,title:"Background Color"})}));Q("fontName",new A({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new E({template:S.comboBoxTemplate,title:"Font Name"})}));Q("fontSize",new A({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new E({template:S.comboBoxTemplate,title:"Font Size"})}))})(window.kendo.jQuery);(function(P){var I=window.kendo,D=I.Class,G=P.extend,E=I.ui.editor,B=I.ui.Editor.fn.options.formats,F=E.Dom,S=E.Command,C=E.ToolTemplate,J=E.FormatTool,R=E.EditorUtils,O=R.registerTool,L=R.registerFormat,M=E.RangeUtils;var N=D.extend({init:function(T){this.format=T},contains:function(V,X){var U,W,T;for(U=0,W=X.length;U<W;U++){T=X[U];if(!T||!F.isAncestorOrSelf(V,T)){return false}}return true},findSuitable:function(X){var V=this.format,W=[],U,Y,T;for(U=0,Y=X.length;U<Y;U++){T=F.ofType(X[U],V[0].tags)?X[U]:F.parentOfType(X[U],V[0].tags);if(!T||T.contentEditable==="true"){return[]}if(P.inArray(T,W)<0){W.push(T)}}for(U=0,Y=W.length;U<Y;U++){if(this.contains(W[U],W)){return[W[U]]}}return W},findFormat:function(T){var U=this.format,V,X,W,Y,Z;for(V=0,X=U.length;V<X;V++){W=T;Y=U[V].tags;Z=U[V].attr;while(W){if(F.ofType(W,Y)&&F.attrEquals(W,Z)){return W}W=W.parentNode}}return null},getFormat:function(V){var U=this,X=function(Z){return U.findFormat(F.isDataNode(Z)?Z.parentNode:Z)},W=X(V[0]),T,Y;if(!W){return""}for(T=1,Y=V.length;T<Y;T++){if(W!=X(V[T])){return""}}return W.nodeName.toLowerCase()},isFormatted:function(U){for(var T=0,V=U.length;T<V;T++){if(!this.findFormat(U[T])){return false}}return true}});var A=D.extend({init:function(T,U){this.format=T;this.values=U;this.finder=new N(T)},wrap:function(T,W,b){var V=b.length==1?F.blockParentOrBody(b[0]):F.commonAncestor.apply(null,b);if(F.isInline(V)){V=F.blockParentOrBody(V)}var Y=F.significantChildNodes(V),Z=F.findNodeIndex(Y[0]),a=F.create(V.ownerDocument,T,W),X,U;for(X=0;X<Y.length;X++){U=Y[X];if(F.isBlock(U)){F.attr(U,W);if(a.childNodes.length){F.insertBefore(a,U);a=a.cloneNode(false)}Z=F.findNodeIndex(U)+1;continue}a.appendChild(U)}if(a.firstChild){F.insertAt(V,a,Z)}},apply:function(d){var U,b=this.values;function W(e){return G({},e&&e.attr,b)}var Y=P.filter("img",d);var Z=R.formatByName("img",this.format);var a=W(Z);P.each(Y,function(){F.attr(this,a)});if(Y.length==d.length){return}var T=P.filter("img",d,true);var V=this.finder.findSuitable(T);if(V.length){for(var X=0,c=V.length;X<c;X++){U=R.formatByName(F.name(V[X]),this.format);F.attr(V[X],W(U))}}else{U=this.format[0];this.wrap(U.tags[0],W(U),T)}},remove:function(X){var U,V,Y,T,W;for(U=0,V=X.length;U<V;U++){Y=this.finder.findFormat(X[U]);if(Y){W=F.name(Y);if(W=="div"&&!Y.getAttribute("class")){F.unwrap(Y)}else{T=R.formatByName(W,this.format);if(T.attr.style){F.unstyle(Y,T.attr.style)}if(T.attr.className){F.removeClass(Y,T.attr.className)}}}}},toggle:function(V){var T=this,U=M.nodes(V);if(T.finder.isFormatted(U)){T.remove(U)}else{T.apply(U)}}});var K=D.extend({init:function(T,V){var U=this;U.format=T;U.values=V;U.finder=new N(T)},apply:function(c){var V=this.format,W=F.blockParents(c),X=V[0].tags[0],Y,Z,U,a,b,T;if(W.length&&W[0].attributes.contentEditable){W=[]}if(W.length){for(Y=0,Z=W.length;Y<Z;Y++){if(F.is(W[Y],"li")){U=W[Y].parentNode;a=new E.ListFormatter(U.nodeName.toLowerCase(),X);b=this.editor.createRange();b.selectNode(W[Y]);a.toggle(b)}else{T=F.changeTag(W[Y],X);F.attr(T,V[0].attr)}}}else{new A(V,this.values).apply(c)}},toggle:function(U){var T=M.textNodes(U);if(!T.length){U.selectNodeContents(U.commonAncestorContainer);T=M.textNodes(U);if(!T.length){T=F.significantChildNodes(U.commonAncestorContainer)}}this.apply(T)}});var Q=S.extend({init:function(T){T.formatter=T.formatter();S.fn.init.call(this,T)}});var H=J.extend({init:function(T){J.fn.init.call(this,G(T,{finder:new N(T.format),formatter:function(){return new A(T.format)}}))}});G(E,{BlockFormatFinder:N,BlockFormatter:A,GreedyBlockFormatter:K,FormatCommand:Q,BlockFormatTool:H});L("justifyLeft",[{tags:F.blockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left"}}}]);O("justifyLeft",new H({format:B.justifyLeft,template:new C({template:R.buttonTemplate,title:"Justify Left"})}));L("justifyCenter",[{tags:F.blockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto"}}}]);O("justifyCenter",new H({format:B.justifyCenter,template:new C({template:R.buttonTemplate,title:"Justify Center"})}));L("justifyRight",[{tags:F.blockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right"}}}]);O("justifyRight",new H({format:B.justifyRight,template:new C({template:R.buttonTemplate,title:"Justify Right"})}));L("justifyFull",[{tags:F.blockElements,attr:{style:{textAlign:"justify"}}}]);O("justifyFull",new H({format:B.justifyFull,template:new C({template:R.buttonTemplate,title:"Justify Full"})}))})(window.kendo.jQuery);(function(K){var C=window.kendo,H=K.extend,J=C.ui.editor,D=J.Dom,E=J.Command,I=J.Tool,A=J.BlockFormatter,M=D.normalize,L=J.RangeUtils,G=J.EditorUtils.registerTool;var F=E.extend({init:function(N){this.options=N;E.fn.init.call(this,N)},_insertMarker:function(Q,P){var N=D.create(Q,"a"),O;P.insertNode(N);if(!N.parentNode){O=P.commonAncestorContainer;O.innerHTML="";O.appendChild(N)}M(N.parentNode);return N},_moveFocus:function(P,N){if(D.is(N,"img")){P.setStartBefore(N)}else{P.selectNodeContents(N);var O=L.textNodes(P)[0];if(O){P.selectNodeContents(O)}else{while(N.childNodes.length&&!D.is(N.firstChild,"br")){N=N.firstChild}P.selectNodeContents(N)}}},shouldTrim:function(Q){var N="p,h1,h2,h3,h4,h5,h6".split(","),O=D.parentOfType(Q.startContainer,N),P=D.parentOfType(Q.endContainer,N);return(O&&!P)||(!O&&P)},exec:function(){var V=this.getRange(),U=L.documentFromRange(V),W,T,Q,X=J.emptyElementContent,R,P,S,Y,O,N=this.shouldTrim(V);V.deleteContents();P=this._insertMarker(U,V);S=D.closestEditableOfType(P,["li"]);Y=D.closestEditableOfType(P,"h1,h2,h3,h4,h5,h6".split(","));if(S){O=V.cloneRange();O.selectNode(S);if(!L.textNodes(O).length){R=D.create(U,"p");if(S.nextSibling){L.split(O,S.parentNode)}D.insertAfter(R,S.parentNode);D.remove(S.parentNode.childNodes.length==1?S.parentNode:S);R.innerHTML=X;Q=R}}else{if(Y&&!P.nextSibling){R=D.create(U,"p");D.insertAfter(R,Y);R.innerHTML=X;D.remove(P);Q=R}}if(!Q){if(!(S||Y)){new A([{tags:["p"]}]).apply([P])}V.selectNode(P);W=D.parentOfType(P,[S?"li":Y?D.name(Y):"p"]);L.split(V,W,N);T=W.previousSibling;if(D.is(T,"li")&&T.firstChild&&!D.is(T.firstChild,"br")){T=T.firstChild}Q=W.nextSibling;if(D.is(Q,"li")&&Q.firstChild&&!D.is(Q.firstChild,"br")){Q=Q.firstChild}D.remove(W);this.clean(T);this.clean(Q);M(T)}M(Q);this._moveFocus(V,Q);V.collapse(true);D.scrollTo(Q);L.selectRange(V)},clean:function(N){if(N.firstChild&&D.is(N.firstChild,"br")){D.remove(N.firstChild)}if(D.isDataNode(N)&&!N.nodeValue){N=N.parentNode}if(N){while(N.firstChild&&N.firstChild.nodeType==1){N=N.firstChild}if(!D.isEmpty(N)&&/^\s*$/.test(N.innerHTML)){N.innerHTML=J.emptyElementContent}}}});var B=E.extend({init:function(N){this.options=N;E.fn.init.call(this,N)},exec:function(){var P=this.getRange(),O=D.create(L.documentFromRange(P),"br"),N;P.deleteContents();P.insertNode(O);M(O.parentNode);if(!C.support.browser.msie&&(!O.nextSibling||D.isWhitespace(O.nextSibling))){N=O.cloneNode(true);N.setAttribute("_moz_dirty","");D.insertAfter(N,O)}P.setStartAfter(O);P.collapse(true);D.scrollTo(O.nextSibling||O);L.selectRange(P)}});H(J,{ParagraphCommand:F,NewLineCommand:B});G("insertLineBreak",new I({key:13,shift:true,command:B}));G("insertParagraph",new I({key:13,command:F}))})(window.kendo.jQuery);(function(P){var N=window.kendo,F=N.Class,H=P.extend,I=N.ui.editor,G=I.Dom,M=I.RangeUtils,Q=I.EditorUtils,R=I.Command,E=I.ToolTemplate,J=I.FormatTool,D=I.BlockFormatFinder,K=M.textNodes,O=I.EditorUtils.registerTool;var A=D.extend({init:function(S){this.tag=S;var T=this.tags=[S=="ul"?"ol":"ul",S];D.fn.init.call(this,[{tags:T}])},isFormatted:function(U){var T=[],V;for(var S=0;S<U.length;S++){if((V=this.findFormat(U[S]))&&G.name(V)==this.tag){T.push(V)}}if(T.length<1){return false}if(T.length!=U.length){return false}for(S=0;S<T.length;S++){if(T[S].parentNode!=V.parentNode){break}if(T[S]!=V){return false}}return true},findSuitable:function(T){var S=G.parentOfType(T[0],this.tags);if(S&&G.name(S)==this.tag){return S}return null}});var C=F.extend({init:function(S,U){var T=this;T.finder=new A(S);T.tag=S;T.unwrapTag=U},isList:function(S){var T=G.name(S);return T=="ul"||T=="ol"||T=="dl"},wrap:function(V,T){var W=G.create(V.ownerDocument,"li"),S,U;for(S=0;S<T.length;S++){U=T[S];if(G.is(U,"li")){V.appendChild(U);continue}if(this.isList(U)){while(U.firstChild){V.appendChild(U.firstChild)}continue}if(G.is(U,"td")){while(U.firstChild){W.appendChild(U.firstChild)}V.appendChild(W);U.appendChild(V);V=V.cloneNode(false);W=W.cloneNode(false);continue}W.appendChild(U);if(G.isBlock(U)){V.appendChild(W);G.unwrap(U);W=W.cloneNode(false)}}if(W.firstChild){V.appendChild(W)}},containsAny:function(U,T){for(var S=0;S<T.length;S++){if(G.isAncestorOrSelf(U,T[S])){return true}}return false},suitable:function(S,U){if(S.className=="k-marker"){var T=S.nextSibling;if(T&&G.isBlock(T)){return false}T=S.previousSibling;if(T&&G.isBlock(T)){return false}}return this.containsAny(S,U)||G.isInline(S)||S.nodeType==3},split:function(X){var Z=K(X),S,T;if(Z.length){S=G.parentOfType(Z[0],["li"]);T=G.parentOfType(Z[Z.length-1],["li"]);X.setStartBefore(S);X.setEndAfter(T);for(var U=0,W=Z.length;U<W;U++){var Y=this.finder.findFormat(Z[U]);if(Y){var V=P(Y).parents("ul,ol");if(V[0]){M.split(X,V.last()[0],true)}else{M.split(X,Y,true)}}}}},merge:function(S,V){var T=V.previousSibling,U;while(T&&(T.className=="k-marker"||(T.nodeType==3&&G.isWhitespace(T)))){T=T.previousSibling}if(T&&G.name(T)==S){while(V.firstChild){T.appendChild(V.firstChild)}G.remove(V);V=T}U=V.nextSibling;while(U&&(U.className=="k-marker"||(U.nodeType==3&&G.isWhitespace(U)))){U=U.nextSibling}if(U&&G.name(U)==S){while(V.lastChild){U.insertBefore(V.lastChild,U.firstChild)}G.remove(V)}},breakable:function(S){return(S!=S.ownerDocument.body&&!/table|tbody|tr|td/.test(G.name(S))&&!S.attributes.contentEditable)},applyOnSection:function(a,c){var Y=this.tag;var V=G.closestSplittableParent(c);var X=[];var b=this.finder.findSuitable(c);if(!b){b=new A(Y=="ul"?"ol":"ul").findSuitable(c)}var S;if(/table|tbody/.test(G.name(V))){S=P.map(c,function(d){return G.parentOfType(d,["td"])})}else{S=G.significantChildNodes(V);if(P.grep(S,G.isBlock).length){S=P.grep(S,P.proxy(function(d){return this.containsAny(d,c)},this))}if(!S.length){S=c}}function U(){X.push(this)}for(var W=0;W<S.length;W++){var Z=S[W];var T=(!b||!G.isAncestorOrSelf(b,Z))&&this.suitable(Z,c);if(!T){continue}if(b&&this.isList(Z)){P.each(Z.childNodes,U);G.remove(Z)}else{X.push(Z)}}if(X.length==S.length&&this.breakable(V)){X=[V]}if(!b){b=G.create(V.ownerDocument,Y);G.insertBefore(b,X[0])}this.wrap(b,X);if(!G.is(b,Y)){G.changeTag(b,Y)}this.merge(Y,b)},apply:function(V){var S=0,X=[],T,W,U;do{U=G.closestEditable(V[S],["td","body"]);if(!T||U!=T){if(T){X.push({section:T,nodes:W})}W=[V[S]];T=U}else{W.push(V[S])}S++}while(S<V.length);X.push({section:T,nodes:W});for(S=0;S<X.length;S++){this.applyOnSection(X[S].section,X[S].nodes)}},unwrap:function(W){var Y=W.ownerDocument.createDocumentFragment(),V=this.unwrapTag,T,X,U,S;for(X=W.firstChild;X;X=X.nextSibling){U=G.create(W.ownerDocument,V||"p");while(X.firstChild){S=X.firstChild;if(G.isBlock(S)){if(U.firstChild){Y.appendChild(U);U=G.create(W.ownerDocument,V||"p")}Y.appendChild(S)}else{U.appendChild(S)}}if(U.firstChild){Y.appendChild(U)}}T=P(W).parents("ul,ol");if(T[0]){G.insertAfter(Y,T.last()[0]);T.last().remove()}else{G.insertAfter(Y,W)}G.remove(W)},remove:function(U){var V;for(var S=0,T=U.length;S<T;S++){V=this.finder.findFormat(U[S]);if(V){this.unwrap(V)}}},toggle:function(W){var T=this,V=K(W),S=W.commonAncestorContainer;if(!V.length){W.selectNodeContents(S);V=K(W);if(!V.length){var U=S.ownerDocument.createTextNode("");W.startContainer.appendChild(U);V=[U];W.selectNode(U.parentNode)}}if(T.finder.isFormatted(V)){T.split(W);T.remove(V)}else{T.apply(V)}}});var L=R.extend({init:function(S){S.formatter=new C(S.tag);R.fn.init.call(this,S)}});var B=J.extend({init:function(S){this.options=S;J.fn.init.call(this,H(S,{finder:new A(S.tag)}))},command:function(S){return new L(H(S,{tag:this.options.tag}))}});H(I,{ListFormatFinder:A,ListFormatter:C,ListCommand:L,ListTool:B});O("insertUnorderedList",new B({tag:"ul",template:new E({template:Q.buttonTemplate,title:"Remove Link"})}));O("insertOrderedList",new B({tag:"ol",template:new E({template:Q.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery);(function(R,Q){var O=window.kendo,D=O.Class,F=R.extend,H=O.ui.editor,E=H.Dom,M=H.RangeUtils,S=H.EditorUtils,U=H.Command,A=H.Tool,C=H.ToolTemplate,I=H.InlineFormatter,T=H.InlineFormatFinder,K=M.textNodes,P=H.EditorUtils.registerTool;var B=D.extend({findSuitable:function(V){return E.parentOfType(V,["a"])}});var J=D.extend({init:function(){this.finder=new B()},apply:function(b,Y){var Z=K(b),W,c,V,X;if(Y.innerHTML){W=M.getMarkers(b);c=M.documentFromRange(b);b.deleteContents();X=E.create(c,"a",Y);b.insertNode(X);if(E.name(X.parentNode)=="a"){E.insertAfter(X,X.parentNode)}if(W.length>1){E.insertAfter(W[W.length-1],X);E.insertAfter(W[1],X);E[Z.length>0?"insertBefore":"insertAfter"](W[0],X)}}else{V=new I([{tags:["a"]}],Y);V.finder=this.finder;V.apply(Z)}}});var G=U.extend({init:function(V){V.formatter={toggle:function(W){new I([{tags:["a"]}]).remove(K(W))}};this.options=V;U.fn.init.call(this,V)}});var L=U.extend({init:function(W){var V=this;V.options=W;U.fn.init.call(V,W);V.formatter=new J();if(!W.url){V.attributes=null;V.async=true}else{this.exec=function(){this.formatter.apply(W.range,{href:W.url,innerHTML:W.text||W.url,target:W.target})}}},_dialogTemplate:function(){return O.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button k-secondary\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})},exec:function(){var c=this,e=c.getRange(),f=e.collapsed,g,Z="",Y=c.editor.options.messages;e=c.lockRange(true);g=K(e);function W(h){var l=b.element,a=R("#k-editor-link-url",l).val(),j,i,k;if(a&&a!="http://"){if(a.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(a)){a="mailto:"+a}c.attributes={href:a};j=R("#k-editor-link-title",l).val();if(j){c.attributes.title=j}i=R("#k-editor-link-text",l).val();if(!i&&!Z){c.attributes.innerHTML=a}else{if(i&&(i!==Z)){c.attributes.innerHTML=E.stripBom(i)}}k=R("#k-editor-link-target",l).is(":checked");c.attributes.target=k?"_blank":null;c.formatter.apply(e,c.attributes)}X(h);if(c.change){c.change()}}function X(a){a.preventDefault();b.destroy();E.windowFromDocument(M.documentFromRange(e)).focus();c.releaseRange(e)}function d(h){var a="";if(h.length==1){a=h[0].nodeValue}else{if(h.length){a=h[0].nodeValue+h[1].nodeValue}}return E.stripBom(a)}var V=g.length?c.formatter.finder.findSuitable(g[0]):null;var b=this.createDialog(c._dialogTemplate(),{title:Y.createLink,close:X,visible:false}).find(".k-dialog-insert").click(W).end().find(".k-dialog-close").click(X).end().find(".k-edit-field input").keydown(function(a){var h=O.keys;if(a.keyCode==h.ENTER){W(a)}else{if(a.keyCode==h.ESC){X(a)}}}).end().find("#k-editor-link-url").val(V?V.getAttribute("href",2):"http://").end().find("#k-editor-link-text").val(d(g)).end().find("#k-editor-link-title").val(V?V.title:"").end().find("#k-editor-link-target").attr("checked",V?V.target=="_blank":false).end().data("kendoWindow").center().open();if(g.length>0&&!f){Z=R("#k-editor-link-text",b.element).val()}R("#k-editor-link-url",b.element).focus().select()},redo:function(){var V=this,W=V.lockRange(true);V.formatter.apply(W,V.attributes);V.releaseRange(W)}});var N=A.extend({init:function(V){this.options=V;this.finder=new T([{tags:["a"]}]);A.fn.init.call(this,R.extend(V,{command:G}))},initialize:function(V,W){A.fn.initialize.call(this,V,W);V.addClass("k-state-disabled")},update:function(V,W){V.toggleClass("k-state-disabled",!this.finder.isFormatted(W)).removeClass("k-state-hover")}});F(O.ui.editor,{LinkFormatFinder:B,LinkFormatter:J,UnlinkCommand:G,LinkCommand:L,UnlinkTool:N});P("createLink",new A({key:"K",ctrl:true,command:L,template:new C({template:S.buttonTemplate,title:"Create Link"})}));P("unlink",new N({key:"K",ctrl:true,shift:true,template:new C({template:S.buttonTemplate,title:"Remove Link"})}))})(window.kendo.jQuery);(function(N,A){var D=window.kendo,H=N.extend,B=D.ui.editor,C=B.EditorUtils,E=B.Dom,J=C.registerTool,I=B.ToolTemplate,O=B.RangeUtils,F=B.Command,L=D.keys,M="#k-editor-image-url",G="#k-editor-image-title";var K=F.extend({init:function(Q){var P=this;F.fn.init.call(P,Q);P.async=true;P.attributes={}},insertImage:function(R,Q){var P=this.attributes;var S=O.documentFromRange(Q);if(P.src&&P.src!="http://"){if(!R){R=E.create(S,"img",P);R.onload=R.onerror=function(){R.removeAttribute("complete");R.removeAttribute("width");R.removeAttribute("height")};Q.deleteContents();Q.insertNode(R);if(!R.nextSibling){E.insertAfter(S.createTextNode("\ufeff"),R)}Q.setStartAfter(R);Q.setEndAfter(R);O.selectRange(Q);return true}else{E.attr(R,P)}}return false},_dialogTemplate:function(P){return D.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button">#: messages.dialogInsert #</button><button class="k-dialog-close k-button k-secondary">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:P})},redo:function(){var P=this,Q=P.lockRange();if(!P.insertImage(O.image(Q),Q)){P.releaseRange(Q)}},exec:function(){var V=this,Y=V.lockRange(),U=false,Q=O.image(Y),T,W=V.editor.options,a=W.messages,X=W.imageBrowser,P=!!(D.ui.ImageBrowser&&X&&X.transport&&X.transport.read!==A);function Z(b){var c=T.element;V.attributes={src:c.find(M).val().replace(/ /g,"%20"),alt:c.find(G).val()};U=V.insertImage(Q,Y);S(b);if(V.change){V.change()}}function S(b){b.preventDefault();T.destroy();E.windowFromDocument(O.documentFromRange(Y)).focus();if(!U){V.releaseRange(Y)}}function R(b){if(b.keyCode==L.ENTER){Z(b)}else{if(b.keyCode==L.ESC){S(b)}}}T=this.createDialog(V._dialogTemplate(P),{title:a.insertImage,close:S,visible:false,resizable:P}).toggleClass("k-imagebrowser-dialog",P).find(".k-dialog-insert").click(Z).end().find(".k-dialog-close").click(S).end().find(".k-edit-field input").keydown(R).end().find(M).val(Q?Q.getAttribute("src",2):"http://").end().find(G).val(Q?Q.alt:"").end().data("kendoWindow");if(P){new D.ui.ImageBrowser(T.element.find(".k-imagebrowser"),H({},X,{change:function(){T.element.find(M).val(this.value())},apply:Z}))}T.center().open();T.element.find(M).focus().select()}});D.ui.editor.ImageCommand=K;J("insertImage",new B.Tool({command:K,template:new I({template:C.buttonTemplate,title:"Insert Image"})}))})(window.kendo.jQuery);(function(F,C){var B=window.kendo,D=B.ui.DropDownList,A=B.ui.editor.Dom;var E=D.extend({init:function(I,H){var G=this;D.fn.init.call(G,I,H);G.value(G.options.title);if(B.support.mobileOS.ios){G._initSelectOverlay()}G.bind("open",function(){if(G.options.autoSize){var K=G.list,J;K.css({whiteSpace:"nowrap",width:"auto"});J=K.width();if(J){J+=20}else{J=G._listWidth}K.css("width",J+B.support.scrollbar());G._listWidth=J}})},options:{name:"SelectBox"},_initSelectOverlay:function(){var J=F(this.element);var I=F("<select class='k-select-overlay' />");var H=J.closest(".k-widget");var G=this;I.on("change",function(){G.value(this.value);G.trigger("change")});this.bind("dataBound",function(){var O=G.value();var N=this.dataSource.view();var M;var K="";for(var L=0;L<N.length;L++){M=N[L];K+="<option value='"+M.value+"'";if(M.value==O){K+=" selected"}K+=">"+M.text+"</option>"}I.html(K)});I.insertAfter(H)},value:function(I){var H=this,G=D.fn.value.call(H,I);if(I===C){return G}if(I!==D.fn.value.call(H)){H.text(H.options.title);if(H._current){H._current.removeClass("k-state-selected")}H.current(null);H._oldIndex=H.selectedIndex=-1}},decorate:function(K){var J=this.dataSource.data(),H,G,I;for(H=0;H<J.length;H++){G=J[H].tag||"span";I=J[H].className;J[H].style=A.inlineStyle(K,G,{className:I})+";display:inline-block"}this.dataSource.trigger("change")}});B.ui.plugin(E);B.ui.editor.SelectBox=E})(window.kendo.jQuery);(function(R,Q){var K=window.kendo,G=K.Class,J=R.extend,H=K.ui.editor,I=H.Dom,S=H.EditorUtils,P=S.registerTool,T=H.Command,B=H.Tool,F=H.ToolTemplate,M=H.RangeUtils,L=I.blockElements,O=H.BlockFormatFinder,C=H.BlockFormatter;function N(W,Y){var V=R(W).css("direction")=="rtl",Z=V?"Right":"Left",X=I.name(W)!="td"?"margin"+Z:"padding"+Z;if(Y===Q){return W.style[X]||0}else{if(Y>0){W.style[X]=Y+"px"}else{W.style[X]="";if(!W.style.cssText){W.removeAttribute("style")}}}}var A=G.extend({init:function(){this.finder=new O([{tags:I.blockElements}])},apply:function(h){var Z=this.finder.findSuitable(h),b=[],a,d,f,g,c;if(Z.length){for(a=0,d=Z.length;a<d;a++){if(I.is(Z[a],"li")){if(!R(Z[a]).index()){b.push(Z[a].parentNode)}else{if(R.inArray(Z[a].parentNode,b)<0){b.push(Z[a])}}}else{b.push(Z[a])}}while(b.length){f=b.shift();if(I.is(f,"li")){g=f.parentNode;c=R(f).prev("li");var Y=c.find("ul,ol").last();var e=R(f).children("ul,ol")[0];if(e&&c[0]){if(Y[0]){Y.append(f);Y.append(R(e).children());I.remove(e)}else{c.append(e);e.insertBefore(f,e.firstChild)}}else{e=c.children("ul,ol")[0];if(!e){e=I.create(f.ownerDocument,I.name(g));c.append(e)}while(f&&f.parentNode==g){e.appendChild(f);f=b.shift()}}}else{var V=parseInt(N(f),10)+30;N(f,V);for(var W=0;W<b.length;W++){if(R.contains(f,b[W])){b.splice(W,1)}}}}}else{var X=new C([{tags:["p"]}],{style:{marginLeft:30}});X.apply(h)}},remove:function(e){var Y=this.finder.findSuitable(e),Z,a,V,W,b,d,c,X;for(a=0,V=Y.length;a<V;a++){c=R(Y[a]);if(c.is("li")){W=c.parent();b=W.parent();if(b.is("li,ul,ol")&&!N(W[0])){if(Z&&R.contains(Z,b[0])){continue}d=c.nextAll("li");if(d.length){R(W[0].cloneNode(false)).appendTo(c).append(d)}if(b.is("li")){c.insertAfter(b)}else{c.appendTo(b)}if(!W.children("li").length){W.remove()}continue}else{if(Z==W[0]){continue}Z=W[0]}}else{Z=Y[a]}X=parseInt(N(Z),10)-30;N(Z,X)}}});var U=T.extend({init:function(V){V.formatter={toggle:function(W){new A().apply(M.nodes(W))}};T.fn.init.call(this,V)}});var D=T.extend({init:function(V){V.formatter={toggle:function(W){new A().remove(M.nodes(W))}};T.fn.init.call(this,V)}});var E=B.extend({init:function(V){B.fn.init.call(this,V);this.finder=new O([{tags:L}])},initialize:function(V,W){B.fn.initialize.call(this,V,W);V.addClass("k-state-disabled")},update:function(V,Z){var Y=this.finder.findSuitable(Z),X,b,W,a;for(W=0,a=Y.length;W<a;W++){X=N(Y[W]);if(!X){b=R(Y[W]).parents("ul,ol").length;X=(I.is(Y[W],"li")&&(b>1||N(Y[W].parentNode)))||(I.ofType(Y[W],["ul","ol"])&&b>0)}if(X){V.removeClass("k-state-disabled");return}}V.addClass("k-state-disabled").removeClass("k-state-hover")}});J(H,{IndentFormatter:A,IndentCommand:U,OutdentCommand:D,OutdentTool:E});P("indent",new B({command:U,template:new F({template:S.buttonTemplate,title:"Indent"})}));P("outdent",new E({command:D,template:new F({template:S.buttonTemplate,title:"Outdent"})}))})(window.kendo.jQuery);(function(J,A){var D=window.kendo,G=J.extend,B=D.ui.editor,C=B.EditorUtils,E=B.Command,H=B.Tool,F=B.ToolTemplate;var I=E.extend({init:function(L){var K=this;K.options=L;E.fn.init.call(K,L);K.attributes=null;K.async=true},exec:function(){var O=this,L=O.editor,R=L.options.messages,N=J(D.template(I.template)(R)).appendTo(document.body),Q=I.indent(L.value()),P=".k-editor-textarea";function K(S){L.value(N.find(P).val());M(S);if(O.change){O.change()}L.trigger("change")}function M(S){S.preventDefault();N.data("kendoWindow").destroy();L.focus()}this.createDialog(N,{title:R.viewHtml,close:M,visible:false}).find(P).val(Q).end().find(".k-dialog-update").click(K).end().find(".k-dialog-close").click(M).end().data("kendoWindow").center().open();N.find(P).focus()}});G(I,{template:"<div class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button'>#: dialogUpdate #</button><button class='k-dialog-close k-button k-secondary'>#: dialogCancel #</button></div></div>",indent:function(K){return K.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/ig,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/ig,"<$1$2>\n<li").replace(/<br \/>/ig,"<br />\n").replace(/\n$/,"")}});D.ui.editor.ViewHtmlCommand=I;B.EditorUtils.registerTool("viewHtml",new H({command:I,template:new F({template:C.buttonTemplate,title:"View HTML"})}))})(window.kendo.jQuery);(function(K){var C=window.kendo,A=C.ui.editor,I=A.Tool,G=A.ToolTemplate,L=A.DelayedExecutionTool,D=A.Dom,E=A.EditorUtils.dropDownListTemplate,H=A.EditorUtils.registerTool;var J=L.extend({init:function(O){var N=this;I.fn.init.call(N,C.deepExtend({},N.options,O));N.type="kendoSelectBox";N.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:90},toFormattingItem:function(O){var P=O.value;if(!P){return O}if(O.tag||O.className){return O}var N=P.indexOf(".");if(N===0){O.className=P.substring(1)}else{if(N==-1){O.tag=P}else{O.tag=P.substring(0,N);O.className=P.substring(N+1)}}return O},command:function(O){var N=O.value;N=this.toFormattingItem(N);return new A.FormatCommand({range:O.range,formatter:function(){var P,Q=(N.tag||N.context||"span").split(","),R=[{tags:Q,attr:{className:N.className||""}}];if(K.inArray(Q[0],D.inlineElements)>=0){P=new A.GreedyInlineFormatter(R)}else{P=new A.GreedyBlockFormatter(R)}return P}})},initialize:function(N,Q){var R=Q.editor;var P=this.options;var S=P.name;var O=this;N.width(P.width);N.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:P.items||R.options[S],title:R.options.messages[S],autoSize:true,change:function(){I.exec(R,S,this.dataItem().toJSON())},dataBound:function(){var T,U=this.dataSource.data();for(T=0;T<U.length;T++){U[T]=O.toFormattingItem(U[T])}},highlightFirst:false,template:C.template('<span unselectable="on" style="display:block;#=data.style#">#:data.text#</span>')});N.addClass("k-decorated").closest(".k-widget").removeClass("k-"+S).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(U,V){for(var P=0;P<U.length;P++){var R=U[P];var O=R.tag||R.context||"";var T=R.className?"."+R.className:"";var S=O+T;var N=K(V[0]).closest(S)[0];if(!N){continue}if(V.length==1){return R.value}for(var Q=1;Q<V.length;Q++){if(K(V[Q]).closest(S)[0]!=N){break}else{if(Q==V.length-1){return R.value}}}}return""},update:function(N,U){var Q=K(N).data(this.type);if(!Q){return}var T=Q.dataSource,S=T.data(),P,O,R=D.commonAncestor.apply(null,U);for(P=0;P<S.length;P++){O=S[P].context;S[P].visible=!O||!!K(R).closest(O).length}T.filter([{field:"visible",operator:"eq",value:true}]);L.fn.update.call(this,N,U);Q.value(this.getFormattingValue(T.view(),U));Q.wrapper.toggleClass("k-state-disabled",!T.view().length)}});function F(N,P,O){return J.extend({init:function(Q){J.fn.init.call(this,Q);this.finder=O},command:function(R){var Q=R.value;if(K.isPlainObject(Q)){Q[P]=Q.value}else{R.value={};R.value[P]=Q}return J.fn.command.call(this,R)},initialize:function(Q,T){var U=window.console,R,S=this.options.items;for(R=0;R<S.length;R++){S[R][P]=S[R].value}if(U){U.warn("The `"+this.options.name+"` tool has been deprecated in favor of the `formatting` tool. See http://docs.kendoui.com/getting-started/changes-and-backward-compatibility for more information")}J.fn.initialize.call(this,Q,T)}})}var B=F("style","className",new A.GreedyInlineFormatFinder([{tags:["span"]}],"className"));var M=F("formatBlock","tag",new A.BlockFormatFinder([{tags:D.blockElements}]));K.extend(A,{FormattingTool:J,StyleTool:B,FormatBlockTool:M});H("formatting",new J({template:new G({template:E,title:"Format"})}));H("style",new B({template:new G({template:E,title:"Styles"})}));H("formatBlock",new M({template:new G({template:E})}))})(window.kendo.jQuery);(function(J,A){var C=window.kendo;var L=C.ui;var G=L.editor;var H=L.Widget;var F=J.extend;var D=J.proxy;var I=C.keys;var E=".kendoEditor";var B="a.k-tool:not(.k-state-disabled),.k-widget.k-colorpicker,.k-selectbox,.k-dropdown,.k-combobox .k-input";var K=H.extend({init:function(O,N){var M=this;N=F({},N,{name:"EditorToolbar"});H.fn.init.call(M,O,N);if(N.popup){M._initPopup()}},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml"]},_initPopup:function(){this.window=J(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:false,resizable:false,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:false,autoFocus:false,actions:[],dragend:function(){this._moved=true}}).on("mousedown",function(M){if(!J(M.target).is(".k-icon")){M.preventDefault()}}).data("kendoWindow")},items:function(){return this.element.children().find("> *, select")},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(N){var O,M=this.tools;for(O in M){if(O.toLowerCase()==N){return M[O]}}},toolGroupFor:function(O){var M,N=this.groups;if(this.isCustomTool(O)){return"custom"}for(M in N){if(J.inArray(O,N[M])>=0){return M}}},bindTo:function(O){var N=this,M=N.window;if(N._editor){N._editor.unbind("select",D(N._update,N))}N._editor=O;N.tools=N.expandTools(O.options.tools);N.render();N.element.find(".k-combobox .k-input").keydown(function(R){var S=J(this).closest(".k-combobox").data("kendoComboBox"),Q=R.keyCode;if(Q==I.RIGHT||Q==I.LEFT){S.close()}else{if(Q==I.DOWN){if(!S.dropDown.isOpened()){R.stopImmediatePropagation();S.open()}}}});N._attachEvents();N.items().each(function P(){var W=N._toolName(this),T=N.tools[W],U=T&&T.options,S=O.options.messages,R=U&&U.tooltip||S[W],Q=J(this);if(!T||!T.initialize){return}if(W=="fontSize"||W=="fontName"){var V=S[W+"Inherit"];Q.find("input").val(V).end().find("span.k-input").text(V).end()}T.initialize(Q,{title:N._appendShortcutSequence(R,T),editor:N._editor});Q.closest(".k-widget",N.element).addClass("k-editor-widget");Q.closest(".k-colorpicker",N.element).next(".k-colorpicker").addClass("k-editor-widget")});O.bind("select",D(N._update,N));N._updateContext();if(M){M.wrapper.css({top:"",left:"",width:""})}},show:function(){var P=this,M=P.window,Q=P.options.editor,O,N;if(M){O=M.wrapper;N=Q.element;if(!O.is(":visible")||!P.window.options.visible){if(!O[0].style.width){O.width(N.outerWidth()-parseInt(O.css("border-left-width"),10)-parseInt(O.css("border-right-width"),10))}if(!M._moved){O.css("top",parseInt(N.offset().top,10)-O.outerHeight()-parseInt(P.window.element.css("padding-bottom"),10));O.css("left",parseInt(N.offset().left,10))}M.open()}}},hide:function(){if(this.window){this.window.close()}},focus:function(){var M="tabIndex";var N=this.element;var O=this._editor.element.attr(M);N.attr(M,O||0).focus().find(B).first().focus();if(!O&&O!==0){N.removeAttr(M)}},_appendShortcutSequence:function(O,M){if(!M.key){return O}var N=O+" (";if(M.ctrl){N+="Ctrl + "}if(M.shift){N+="Shift + "}if(M.alt){N+="Alt + "}N+=M.key+")";return N},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(M){return !(M in C.ui.Editor.defaultTools)},expandTools:function(P){var O,Q,N=this._nativeTools,R,T=C.deepExtend({},C.ui.Editor.defaultTools),M={},S;for(Q=0;Q<P.length;Q++){O=P[Q];S=O.name;if(J.isPlainObject(O)){if(S&&T[S]){M[S]=F({},T[S]);F(M[S].options,O)}else{R=F({cssClass:"k-i-custom",type:"button",title:""},O);if(!R.name){R.name="custom"}R.cssClass="k-"+(R.name=="custom"?"i-custom":R.name);if(!R.template&&R.type=="button"){R.template=G.EditorUtils.buttonTemplate;R.title=R.title||R.tooltip}M[S]={options:R}}}else{if(T[O]){M[O]=T[O]}}}for(Q=0;Q<N.length;Q++){if(!M[N[Q]]){M[N[Q]]=T[N[Q]]}}return M},render:function(){var a=this,Q=a.tools,V,c,S,T,O=a._editor.element,X=a.element.empty(),b,R,P=a._editor.options.tools,N=C.support.browser,W,Z;function M(e){var d;if(e.getHtml){d=e.getHtml()}else{if(!J.isFunction(e)){e=C.template(e)}d=e(V)}return J.trim(d)}function Y(){if(W.children().length){W.appendTo(X)}}function U(){W=J("<li class='k-tool-group' role='presentation' />")}X.empty();U();for(Z=0;Z<P.length;Z++){T=P[Z].name||P[Z];V=Q[T]&&Q[T].options;if(!V&&J.isPlainObject(T)){V=T}c=V&&V.template;if(T=="break"){Y();J("<li class='k-row-break' />").appendTo(a.element);U()}if(!c){continue}R=a.toolGroupFor(T);if(b!=R){Y();U();b=R}c=M(c);S=J(c).appendTo(W);if(R=="custom"){Y();U()}if(V.exec&&S.hasClass("k-tool")){S.click(D(V.exec,O[0]))}}Y();J(a.element).children(":has(> .k-tool)").addClass("k-button-group");if(a.options.popup&&N.msie&&N.version<9){a.window.wrapper.find("*").attr("unselectable","on")}this.updateGroups()},updateGroups:function(){J(this.element).children().each(function(){J(this).children().filter(function(){return this.style.display!=="none"}).first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},destroy:function(){H.fn.destroy.call(this);var N,M=this.tools;for(N in M){if(M[N].destroy){M[N].destroy()}}if(this.window){this.window.destroy()}},_attachEvents:function(){var O=this,P="[role=button].k-tool",N=P+":not(.k-state-disabled)",M=P+".k-state-disabled";O.element.off(E).on("mouseenter"+E,N,function(){J(this).addClass("k-state-hover")}).on("mouseleave"+E,N,function(){J(this).removeClass("k-state-hover")}).on("mousedown"+E,P,function(Q){Q.preventDefault()}).on("keydown"+E,B,function(Q){var S=this;var R,T=Q.keyCode;function U(X,Y){var V=O.element.find(B);var W=V.index(S)+X;if(Y){W=Math.max(0,Math.min(V.length-1,W))}return V[W]}if(T==I.RIGHT||T==I.LEFT){if(!J(S).hasClass(".k-dropdown")){R=U(T==I.RIGHT?1:-1,true)}}else{if(T==I.ESC){R=O._editor}else{if(T==I.TAB&&!(Q.ctrlKey||Q.altKey)){if(Q.shiftKey){R=U(-1)}else{R=U(1);if(!R){R=O._editor}}}}}if(R){Q.preventDefault();R.focus()}}).on("click"+E,N,function(R){var Q=J(this);R.preventDefault();R.stopPropagation();Q.removeClass("k-state-hover");if(!Q.is("[data-popup]")){O._editor.exec(O._toolName(this))}}).on("click"+E,M,function(Q){Q.preventDefault()})},_toolName:function(O){if(!O){return}var M=O.className;if(/k-tool\b/i.test(M)){M=O.firstChild.className}var N=J.grep(M.split(" "),function(P){return !/^k-(widget|tool|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(P)});return N[0]?N[0].substring(N[0].lastIndexOf("-")+1):"custom"},_update:function(){var M=this,O=M._editor,P=O.getRange(),N=C.ui.editor.RangeUtils.textNodes(P);if(!N.length){N=[P.startContainer]}M.items().each(function(){var Q=M.tools[M._toolName(this)];if(Q&&Q.update){Q.update(J(this),N)}});this._updateContext()},_updateContext:function(){this.element.children().children().each(function(){var M=J(this);M.css("display",M.hasClass("k-state-disabled")?"none":"")});this.updateGroups()}});J.extend(G,{Toolbar:K})})(window.jQuery);(function(W,V){var N=window.kendo,M=W.extend,P=W.proxy,K=N.ui.editor,L=K.Dom,X=K.EditorUtils,Z=K.Command,O=".kendoEditor",G="k-state-active",E="k-state-selected",B=K.Tool,H=K.ToolTemplate,T=K.BlockFormatFinder,U=K.EditorUtils.registerTool;var R="<td contentEditable='true'>"+K.emptyElementContent+"</td>";var Q=new T([{tags:["table"]}]);var J=Z.extend({_tableHtml:function(a,b){a=a||1;b=b||1;return"<table class='k-table' contentEditable='false' data-last>"+new Array(a+1).join("<tr>"+new Array(b+1).join(R)+"</tr>")+"</table>"},exec:function(){var b=this.options,d=this.editor,e,c=this._tableHtml(b.rows,b.columns),a;d.selectRange(b.range);d.clipboard.paste(c);e=d.getRange();a=W("table[data-last]",d.document).removeAttr("data-last");e.selectNodeContents(a.find("td")[0]);d.selectRange(e)}});var D=B.extend({initialize:function(a,b){B.fn.initialize.call(this,a,b);var c=W(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:a,copyAnchorStyles:false,open:P(this._open,this),activate:P(this._activate,this),close:P(this._close,this)}).data("kendoPopup");a.click(P(this._toggle,this));this._editor=b.editor;this._popup=c},popup:function(){return this._popup},_activate:W.noop,_open:function(){this._popup.options.anchor.addClass(G)},_close:function(){this._popup.options.anchor.removeClass(G)},_toggle:function(b){var a=W(b.target).closest(".k-tool");if(!a.hasClass("k-state-disabled")){this.popup().toggle()}},update:function(a){this.popup().close();a.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}});var Y=D.extend({init:function(a){this.cols=8;this.rows=6;D.fn.init.call(this,W.extend(a,{command:J,popupTemplate:"<div class='k-ct-popup'>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'>Cancel</div></div>"}))},_activate:function(){var i=this,c=i._popup.element,k=c.find(".k-status"),l=c.find(".k-ct-cell"),n=l.eq(0),h=l.eq(l.length-1),d=N.getOffset(n),f=N.getOffset(h),g=i.cols,b=i.rows,e,j;f.left+=h[0].offsetWidth;f.top+=h[0].offsetHeight;e=(f.left-d.left)/g;j=(f.top-d.top)/b;function a(o){var p=W(window);return{row:Math.floor((o.clientY+p.scrollTop()-d.top)/j)+1,col:Math.floor((o.clientX+p.scrollLeft()-d.left)/e)+1}}function m(o){return o.row>0&&o.col>0&&o.row<=b&&o.col<=g}c.on("mousemove"+O,function(o){var p=a(o);if(m(p)){k.text(N.format("Create a {0} x {1} table",p.row,p.col));l.each(function(q){W(this).toggleClass(E,q%g<p.col&&q/g<p.row)})}else{k.text("Cancel");l.removeClass(E)}}).on("mouseleave"+O,function(){l.removeClass(E);k.text("Cancel")}).on("mouseup"+O,function(o){var p=a(o);if(m(p)){i._editor.exec("createTable",{rows:p.row,columns:p.col});i._popup.close()}})},_open:function(){D.fn._open.call(this);this.popup().element.find(".k-ct-cell").removeClass(E)},_close:function(){D.fn._close.call(this);this.popup().element.off(O)},update:function(a,b){var c;D.fn.update.call(this,a);c=Q.isFormatted(b);a.toggleClass("k-state-disabled",c)}});var S=Z.extend({exec:function(){var f=this.lockRange(true),d=f.endContainer,b,c,e;while(L.name(d)!="td"){d=d.parentNode}c=d.parentNode;b=c.children.length;e=c.cloneNode(true);for(var a=0;a<c.cells.length;a++){e.cells[a].innerHTML=K.emptyElementContent}if(this.options.position=="before"){L.insertBefore(e,c)}else{L.insertAfter(e,c)}this.releaseRange(f)}});var A=Z.extend({exec:function(){var h=this.lockRange(true),d=L.closest(h.endContainer,"td"),j=L.closest(d,"table"),a,e,c=j.rows,g,b,f=this.options.position;a=L.findNodeIndex(d);for(e=0;e<c.length;e++){g=c[e].cells[a];b=g.cloneNode();b.innerHTML=K.emptyElementContent;if(f=="before"){L.insertBefore(b,g)}else{L.insertAfter(b,g)}}this.releaseRange(h)}});var F=Z.extend({exec:function(){var e=this.lockRange(),c=L.closest(e.endContainer,"tr"),d=L.closest(c,"table"),b=d.rows.length,a;if(b==1){a=L.next(d)||L.prev(d);L.remove(d)}else{L.removeTextSiblings(c);a=L.next(c)||L.prev(c);a=a.cells[0];L.remove(c)}if(a){e.setStart(a,0);e.collapse(true);this.editor.selectRange(e)}}});var C=Z.extend({exec:function(){var f=this.lockRange(),d=L.closest(f.endContainer,"td"),h=L.closest(d,"table"),c=h.rows,a=L.findNodeIndex(d,true),b=c[0].cells.length,g,e;if(b==1){g=L.next(h)||L.prev(h);L.remove(h)}else{L.removeTextSiblings(d);g=L.next(d)||L.prev(d);for(e=0;e<c.length;e++){L.remove(c[e].cells[a])}}if(g){f.setStart(g,0);f.collapse(true);this.editor.selectRange(f)}}});var I=B.extend({command:function(a){a=M(a,this.options);if(a.action=="delete"){if(a.type=="row"){return new F(a)}else{return new C(a)}}else{if(a.type=="row"){return new S(a)}else{return new A(a)}}},initialize:function(a,b){B.fn.initialize.call(this,a,b);a.addClass("k-state-disabled")},update:function(a,b){var c=!Q.isFormatted(b);a.toggleClass("k-state-disabled",c)}});M(N.ui.editor,{PopupTool:D,TableCommand:J,InsertTableTool:Y,TableModificationTool:I,InsertRowCommand:S,InsertColumnCommand:A,DeleteRowCommand:F,DeleteColumnCommand:C});U("createTable",new Y({template:new H({template:X.buttonTemplate,popup:true,title:"Create table"})}));U("addColumnLeft",new I({type:"column",position:"before",template:new H({template:X.buttonTemplate,title:"Add column on the left"})}));U("addColumnRight",new I({type:"column",template:new H({template:X.buttonTemplate,title:"Add column on the right"})}));U("addRowAbove",new I({type:"row",position:"before",template:new H({template:X.buttonTemplate,title:"Add row above"})}));U("addRowBelow",new I({type:"row",template:new H({template:X.buttonTemplate,title:"Add row below"})}));U("deleteRow",new I({type:"row",action:"delete",template:new H({template:X.buttonTemplate,title:"Delete row"})}));U("deleteColumn",new I({type:"column",action:"delete",template:new H({template:X.buttonTemplate,title:"Delete column"})}))})(window.kendo.jQuery);kendo_module({id:"numerictextbox",name:"NumericTextBox",category:"web",description:"The NumericTextBox widget can format and display numeric, percentage or currency textbox.",depends:["core","userevents"]});(function(V,W){var P=window.kendo,O=P.keys,c=P.ui,N=c.Widget,T=P._activeElement,g=P._extractFormat,A=P.parseFloat,h=P.support.placeholder,j=P.getCulture,i=P._round,M="change",J="disabled",I="readonly",f="k-input",a="spin",C=".kendoNumericTextBox",F="touchend",Y="mouseleave"+C,Z="mouseenter"+C+" "+Y,b="k-state-default",B="k-state-focused",X="k-state-hover",H="focus",G=".",L="k-state-selected",R="k-state-disabled",Q="aria-disabled",d="aria-readonly",U=/^(-)?(\d*)$/,E=null,S=V.proxy;var e=N.extend({init:function(l,s){var r=this,k=s&&s.step!==W,m,n,o,q,p;N.fn.init.call(r,l,s);s=r.options;l=r.element.on("blur"+C,S(r._focusout,r)).attr("role","spinbutton");s.placeholder=s.placeholder||l.attr("placeholder");r._reset();r._wrapper();r._arrows();r._input();if(!P.support.mobileOS){r._text.on(H+C,S(r._click,r))}else{r._text.on(F+C+" "+H+C,function(t){r._toggleText(false);if(t.type===H){l.focus()}})}m=r.min(l.attr("min"));n=r.max(l.attr("max"));o=r._parse(l.attr("step"));if(s.min===E&&m!==E){s.min=m}if(s.max===E&&n!==E){s.max=n}if(!k&&o!==E){s.step=o}l.attr("aria-valuemin",s.min).attr("aria-valuemax",s.max);s.format=g(s.format);q=s.value;r.value(q!==E?q:l.val());p=l.is("[disabled]");if(p){r.enable(false)}else{r.readonly(l.is("[readonly]"))}P.notify(r)},options:{name:"NumericTextBox",decimals:E,min:E,max:E,value:E,step:1,culture:"",format:"n",spinners:true,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[M,a],_editable:function(o){var m=this,p=m.element,n=o.disable,q=o.readonly,k=m._text.add(p),l=m._inputWrapper.off(Z);m._toggleText(true);m._upArrowEventHandler.unbind("press");m._downArrowEventHandler.unbind("press");p.off("keydown"+C).off("keypress"+C).off("paste"+C);if(!q&&!n){l.addClass(b).removeClass(R).on(Z,m._toggleHover);k.removeAttr(J).removeAttr(I).attr(Q,false).attr(d,false);m._upArrowEventHandler.bind("press",function(r){r.preventDefault();m._spin(1);m._upArrow.addClass(L)});m._downArrowEventHandler.bind("press",function(r){r.preventDefault();m._spin(-1);m._downArrow.addClass(L)});m.element.on("keydown"+C,S(m._keydown,m)).on("keypress"+C,S(m._keypress,m)).on("paste"+C,S(m._paste,m))}else{l.addClass(n?R:b).removeClass(n?b:R);k.attr(J,n).attr(I,q).attr(Q,n).attr(d,q)}},readonly:function(k){this._editable({readonly:k===W?true:k,disable:false})},enable:function(k){this._editable({readonly:false,disable:!(k=k===W?true:k)})},destroy:function(){var k=this;k.element.add(k._text).add(k._upArrow).add(k._downArrow).add(k._inputWrapper).off(C);k._upArrowEventHandler.destroy();k._downArrowEventHandler.destroy();if(k._form){k._form.off("reset",k._resetHandler)}N.fn.destroy.call(k)},min:function(k){return this._option("min",k)},max:function(k){return this._option("max",k)},step:function(k){return this._option("step",k)},value:function(m){var l=this,k;if(m===W){return l._value}m=l._parse(m);k=l._adjust(m);if(m!==k){return}l._update(m);l._old=l._value},focus:function(){this._focusin()},_adjust:function(n){var l=this,m=l.options,k=m.min,o=m.max;if(n===E){return n}if(k!==E&&n<k){n=k}else{if(o!==E&&n>o){n=o}}return n},_arrows:function(){var k=this,l,p=function(){clearTimeout(k._spinning);l.removeClass(L)},m=k.options,n=m.spinners,o=k.element;l=o.siblings(".k-icon");if(!l[0]){l=V(K("n",m.upArrowText)+K("s",m.downArrowText)).insertAfter(o);l.wrapAll('<span class="k-select"/>')}if(!n){l.parent().toggle(n);k._inputWrapper.addClass("k-expand-padding")}k._upArrow=l.eq(0);k._upArrowEventHandler=new P.UserEvents(k._upArrow,{release:p});k._downArrow=l.eq(1);k._downArrowEventHandler=new P.UserEvents(k._downArrow,{release:p})},_blur:function(){var k=this;k._toggleText(true);k._change(k.element.val())},_click:function(k){var l=this;clearTimeout(l._focusing);l._focusing=setTimeout(function(){var u=k.target,q=D(u)[0],r=u.value.substring(0,q),o=l._format(l.options.format),s=o[","],n,m,p,t=0;if(s){m=new RegExp("\\"+s,"g");p=new RegExp("([\\d\\"+s+"]+)(\\"+o[G]+")?(\\d+)?")}if(p){n=p.exec(r)}if(n){t=n[0].replace(m,"").length;if(r.indexOf("(")!=-1&&l._value<0){t++}}l._focusin();D(l.element[0],t)})},_change:function(l){var k=this;k._update(l);l=k._value;if(k._old!=l){k._old=l;k.trigger(M);k.element.trigger(M)}},_culture:function(k){return k||j(this.options.culture)},_focusin:function(){var k=this;k._inputWrapper.addClass(B);k._toggleText(false);k.element[0].focus()},_focusout:function(){var k=this;clearTimeout(k._focusing);k._inputWrapper.removeClass(B).removeClass(X);k._blur()},_format:function(k,m){var l=this._culture(m).numberFormat;k=k.toLowerCase();if(k.indexOf("c")>-1){l=l.currency}else{if(k.indexOf("p")>-1){l=l.percent}}return l},_input:function(){var l=this,o="k-formatted-value",p=l.element.addClass(f).show()[0],k=p.accessKey,q=l.wrapper,n;n=q.find(G+o);if(!n[0]){n=V('<input type="text"/>').insertBefore(p).addClass(o)}try{p.setAttribute("type","text")}catch(m){p.type="text"}n[0].tabIndex=p.tabIndex;n[0].style.cssText=p.style.cssText;n.prop("placeholder",l.options.placeholder);if(k){n.attr("accesskey",k);p.accessKey=""}l._text=n.addClass(p.className)},_keydown:function(l){var m=this,k=l.keyCode;if(k==O.DOWN){m._step(-1)}else{if(k==O.UP){m._step(1)}else{if(k==O.ENTER){m._change(m.element.val())}}}},_keypress:function(k){if(k.which===0||k.keyCode===O.BACKSPACE){return}var n=this.element;var l=String.fromCharCode(k.which);var q=D(n[0]);var r=q[0];var p=q[1];var m=this.options.min;var o=n.val();o=o.substring(0,r)+l+o.substring(p);if((m!==null&&m>=0&&o.charAt(0)==="-")||!this._numericRegex().test(o)){k.preventDefault()}},_numericRegex:function(){var l=this;var n=l.options;var m=l._format(n.format);var o=m[G];var k=n.decimals;if(o===G){o="\\"+o}if(k===E){k=m.decimals}if(k===0){return U}if(l._separator!==o){l._separator=o;l._floatRegExp=new RegExp("^(-)?(((\\d+("+o+"\\d*)?)|("+o+"\\d*)))?$")}return l._floatRegExp},_paste:function(k){var l=this,n=k.target,m=n.value;setTimeout(function(){if(l._parse(n.value)===E){l._update(m)}})},_option:function(k,n){var l=this,m=l.options;if(n===W){return m[k]}n=l._parse(n);if(!n&&k==="step"){return}m[k]=n;l.element.attr("aria-value"+k,n).attr(k,n)},_spin:function(k,m){var l=this;m=m||500;clearTimeout(l._spinning);l._spinning=setTimeout(function(){l._spin(k,50)},m);l._step(k)},_step:function(k){var l=this,n=l.element,m=l._parse(n.val())||0;if(T()!=n[0]){l._focusin()}m+=l.options.step*k;l._update(l._adjust(m));l.trigger(a)},_toggleHover:function(k){V(k.currentTarget).toggleClass(X,k.type==="mouseenter")},_toggleText:function(l){var k=this;k._text.toggle(l);k.element.toggle(!l)},_parse:function(l,k){return A(l,this._culture(k),this.options.format)},_update:function(o){var p=this,q=p.options,l=q.format,r=q.decimals,n=p._culture(),k=p._format(l,n),m;if(r===E){r=k.decimals}o=p._parse(o,n);m=o!==E;if(m){o=parseFloat(i(o,r))}p._value=o=p._adjust(o);p._placeholder(P.toString(o,l,n));if(m){o=o.toString();if(o.indexOf("e")!==-1){o=i(+o,r)}o=o.replace(G,k[G])}else{o=""}p.element.val(o).attr("aria-valuenow",o)},_placeholder:function(k){this._text.val(k);if(!h&&!k){this._text.val(this.options.placeholder)}},_wrapper:function(){var l=this,m=l.element,n=m[0],k;k=m.parents(".k-numerictextbox");if(!k.is("span.k-numerictextbox")){k=m.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent();k=k.wrap("<span/>").parent()}k[0].style.cssText=n.style.cssText;n.style.width="";l.wrapper=k.addClass("k-widget k-numerictextbox").addClass(n.className).css("display","");l._inputWrapper=V(k[0].firstChild)},_reset:function(){var m=this,n=m.element,l=n.attr("form"),k=l?V("#"+l):n.closest("form");if(k[0]){m._resetHandler=function(){setTimeout(function(){m.value(n[0].value)})};m._form=k.on("reset",m._resetHandler)}}});function K(k,l){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+k+'" title="'+l+'">'+l+"</span></span>"}function D(k,n){var q,p=n!==W;if(k.selectionStart!==W){if(p){k.focus();k.setSelectionRange(n,n)}else{n=[k.selectionStart,k.selectionEnd]}}else{if(document.selection){if(V(k).is(":visible")){k.focus()}q=document.selection.createRange();if(p){q.move("character",n);q.select()}else{var l=k.createTextRange(),r=l.duplicate(),o,m;l.moveToBookmark(q.getBookmark());r.setEndPoint("EndToStart",l);o=r.text.length;m=o+l.text.length;n=[o,m]}}}return n}c.plugin(e)})(window.kendo.jQuery);kendo_module({id:"menu",name:"Menu",category:"web",description:"The Menu widget displays hierarchical data as a multi-level menu.",depends:["popup"]});(function(i,l){var X=window.kendo,q=X.ui,b=X._activeElement,Aa=(X.support.touch&&X.support.mobileOS),o="mousedown",Y="click",Ab=i.extend,Af=i.proxy,S=i.each,n=X.template,V=X.keys,T=q.Widget,a=/^(ul|a|div)$/i,Ad=".kendoMenu",M="img",K="open",h="k-menu",w="k-link",N="k-last",U="close",O="timer",Q="k-first",F="k-image",J="select",E="zIndex",A="activate",Z="deactivate",G="touchstart"+Ad+" MSPointerDown"+Ad+" pointerdown"+Ad,v=X.support.pointers,f=X.support.msPointers,e=v?"pointerover":(f?"MSPointerOver":"mouseenter"),j=v?"pointerout":(f?"MSPointerOut":"mouseleave"),y=Aa||f||v,z="kendoPopup",P="k-state-default",D="k-state-hover",k="k-state-focused",p="k-state-disabled",Ac=".k-group",x=":not(.k-list) > .k-item",r=".k-item.k-state-disabled",u=".k-item:not(.k-state-disabled)",H=".k-item:not(.k-state-disabled) > .k-link",R=":not(.k-item.k-separator)",Ae=R+":eq(0)",I=R+":last",t="div:not(.k-animation-container,.k-list-container)",s={content:n("<div class='k-content k-group' tabindex='-1'>#= content(item) #</div>"),group:n("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:n("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:n("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:n("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:n("<span class='#= arrowClass(item, group) #'></span>"),sprite:n("<span class='k-sprite #= spriteCssClass #'></span>"),empty:n("")},L={wrapperCssClass:function(Ag,Ai){var Ah="k-item",Aj=Ai.index;if(Ai.enabled===false){Ah+=" k-state-disabled"}else{Ah+=" k-state-default"}if(Ag.firstLevel&&Aj===0){Ah+=" k-first"}if(Aj==Ag.length-1){Ah+=" k-last"}if(Ai.cssClass){Ah+=" "+Ai.cssClass}return Ah},textClass:function(){return w},textAttributes:function(Ag){return Ag.url?" href='"+Ag.url+"'":""},arrowClass:function(Ai,Ag){var Ah="k-icon";if(Ag.horizontal){Ah+=" k-i-arrow-s"}else{Ah+=" k-i-arrow-e"}return Ah},text:function(Ag){return Ag.encoded===false?Ag.text:X.htmlEncode(Ag.text)},tag:function(Ag){return Ag.url?"a":"span"},groupAttributes:function(Ag){return Ag.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group"},content:function(Ag){return Ag.content?Ag.content:"&nbsp;"}};function W(Ah,Ag){Ah=Ah.split(" ")[!Ag+0]||Ah;return Ah.replace("top","up").replace("bottom","down")}function g(Aj,Ah,Ag){Aj=Aj.split(" ")[!Ah+0]||Aj;var Ak={origin:["bottom",(Ag?"right":"left")],position:["top",(Ag?"right":"left")]},Ai=/left|right/.test(Aj);if(Ai){Ak.origin=["top",Aj];Ak.position[1]=X.directions[Aj].reverse}else{Ak.origin[0]=Aj;Ak.position[0]=X.directions[Aj].reverse}Ak.origin=Ak.origin.join(" ");Ak.position=Ak.position.join(" ");return Ak}function d(Ai,Ah){try{return i.contains(Ai,Ah)}catch(Ag){return false}}function B(Ag){Ag=i(Ag);Ag.addClass("k-item").children(M).addClass(F);Ag.children("a").addClass(w).children(M).addClass(F);Ag.filter(":not([disabled])").addClass(P);Ag.filter(".k-separator:empty").append("&nbsp;");Ag.filter("li[disabled]").addClass(p).removeAttr("disabled").attr("aria-disabled",true);if(!Ag.filter("[role]").length){Ag.attr("role","menuitem")}if(!Ag.children("."+w).length){Ag.contents().filter(function(){return(!this.nodeName.match(a)&&!(this.nodeType==3&&!i.trim(this.nodeValue)))}).wrapAll("<span class='"+w+"'/>")}m(Ag);C(Ag)}function m(Ag){Ag=i(Ag);Ag.find("> .k-link > [class*=k-i-arrow]").remove();Ag.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var Ah=i(this),Ai=Ah.parent().parent();Ah.append("<span class='k-icon "+(Ai.hasClass(h+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function C(Ag){Ag=i(Ag);Ag.filter(".k-first:not(:first-child)").removeClass(Q);Ag.filter(".k-last:not(:last-child)").removeClass(N);Ag.filter(":first-child").addClass(Q);Ag.filter(":last-child").addClass(N)}var c=T.extend({init:function(Ai,Ah){var Ag=this;T.fn.init.call(Ag,Ai,Ah);Ai=Ag.wrapper=Ag.element;Ah=Ag.options;Ag._initData(Ah);Ag._updateClasses();Ag._animations(Ah);Ag.nextItemZIndex=100;Ag._tabindex();Ag._focusProxy=Af(Ag._focusHandler,Ag);Ai.on(G,Ag._focusProxy).on(Y+Ad,r,false).on(Y+Ad,u,Af(Ag._click,Ag)).on("keydown"+Ad,Af(Ag._keydown,Ag)).on("focus"+Ad,Af(Ag._focus,Ag)).on("focus"+Ad,".k-content",Af(Ag._focus,Ag)).on(G+" "+o+Ad,".k-content",Af(Ag._preventClose,Ag)).on("blur"+Ad,Af(Ag._removeHoverItem,Ag)).on("blur"+Ad,"[tabindex]",Af(Ag._checkActiveElement,Ag)).on(e+Ad,u,Af(Ag._mouseenter,Ag)).on(j+Ad,u,Af(Ag._mouseleave,Ag)).on(e+Ad+" "+j+Ad+" "+o+Ad+" "+Y+Ad,H,Af(Ag._toggleHover,Ag));if(Ah.openOnClick){Ag.clicked=false;Ag._documentClickHandler=Af(Ag._documentClick,Ag);i(document).click(Ag._documentClickHandler)}Ai.attr("role","menubar");if(Ai[0].id){Ag._ariaId=X.format("{0}_mn_active",Ai[0].id)}X.notify(Ag)},events:[K,U,A,Z,J],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:false,closeOnClick:true,hoverDelay:100},_initData:function(Ah){var Ag=this;if(Ah.dataSource){Ag.element.empty();Ag.append(Ah.dataSource,Ag.element)}},setOptions:function(Ah){var Ag=this.options.animation;this._animations(Ah);Ah.animation=Ab(true,Ag,Ah.animation);if("dataSource" in Ah){this._initData(Ah)}T.fn.setOptions.call(this,Ah)},destroy:function(){var Ag=this;T.fn.destroy.call(Ag);Ag.element.off(Ad);if(Ag._documentClickHandler){i(document).unbind("click",Ag._documentClickHandler)}},enable:function(Ag,Ah){this._toggleDisabled(Ag,Ah!==false);return this},disable:function(Ag){this._toggleDisabled(Ag,false);return this},append:function(Ai,Ag){Ag=this.element.find(Ag);var Ah=this._insert(Ai,Ag,Ag.length?Ag.find("> .k-group, > .k-animation-container > .k-group"):null);S(Ah.items,function(){Ah.group.append(this);m(this)});m(Ag);C(Ah.group.find(".k-first, .k-last").add(Ah.items));return this},insertBefore:function(Ai,Ag){Ag=this.element.find(Ag);var Ah=this._insert(Ai,Ag,Ag.parent());S(Ah.items,function(){Ag.before(this);m(this);C(this)});C(Ag);return this},insertAfter:function(Ai,Ag){Ag=this.element.find(Ag);var Ah=this._insert(Ai,Ag,Ag.parent());S(Ah.items,function(){Ag.after(this);m(this);C(this)});C(Ag);return this},_insert:function(An,Ah,Am){var Ai=this,Al,Aj;if(!Ah||!Ah.length){Am=Ai.element}var Ak=i.isPlainObject(An),Ag={firstLevel:Am.hasClass(h),horizontal:Am.hasClass(h+"-horizontal"),expanded:true,length:Am.children().length};if(Ah&&!Am.length){Am=i(c.renderGroup({group:Ag})).appendTo(Ah)}if(Ak||i.isArray(An)){Al=i(i.map(Ak?[An]:An,function(Ap,Ao){if(typeof Ap==="string"){return i(Ap).get()}else{return i(c.renderItem({group:Ag,item:Ab(Ap,{index:Ao})})).get()}}))}else{Al=i(An);Aj=Al.find("> ul").addClass("k-group").attr("role","menu");Al=Al.filter("li");Al.add(Aj.find("> li")).each(function(){B(this)})}return{items:Al,group:Am}},remove:function(Aj){Aj=this.element.find(Aj);var Ah=this,Ak=Aj.parentsUntil(Ah.element,x),Ag=Aj.parent("ul");Aj.remove();if(Ag&&!Ag.children(x).length){var Ai=Ag.parent(".k-animation-container");if(Ai.length){Ai.remove()}else{Ag.remove()}}if(Ak.length){Ak=Ak.eq(0);m(Ak);C(Ak)}return Ah},open:function(Ak){var Ah=this,Ai=Ah.options,Aj=Ai.orientation=="horizontal",Al=Ai.direction,Ag=X.support.isRtl(Ah.wrapper);Ak=Ah.element.find(Ak);if(/^(top|bottom|default)$/.test(Al)){if(Ag){Al=Aj?(Al+" left").replace("default","bottom"):"left"}else{Al=Aj?(Al+" right").replace("default","bottom"):"right"}}Ak.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var Am=i(this).data("kendoPopup");if(Am){Am.close()}});Ak.each(function(){var Am=i(this);clearTimeout(Am.data(O));Am.data(O,setTimeout(function(){var As=Am.find(".k-group:first:hidden"),At;if(As[0]&&Ah.trigger(K,{item:Am[0]})===false){if(!As.find(".k-group")[0]&&As.children(".k-item").length>1){As.css({maxHeight:i(window).height(),overflow:"auto"})}else{As.css({maxHeight:"",overflow:""})}Am.data(E,Am.css(E));Am.css(E,Ah.nextItemZIndex++);At=As.data(z);var Ap=Am.parent().hasClass(h),Ao=Ap&&Aj,Ar=g(Al,Ap,Ag),Aq=Ai.animation.open.effects,An=Aq!==l?Aq:"slideIn:"+W(Al,Ap);if(!At){At=As.kendoPopup({activate:function(){Ah.trigger(A,{item:this.wrapper.parent()})},deactivate:function(){Ah.trigger(Z,{item:this.wrapper.parent()})},origin:Ar.origin,position:Ar.position,collision:Ai.popupCollision!==l?Ai.popupCollision:(Ao?"fit":"fit flip"),anchor:Am,appendTo:Am,animation:{open:Ab(true,{effects:An},Ai.animation.open),close:Ai.animation.close},close:function(Au){var Av=Au.sender.wrapper.parent();if(!Ah.trigger(U,{item:Av[0]})){Av.css(E,Av.data(E));Av.removeData(E);if(y){Av.removeClass(D);Ah._removeHoverItem()}}else{Au.preventDefault()}}}).data(z)}else{At=As.data(z);At.options.origin=Ar.origin;At.options.position=Ar.position;At.options.animation.open.effects=An}As.removeAttr("aria-hidden");At.open()}},Ah.options.hoverDelay))});return Ah},close:function(Ah){var Ag=this,Ai=Ag.element;Ah=Ai.find(Ah);if(!Ah.length){Ah=Ai.find(">.k-item")}Ah.each(function(){var Aj=i(this);clearTimeout(Aj.data(O));Aj.data(O,setTimeout(function(){var Ak=Aj.find(".k-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(z);if(Ak){Ak.close();Ak.element.attr("aria-hidden",true)}},Ag.options.hoverDelay))});return Ag},_toggleDisabled:function(Ag,Ah){this.element.find(Ag).each(function(){i(this).toggleClass(P,Ah).toggleClass(p,!Ah).attr("aria-disabled",!Ah)})},_toggleHover:function(Ah){var Ai=i(X.eventTarget(Ah)||Ah.target).closest(x),Ag=Ah.type==e||o.indexOf(Ah.type)!==-1;if(!Ai.parents("li."+p).length){Ai.toggleClass(D,Ag||Ah.type=="mousedown"||Ah.type=="click")}this._removeHoverItem()},_preventClose:function(){if(!this.options.closeOnClick){this._closurePrevented=true}},_checkActiveElement:function(Ah){var Ai=this,Ag=i(Ah?Ah.currentTarget:this._hoverItem()),Aj=Ai._findRootParent(Ag)[0];if(!this._closurePrevented){setTimeout(function(){if(!document.hasFocus()||(!d(Aj,X._activeElement())&&Ah&&!d(Aj,Ah.currentTarget))){Ai.close(Aj)}},0)}this._closurePrevented=false},_removeHoverItem:function(){var Ag=this._hoverItem();if(Ag&&Ag.hasClass(k)){Ag.removeClass(k);this._oldHoverItem=null}},_updateClasses:function(){var Ah=this.element,Ag;Ah.addClass("k-widget k-reset k-header "+h).addClass(h+"-"+this.options.orientation);Ah.find("li > ul").addClass("k-group").attr("role","menu").attr("aria-hidden",Ah.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1");Ag=Ah.find("> li,.k-group > li");Ag.each(function(){B(this)})},_mouseenter:function(Ag){var Ah=this,Ai=i(Ag.currentTarget),Aj=(Ai.children(".k-animation-container").length||Ai.children(Ac).length);if(Ag.delegateTarget!=Ai.parents(".k-menu")[0]){return}if((!Ah.options.openOnClick||Ah.clicked)&&!Aa){if(!d(Ag.currentTarget,Ag.relatedTarget)&&Aj){Ah.open(Ai)}}if(Ah.options.openOnClick&&Ah.clicked||y){Ai.siblings().each(Af(function(Al,Ak){Ah.close(Ak)},Ah))}},_mouseleave:function(Ag){var Ah=this,Ai=i(Ag.currentTarget),Aj=(Ai.children(".k-animation-container").length||Ai.children(Ac).length);if(Ai.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]){Ag.stopImmediatePropagation();return}if(!Ah.options.openOnClick&&!Aa&&!((v||f)&&Ag.originalEvent.pointerType==Ag.originalEvent.MSPOINTER_TYPE_TOUCH)&&!d(Ag.currentTarget,Ag.relatedTarget||Ag.target)&&Aj){Ah.close(Ai)}},_click:function(Ag){var Al=this,Ak,Am=Al.options,Ao=i(X.eventTarget(Ag)),Aj=Ao[0]?Ao[0].nodeName.toUpperCase():"",Ap=(Aj=="INPUT"||Aj=="SELECT"||Aj=="BUTTON"||Aj=="LABEL"),Ah=Ao.closest("."+w),An=Ao.closest(x),Ar=Ah.attr("href"),Ai,As,Aq=(!!Ar&&Ar!==i("<a href='#' />").attr("href"));if(An.children(t)[0]){return}if(An.hasClass(p)){Ag.preventDefault();return}if(!Ag.handled&&Al.trigger(J,{item:An[0]})&&!Ap){Ag.preventDefault()}Ag.handled=true;Ai=An.children(Ac+",.k-animation-container");As=Ai.is(":visible");if(Am.closeOnClick&&!Aq&&(!Ai.length||(Am.openOnClick&&As))){An.removeClass(D).css("height");Al._oldHoverItem=Al._findRootParent(An);Al.close(Ah.parentsUntil(Al.element,x));Al.clicked=false;if("MSPointerUp".indexOf(Ag.type)!=-1){Ag.preventDefault()}return}if(Aq&&Ag.enterKey){Ah[0].click()}if((!An.parent().hasClass(h)||!Am.openOnClick)&&!X.support.touch){return}if(!Aq&&!Ap){Ag.preventDefault()}Al.clicked=true;Ak=Ai.is(":visible")?U:K;if(!Am.closeOnClick&&Ak==U){return}Al[Ak](An)},_documentClick:function(Ag){if(d(this.element[0],Ag.target)){return}this.clicked=false},_focus:function(Ah){var Ai=this,Ak=Ah.target,Ag=Ai._hoverItem(),Aj=b();if(Ak!=Ai.wrapper[0]&&!i(Ak).is(":kendoFocusable")){Ah.stopPropagation();i(Ak).closest(".k-content").closest(".k-group").closest(".k-item").addClass(k);Ai.wrapper.focus();return}if(Aj===Ah.currentTarget){if(Ag.length){Ai._moveHover([],Ag)}else{if(!Ai._oldHoverItem){Ai._moveHover([],Ai.wrapper.children().first())}}}},_keydown:function(Ag){var Al=this,An=Ag.keyCode,Ah=Al._oldHoverItem,Am,Ak,Ai,Aj=X.support.isRtl(Al.wrapper);if(Ag.target!=Ag.currentTarget&&An!=V.ESC){return}if(!Ah){Ah=Al._oldHoverItem=Al._hoverItem()}Ak=Al._itemBelongsToVertival(Ah);Ai=Al._itemHasChildren(Ah);if(An==V.RIGHT){Am=Al[Aj?"_itemLeft":"_itemRight"](Ah,Ak,Ai)}else{if(An==V.LEFT){Am=Al[Aj?"_itemRight":"_itemLeft"](Ah,Ak,Ai)}else{if(An==V.DOWN){Am=Al._itemDown(Ah,Ak,Ai)}else{if(An==V.UP){Am=Al._itemUp(Ah,Ak,Ai)}else{if(An==V.ESC){Am=Al._itemEsc(Ah,Ak)}else{if(An==V.ENTER||An==V.SPACEBAR){Am=Ah.children(".k-link");if(Am.length>0){Al._click({target:Am[0],preventDefault:function(){},enterKey:true});Al._moveHover(Ah,Al._findRootParent(Ah))}}else{if(An==V.TAB){Am=Al._findRootParent(Ah);Al._moveHover(Ah,Am);Al._checkActiveElement();return}}}}}}}if(Am&&Am[0]){Ag.preventDefault();Ag.stopPropagation()}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(Ah){var Ag=this.wrapper.hasClass("k-menu-vertical");if(!Ah.length){return Ag}return Ah.parent().hasClass("k-group")||Ag},_itemHasChildren:function(Ag){if(!Ag.length){return false}return Ag.children("ul.k-group, div.k-animation-container").length>0},_moveHover:function(Ai,Ag){var Ah=this,Aj=Ah._ariaId;if(Ai.length&&Ag.length){Ai.removeClass(k);if(Ai[0].id===Aj){Ai.removeAttr("id")}}if(Ag.length){if(Ag[0].id){Aj=Ag[0].id}Ag.addClass(k);Ah._oldHoverItem=Ag;if(Aj){Ah.element.removeAttr("aria-activedescendant");Ag.attr("id",Aj);Ah.element.attr("aria-activedescendant",Aj)}}},_findRootParent:function(Ag){if(Ag.parent().hasClass("k-menu")){return Ag}else{return Ag.parentsUntil(".k-menu","li.k-item").last()}},_isRootItem:function(Ag){return Ag.parent().hasClass("k-menu")},_itemRight:function(Aj,Ah,Al){var Ai=this,Ag,Ak;if(Aj.hasClass(p)){return}if(!Ah){Ag=Aj.nextAll(Ae);if(!Ag.length){Ag=Aj.prevAll(I)}}else{if(Al){Ai.open(Aj);Ag=Aj.find(".k-group").children().first()}else{if(Ai.options.orientation=="horizontal"){Ak=Ai._findRootParent(Aj);Ai.close(Ak);Ag=Ak.nextAll(Ae)}}}if(Ag&&!Ag.length){Ag=Ai.wrapper.children(".k-item").first()}else{if(!Ag){Ag=[]}}Ai._moveHover(Aj,Ag);return Ag},_itemLeft:function(Aj,Ah){var Ai=this,Ag;if(!Ah){Ag=Aj.prevAll(Ae);if(!Ag.length){Ag=Aj.nextAll(I)}}else{Ag=Aj.parent().closest(".k-item");Ai.close(Ag);if(Ai._isRootItem(Ag)&&Ai.options.orientation=="horizontal"){Ag=Ag.prevAll(Ae)}}if(!Ag.length){Ag=Ai.wrapper.children(".k-item").last()}Ai._moveHover(Aj,Ag);return Ag},_itemDown:function(Aj,Ah,Ak){var Ai=this,Ag;if(!Ah){if(!Ak||Aj.hasClass(p)){return}else{Ai.open(Aj);Ag=Aj.find(".k-group").children().first()}}else{Ag=Aj.nextAll(Ae)}if(!Ag.length&&Aj.length){Ag=Aj.parent().children().first()}else{if(!Aj.length){Ag=Ai.wrapper.children(".k-item").first()}}Ai._moveHover(Aj,Ag);return Ag},_itemUp:function(Aj,Ah){var Ai=this,Ag;if(!Ah){return}else{Ag=Aj.prevAll(Ae)}if(!Ag.length&&Aj.length){Ag=Aj.parent().children().last()}else{if(!Aj.length){Ag=Ai.wrapper.children(".k-item").last()}}Ai._moveHover(Aj,Ag);return Ag},_itemEsc:function(Aj,Ah){var Ai=this,Ag;if(!Ah){return Aj}else{Ag=Aj.parent().closest(".k-item");Ai.close(Ag);Ai._moveHover(Aj,Ag)}return Ag},_focusHandler:function(Ag){var Ah=this,Ai=i(X.eventTarget(Ag)).closest(x);setTimeout(function(){Ah._moveHover([],Ai);if(Ai.children(".k-content")[0]){Ai.parent().closest(".k-item").removeClass(k)}},200)},_animations:function(Ag){if(Ag&&("animation" in Ag)&&!Ag.animation){Ag.animation={open:{effects:{}},close:{hide:true,effects:{}}}}}});Ab(c,{renderItem:function(Ah){Ah=Ab({menu:{},group:{}},Ah);var Ai=s.empty,Ag=Ah.item;return s.item(Ab(Ah,{image:Ag.imageUrl?s.image:Ai,sprite:Ag.spriteCssClass?s.sprite:Ai,itemWrapper:s.itemWrapper,renderContent:c.renderContent,arrow:Ag.items||Ag.content?s.arrow:Ai,subGroup:c.renderGroup},L))},renderGroup:function(Ag){return s.group(Ab({renderItems:function(Aj){var Ah="",Ai=0,Al=Aj.items,Ak=Al?Al.length:0,Am=Ab({length:Ak},Aj.group);for(;Ai<Ak;Ai++){Ah+=c.renderItem(Ab(Aj,{group:Am,item:Ab({index:Ai},Al[Ai])}))}return Ah}},Ag,L))},renderContent:function(Ag){return s.content(Ab(Ag,L))}});X.ui.plugin(c)})(window.kendo.jQuery);kendo_module({id:"editable",name:"Editable",category:"framework",depends:["datepicker","numerictextbox","validator","binder"],hidden:true});(function(T,S){var N=window.kendo,C=N.ui,R=C.Widget,I=T.extend,A=N.support.browser.msie&&N.support.browser.version<9,J=N.isFunction,G=T.isPlainObject,D=T.inArray,P=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,O='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',B="change";var F=["url","email","number","date","boolean"];function U(V){V=V!=null?V:"";return V.type||T.type(V)||"string"}function E(V){V.find(":input:not(:button, ["+N.attr("role")+"=upload], ["+N.attr("skip")+"], [type=file]), select").each(function(){var Z=N.attr("bind"),X=this.getAttribute(Z)||"",W=this.type==="checkbox"||this.type==="radio"?"checked:":"value:",Y=this.name;if(X.indexOf(W)===-1&&Y){X+=(X.length?",":"")+W+Y;T(this).attr(Z,X)}})}function Q(X){var Z=(X.model.fields||X.model)[X.field],c=U(Z),a=Z?Z.validation:{},V,d=N.attr("type"),b=N.attr("bind"),Y,W={name:X.field};for(V in a){Y=a[V];if(D(V,F)>=0){W[d]=V}else{if(!J(Y)){W[V]=G(Y)?Y.value||V:Y}}W[N.attr(V+"-msg")]=Y.message}if(D(c,F)>=0){W[d]=c}W[b]=(c==="boolean"?"checked:":"value:")+X.field;return W}function M(a){var X,W,Z,V,b,Y;if(a&&a.length){Y=[];for(X=0,W=a.length;X<W;X++){Z=a[X];b=Z.text||Z.value||Z;V=Z.value==null?(Z.text||Z):Z.value;Y[X]={text:b,value:V}}}return Y}var H={"number":function(W,V){var X=Q(V);T('<input type="text"/>').attr(X).appendTo(W).kendoNumericTextBox({format:V.format});T("<span "+N.attr("for")+'="'+V.field+'" class="k-invalid-msg"/>').hide().appendTo(W)},"date":function(X,W){var Y=Q(W),V=W.format;if(V){V=N._extractFormat(V)}Y[N.attr("format")]=V;T('<input type="text"/>').attr(Y).appendTo(X).kendoDatePicker({format:W.format});T("<span "+N.attr("for")+'="'+W.field+'" class="k-invalid-msg"/>').hide().appendTo(X)},"string":function(W,V){var X=Q(V);T('<input type="text" class="k-input k-textbox"/>').attr(X).appendTo(W)},"boolean":function(W,V){var X=Q(V);T('<input type="checkbox" />').attr(X).appendTo(W)},"values":function(W,V){var X=Q(V);T("<select "+N.attr("text-field")+'="text"'+N.attr("value-field")+'="value"'+N.attr("source")+"='"+N.stringify(M(V.values)).replace(/\'/g,"&apos;")+"'"+N.attr("role")+'="dropdownlist"/>').attr(X).appendTo(W);T("<span "+N.attr("for")+'="'+V.field+'" class="k-invalid-msg"/>').hide().appendTo(W)}};function K(Z,W){var Y=Z?(Z.validation||{}):{},V,X;for(V in Y){X=Y[V];if(G(X)&&X.value){X=X.value}if(J(X)){W[V]=X}}}var L=R.extend({init:function(X,W){var V=this;R.fn.init.call(V,X,W);V._validateProxy=T.proxy(V._validate,V);V.refresh()},events:[B],options:{name:"Editable",editors:H,clearContainer:true,errorTemplate:O},editor:function(Z,b){var Y=this,f=Y.options.editors,e=G(Z),W=e?Z.field:Z,g=Y.options.model||{},X=e&&Z.values,d=X?"values":U(b),V=e&&Z.editor,c=V?Z.editor:f[d],a=Y.element.find("["+N.attr("container-for")+"="+W.replace(P,"\\$1")+"]");c=c?c:f["string"];if(V&&typeof Z.editor==="string"){c=function(h){h.append(Z.editor)}}a=a.length?a:Y.element;c(a,I(true,{},e?Z:{field:W},{model:g}))},_validate:function(W){var X=this,V=typeof W.value==="boolean",Z,a=X._validationEventInProgress,Y={};Y[W.field]=W.value;Z=T(":input["+N.attr("bind")+'="'+(V?"checked:":"value:")+W.field.replace(P,"\\$1")+'"]',X.element);try{X._validationEventInProgress=true;if(!X.validatable.validateInput(Z)||(!a&&X.trigger(B,{values:Y}))){W.preventDefault()}}finally{X._validationEventInProgress=false}},end:function(){return this.validatable.validate()},destroy:function(){var V=this;R.fn.destroy.call(V);V.options.model.unbind("set",V._validateProxy);N.unbind(V.element);N.destroy(V.element);V.element.removeData("kendoValidator")},refresh:function(){var b=this,Z,a,f=b.options.fields||[],d=b.options.clearContainer?b.element.empty():b.element,g=b.options.model||{},Y={},c,e,X,V,W;if(!T.isArray(f)){f=[f]}for(Z=0,a=f.length;Z<a;Z++){c=f[Z];e=G(c);X=e?c.field:c;V=(g.fields||g)[X];K(V,Y);b.editor(c,V)}if(!a){W=g.fields||g;for(X in W){K(W[X],Y)}}E(d);N.bind(d,b.options.model);b.options.model.bind("set",b._validateProxy);b.validatable=d.kendoValidator({validateOnBlur:false,errorTemplate:b.options.errorTemplate||S,rules:Y}).data("kendoValidator");var h=d.find(":kendoFocusable:first").focus();if(A){h.focus()}}});C.plugin(L)})(window.kendo.jQuery);kendo_module({id:"filtermenu",name:"Filtering Menu",category:"framework",depends:["datepicker","numerictextbox","dropdownlist"],advanced:true});(function(S,R){var I=window.kendo,E=I.ui,L=S.proxy,H="kendoPopup",A="init",V=".kendoFilterMenu",F="相等于",B="不等于",G={"number":"numerictextbox","date":"datepicker"},K={"string":"text","number":"number","date":"date"},C=I.isFunction,Q=E.Widget;var J='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';var O='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>';var P='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=field#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list k-secondary"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>';var T='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=field#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list k-secondary"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>';function N(X,W){if(X.filters){X.filters=S.grep(X.filters,function(Y){N(Y,W);if(Y.filters){return Y.filters.length}else{return Y.field!=W}})}}function U(b){var Y,X,a,W,c,Z;if(b&&b.length){Z=[];for(Y=0,X=b.length;Y<X;Y++){a=b[Y];c=a.text||a.value||a;W=a.value==null?(a.text||a):a.value;Z[Y]={text:c,value:W}}}return Z}function M(W,X){return S.grep(W,function(Y){if(Y.filters){Y.filters=S.grep(Y.filters,function(Z){return Z.field!=X});return Y.filters.length}return Y.field!=X})}var D=Q.extend({init:function(X,b){var a=this,Z="string",Y,c,d,W;Q.fn.init.call(a,X,b);Y=a.operators=b.operators||{};X=a.element;b=a.options;if(!b.appendToElement){d=X.addClass("k-filterable").find(".k-grid-filter");if(!d[0]){d=X.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")}d.attr("tabindex",-1).on("click"+V,L(a._click,a))}a.link=d||S();a.dataSource=b.dataSource;a.field=b.field||X.attr(I.attr("field"));a.model=a.dataSource.reader.model;a._parse=function(e){return e+""};if(a.model&&a.model.fields){W=a.model.fields[a.field];if(W){Z=W.type||"string";if(W.parse){a._parse=L(W.parse,W)}}}if(b.values){Z="enums"}a.type=Z;Y=Y[Z]||b.operators[Z];for(c in Y){break}a._defaultFilter=function(){return{field:a.field,operator:c||"eq",value:""}};a._refreshHandler=L(a.refresh,a);a.dataSource.bind("change",a._refreshHandler);if(b.appendToElement){a._init()}else{a.refresh()}},_init:function(){var X=this,W=X.options.ui,Z=C(W),Y;X.pane=X.element.closest(I.roleSelector("pane")).data("kendoMobilePane");if(X.pane){X._isMobile=true}if(!Z){Y=W||G[X.type]}if(X._isMobile){X._createMobileForm(Y)}else{X._createForm(Y)}X.form.on("submit"+V,L(X._submit,X)).on("reset"+V,L(X._reset,X));if(Z){X.form.find(".k-textbox").removeClass("k-textbox").each(function(){W(S(this))})}X.form.find("["+I.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+I.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+I.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+I.attr("role")+"=datepicker]").removeClass("k-textbox");X.refresh();X.trigger(A,{field:X.field,container:X.form})},_createForm:function(Y){var X=this,Z=X.options,a=X.operators||{},W=X.type;a=a[W]||Z.operators[W];X.form=S('<form class="k-filter-menu k-secondary"/>').html(I.template(W==="boolean"?J:O)({field:X.field,format:Z.format,ns:I.ns,messages:Z.messages,extra:Z.extra,operators:a,type:W,role:Y,values:U(Z.values)}));if(!Z.appendToElement){X.popup=X.form[H]({anchor:X.link,open:L(X._open,X),activate:L(X._activate,X),close:X.options.closeCallback}).data(H)}else{X.element.append(X.form);X.popup=X.element.closest(".k-popup").data(H)}X.form.on("keydown"+V,L(X._keydown,X))},_createMobileForm:function(Y){var X=this,Z=X.options,a=X.operators||{},W=X.type;a=a[W]||Z.operators[W];X.form=S("<div />").html(I.template(W==="boolean"?T:P)({field:X.field,format:Z.format,ns:I.ns,messages:Z.messages,extra:Z.extra,operators:a,type:W,role:Y,useRole:(!I.support.input.date&&W==="date")||W==="number",inputType:K[W],values:U(Z.values)}));X.view=X.pane.append(X.form.html());X.form=X.view.element.find("form");X.view.element.on("click",".k-submit",function(b){X.form.submit();b.preventDefault()}).on("click",".k-cancel",function(b){X._closeForm();b.preventDefault()})},refresh:function(){var W=this,X=W.dataSource.filter()||{filters:[],logic:"and"};W.filterModel=I.observable({logic:"and",filters:[W._defaultFilter(),W._defaultFilter()]});if(W.form){I.bind(W.form.children().first(),W.filterModel)}if(W._bind(X)){W.link.addClass("k-state-active")}else{W.link.removeClass("k-state-active")}},destroy:function(){var W=this;Q.fn.destroy.call(W);if(W.form){I.unbind(W.form);I.destroy(W.form);W.form.unbind(V);if(W.popup){W.popup.destroy()}}if(W.view){W.view.purge()}W.link.unbind(V);if(W._refreshHandler){W.dataSource.unbind("change",W._refreshHandler)}},_bind:function(W){var d=this,f=W.filters,Z,a,b=false,X=0,c=d.filterModel,e,Y;for(Z=0,a=f.length;Z<a;Z++){Y=f[Z];if(Y.field==d.field){c.set("logic",W.logic);e=c.filters[X];if(!e){c.filters.push({field:d.field});e=c.filters[X]}e.set("value",d._parse(Y.value));e.set("operator",Y.operator);X++;b=true}else{if(Y.filters){b=b||d._bind(Y)}}}return b},_merge:function(W){var c=this,b=W.logic||"and",d=W.filters,Y,X=c.dataSource.filter()||{filters:[],logic:"and"},Z,a;N(X,c.field);d=S.grep(d,function(e){return e.value!==""&&e.value!=null});for(Z=0,a=d.length;Z<a;Z++){Y=d[Z];Y.value=c._parse(Y.value)}if(d.length){if(X.filters.length){W.filters=d;if(X.logic!=="and"){X.filters=[{logic:X.logic,filters:X.filters}];X.logic="and"}if(d.length>1){X.filters.push(W)}else{X.filters.push(d[0])}}else{X.filters=d;X.logic=b}}return X},filter:function(W){W=this._merge(W);if(W.filters.length){this.dataSource.filter(W)}},clear:function(){var W=this,X=W.dataSource.filter()||{filters:[]};X.filters=S.grep(X.filters,function(Y){if(Y.filters){Y.filters=M(Y.filters,W.field);return Y.filters.length}return Y.field!=W.field});if(!X.filters.length){X=null}W.dataSource.filter(X)},_submit:function(W){W.preventDefault();this.filter(this.filterModel.toJSON());this._closeForm()},_reset:function(){this.clear();this._closeForm()},_closeForm:function(){if(this._isMobile){this.pane.navigate("",this.options.animations.right)}else{this.popup.close()}},_click:function(W){W.preventDefault();W.stopPropagation();if(!this.popup&&!this.pane){this._init()}if(this._isMobile){this.pane.navigate(this.view,this.options.animations.left)}else{this.popup.toggle()}},_open:function(){var W;S(".k-filter-menu").not(this.form).each(function(){W=S(this).data(H);if(W){W.close()}})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(W){if(W.keyCode==I.keys.ESC){this.popup.close()}},events:[A],options:{name:"FilterMenu",extra:true,appendToElement:false,type:"string",operators:{string:{eq:F,neq:B,startswith:"首部包含",contains:"包含",doesnotcontain:"不包含",endswith:"尾部包含"},number:{eq:F,neq:B,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:F,neq:B,gte:"之后或者相等",gt:"之后",lte:"之前或者相等",lt:"之前"},enums:{eq:F,neq:B}},messages:{info:"自定义显示规则:",isTrue:"为真",isFalse:"为否",filter:"过滤",clear:"清除",and:"与",or:"或",selectValue:"-请选择-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}});E.plugin(D)})(window.kendo.jQuery);kendo_module({id:"panelbar",name:"PanelBar",category:"web",description:"The PanelBar widget displays hierarchical data as a multi-level expandable panel bar.",depends:["core"]});(function(e,g){var U=window.kendo,o=U.ui,S=U.keys,z=e.extend,Q=e.each,k=U.template,R=o.Widget,W=/^(ul|a|div)$/i,Aa=".kendoPanelBar",J="img",B="href",l="k-last",v="k-link",d="."+v,i="error",y=".k-item",p=".k-group",L=p+":visible",E="k-image",O="k-first",M="expand",K="select",c="k-content",u="activate",Ab="collapse",a="mouseenter",f="mouseleave",w="contentLoad",T="k-state-active",C="> .k-panel",Z="> .k-content",q="k-state-focused",F="k-state-disabled",G="k-state-selected",t="."+G,b="k-state-highlight",V=y+":not(.k-state-disabled)",h=V+" > .k-link",m=y+".k-state-disabled > .k-link",I="> li > "+t+", .k-panel > li > "+t,X="k-state-default",A="aria-disabled",n="aria-expanded",P="aria-hidden",x="aria-selected",N=":visible",Y=":empty",D="single",s={content:k("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:k("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:k("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:k("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:k("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:k("<span class='#= arrowClass(item) #'></span>"),sprite:k("<span class='k-sprite #= spriteCssClass #'></span>"),empty:k("")},H={aria:function(Ad){var Ae="";if(Ad.items||Ad.content||Ad.contentUrl){Ae+=n+"='"+(Ad.expanded?"true":"false")+"' "}if(Ad.enabled===false){Ae+=A+"='true'"}return Ae},wrapperCssClass:function(Ad,Af){var Ae="k-item",Ag=Af.index;if(Af.enabled===false){Ae+=" "+F}else{if(Af.expanded===true){Ae+=" "+T}else{Ae+=" k-state-default"}}if(Ag===0){Ae+=" k-first"}if(Ag==Ad.length-1){Ae+=" k-last"}if(Af.cssClass){Ae+=" "+Af.cssClass}return Ae},textClass:function(Af,Ad){var Ae=v;if(Ad.firstLevel){Ae+=" k-header"}return Ae},textAttributes:function(Ad){return Ad.url?" href='"+Ad.url+"'":""},arrowClass:function(Ae){var Ad="k-icon";Ad+=Ae.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand";return Ad},text:function(Ad){return Ad.encoded===false?Ad.text:U.htmlEncode(Ad.text)},tag:function(Ad){return Ad.url||Ad.contentUrl?"a":"span"},groupAttributes:function(Ad){return Ad.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(Ad){return Ad.item.expanded!==true?" style='display:none'":""},content:function(Ad){return Ad.content?Ad.content:Ad.contentUrl?"":"&nbsp;"},contentUrl:function(Ad){return Ad.contentUrl?'href="'+Ad.contentUrl+'"':""}};function j(Ad){Ad=e(Ad);Ad.children(d).children(".k-icon").remove();Ad.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var Ae=e(this),Af=Ae.parent();Ae.append("<span class='k-icon "+(Af.hasClass(T)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function Ac(Ad){Ad=e(Ad);Ad.filter(".k-first:not(:first-child)").removeClass(O);Ad.filter(".k-last:not(:last-child)").removeClass(l);Ad.filter(":first-child").addClass(O);Ad.filter(":last-child").addClass(l)}var r=R.extend({init:function(Af,Ae){var Ad=this,Ag;R.fn.init.call(Ad,Af,Ae);Af=Ad.wrapper=Ad.element.addClass("k-widget k-reset k-header k-panelbar");Ae=Ad.options;if(Af[0].id){Ad._itemId=Af[0].id+"_pb_active"}Ad._tabindex();Ad._initData(Ae);Ad._updateClasses();Ad._animations(Ae);Af.on("click"+Aa,h,function(Ah){if(Ad._click(e(Ah.currentTarget))){Ah.preventDefault()}}).on(a+Aa+" "+f+Aa,h,Ad._toggleHover).on("click"+Aa,m,false).on("keydown"+Aa,e.proxy(Ad._keydown,Ad)).on("focus"+Aa,function(){var Ah=Ad.select();Ad._current(Ah[0]?Ah:Ad._first())}).on("blur"+Aa,function(){Ad._current(null)}).attr("role","menu");Ag=Af.find("li."+T+" > ."+c);if(Ag[0]){Ad.expand(Ag.parent(),false)}U.notify(Ad)},events:[M,Ab,K,u,i,w],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){R.fn.destroy.call(this);this.element.off(Aa);U.destroy(this.element)},_initData:function(Ae){var Ad=this;if(Ae.dataSource){Ad.element.empty();Ad.append(Ae.dataSource,Ad.element)}},setOptions:function(Ae){var Ad=this.options.animation;this._animations(Ae);Ae.animation=z(true,Ad,Ae.animation);if("dataSource" in Ae){this._initData(Ae)}R.fn.setOptions.call(this,Ae)},expand:function(Ag,Ad){var Ae=this,Af={};Ad=Ad!==false;Ag=this.element.find(Ag);Ag.each(function(Aj,Ai){Ai=e(Ai);var Ah=Ai.find(C).add(Ai.find(Z));if(!Ai.hasClass(F)&&Ah.length>0){if(Ae.options.expandMode==D&&Ae._collapseAllExpanded(Ai)){return Ae}Ag.find("."+b).removeClass(b);Ai.addClass(b);if(!Ad){Af=Ae.options.animation;Ae.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!Ae._triggerEvent(M,Ai)){Ae._toggleItem(Ai,false)}if(!Ad){Ae.options.animation=Af}}});return Ae},collapse:function(Ag,Ad){var Ae=this,Af={};Ad=Ad!==false;Ag=Ae.element.find(Ag);Ag.each(function(Aj,Ai){Ai=e(Ai);var Ah=Ai.find(C).add(Ai.find(Z));if(!Ai.hasClass(F)&&Ah.is(N)){Ai.removeClass(b);if(!Ad){Af=Ae.options.animation;Ae.options.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}if(!Ae._triggerEvent(Ab,Ai)){Ae._toggleItem(Ai,true)}if(!Ad){Ae.options.animation=Af}}});return Ae},_toggleDisabled:function(Ad,Ae){Ad=this.element.find(Ad);Ad.toggleClass(X,Ae).toggleClass(F,!Ae).attr(A,!Ae)},select:function(Ae){var Ad=this;if(Ae===g){return Ad.element.find(I).parent()}Ad.element.find(Ae).each(function(){var Ag=e(this),Af=Ag.children(d);if(Ag.hasClass(F)){return Ad}Ad._updateSelected(Af)});return Ad},enable:function(Ad,Ae){this._toggleDisabled(Ad,Ae!==false);return this},disable:function(Ad){this._toggleDisabled(Ad,false);return this},append:function(Af,Ad){Ad=this.element.find(Ad);var Ae=this._insert(Af,Ad,Ad.length?Ad.find(C):null);Q(Ae.items,function(){Ae.group.append(this);Ac(this)});j(Ad);Ac(Ae.group.find(".k-first, .k-last"));Ae.group.height("auto");return this},insertBefore:function(Af,Ad){Ad=this.element.find(Ad);var Ae=this._insert(Af,Ad,Ad.parent());Q(Ae.items,function(){Ad.before(this);Ac(this)});Ac(Ad);Ae.group.height("auto");return this},insertAfter:function(Af,Ad){Ad=this.element.find(Ad);var Ae=this._insert(Af,Ad,Ad.parent());Q(Ae.items,function(){Ad.after(this);Ac(this)});Ac(Ad);Ae.group.height("auto");return this},remove:function(Af){Af=this.element.find(Af);var Ae=this,Ag=Af.parentsUntil(Ae.element,y),Ad=Af.parent("ul");Af.remove();if(Ad&&!Ad.hasClass("k-panelbar")&&!Ad.children(y).length){Ad.remove()}if(Ag.length){Ag=Ag.eq(0);j(Ag);Ac(Ag)}return Ae},reload:function(Ae){var Ad=this;Ae=Ad.element.find(Ae);Ae.each(function(){var Af=e(this);Ad._ajaxRequest(Af,Af.children("."+c),!Af.is(N))})},_first:function(){return this.element.children(V).first()},_last:function(){var Ae=this.element.children(V).last(),Ad=Ae.children(L);if(Ad[0]){return Ad.children(V).last()}return Ae},_current:function(Ad){var Ae=this,Af=Ae._focused,Ag=Ae._itemId;if(Ad===g){return Af}Ae.element.removeAttr("aria-activedescendant");if(Af){if(Af[0].id===Ag){Af.removeAttr("id")}Af.children(d).removeClass(q)}if(Ad){Ag=Ad[0].id||Ag;Ad.attr("id",Ag).children(d).addClass(q);Ae.element.attr("aria-activedescendant",Ag)}Ae._focused=Ad},_keydown:function(Ae){var Af=this,Ad=Ae.keyCode,Ag=Af._current();if(Ae.target!=Ae.currentTarget){return}if(Ad==S.DOWN||Ad==S.RIGHT){Af._current(Af._nextItem(Ag));Ae.preventDefault()}else{if(Ad==S.UP||Ad==S.LEFT){Af._current(Af._prevItem(Ag));Ae.preventDefault()}else{if(Ad==S.ENTER||Ad==S.SPACEBAR){Af._click(Ag.children(d));Ae.preventDefault()}else{if(Ad==S.HOME){Af._current(Af._first());Ae.preventDefault()}else{if(Ad==S.END){Af._current(Af._last());Ae.preventDefault()}}}}}},_nextItem:function(Af){if(!Af){return this._first()}var Ad=Af.children(L),Ae=Af.next();if(Ad[0]){Ae=Ad.children("."+O)}if(!Ae[0]){Ae=Af.parent(L).parent(y).next()}if(!Ae[0]||!Ae.is(":visible")){Ae=this._first()}if(Ae.hasClass(F)){Ae=this._nextItem(Ae)}return Ae},_prevItem:function(Ae){if(!Ae){return this._last()}var Af=Ae.prev(),Ad;if(!Af[0]){Af=Ae.parent(L).parent(y);if(!Af[0]){Af=this._last()}}else{Ad=Af;while(Ad[0]){Ad=Ad.children(L).children("."+l);if(Ad[0]){Af=Ad}}}if(Af.hasClass(F)){Af=this._prevItem(Af)}return Af},_insert:function(Ak,Af,Aj){var Ag=this,Ai,Ah=e.isPlainObject(Ak),Ad=Af&&Af[0],Ae;if(!Ad){Aj=Ag.element}Ae={firstLevel:Aj.hasClass("k-panelbar"),expanded:Aj.parent().hasClass(T),length:Aj.children().length};if(Ad&&!Aj.length){Aj=e(r.renderGroup({group:Ae})).appendTo(Af)}if(Ah||e.isArray(Ak)){Ai=e.map(Ah?[Ak]:Ak,function(Am,Al){if(typeof Am==="string"){return e(Am)}else{return e(r.renderItem({group:Ae,item:z(Am,{index:Al})}))}});if(Ad){Af.attr(n,false)}}else{Ai=e(Ak);Ag._updateItemsClasses(Ai)}return{items:Ai,group:Aj}},_toggleHover:function(Ad){var Ae=e(Ad.currentTarget);if(!Ae.parents("li."+F).length){Ae.toggleClass("k-state-hover",Ad.type==a)}},_updateClasses:function(){var Ad=this,Af,Ae;Af=Ad.element.find("li > ul").not(function(){return e(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group");Af.parent().attr(n,false).not("."+T).children("ul").attr(P,true).hide();Ae=Ad.element.add(Af).children();Ad._updateItemsClasses(Ae);j(Ae);Ac(Ae)},_updateItemsClasses:function(Af){var Ad=Af.length,Ae=0;for(;Ae<Ad;Ae++){this._updateItemClasses(Af[Ae],Ae)}},_updateItemClasses:function(Ak,Af){var Ah=this._selected,Ai=this.options.contentUrls,Aj=Ai&&Ai[Af],Ag=this.element[0],Ae,Ad;Ak=e(Ak).addClass("k-item").attr("role","menuitem");if(U.support.browser.msie){Ak.css("list-style-position","inside").css("list-style-position","")}Ak.children(J).addClass(E);Ad=Ak.children("a").addClass(v);if(Ad[0]){Ad.attr("href",Aj);Ad.children(J).addClass(E)}Ak.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default");Ak.filter("li[disabled]").addClass("k-state-disabled").attr(A,true).removeAttr("disabled");Ak.children("div").addClass(c).attr("role","region").attr(P,true).hide().parent().attr(n,false);Ad=Ak.children(t);if(Ad[0]){if(Ah){Ah.removeAttr(x).children(t).removeClass(G)}Ad.addClass(G);this._selected=Ak.attr(x,true)}if(!Ak.children(d)[0]){Ae="<span class='"+v+"'/>";if(Ai&&Ai[Af]&&Ak[0].parentNode==Ag){Ae='<a class="k-link k-header" href="'+Ai[Af]+'"/>'}Ak.contents().filter(function(){return(!this.nodeName.match(W)&&!(this.nodeType==3&&!e.trim(this.nodeValue)))}).wrapAll(Ae)}if(Ak.parent(".k-panelbar")[0]){Ak.children(d).addClass("k-header")}},_click:function(Ah){var Af=this,Ad=Af.element,Ai,Ae,Ak,Al;if(Ah.parents("li."+F).length){return}if(Ah.closest(".k-widget")[0]!=Ad[0]){return}var Ag=Ah.closest(d),Am=Ag.closest(y);Af._updateSelected(Ag);Ae=Am.find(C).add(Am.find(Z));Ak=Ag.attr(B);Al=Ak&&(Ak.charAt(Ak.length-1)=="#"||Ak.indexOf("#"+Af.element[0].id+"-")!=-1);Ai=!!(Al||Ae.length);if(Ae.data("animating")){return Ai}if(Af._triggerEvent(K,Am)){Ai=true}if(Ai===false){return}if(Af.options.expandMode==D){if(Af._collapseAllExpanded(Am)){return Ai}}if(Ae.length){var Aj=Ae.is(N);if(!Af._triggerEvent(!Aj?M:Ab,Am)){Ai=Af._toggleItem(Am,Aj)}}return Ai},_toggleItem:function(Ah,Ad){var Ae=this,Ag=Ah.find(C),Af,Ai;if(Ag.length){this._toggleGroup(Ag,Ad);Af=true}else{Ai=Ah.children("."+c);if(Ai.length){Af=true;if(!Ai.is(Y)){Ae._toggleGroup(Ai,Ad)}else{Ae._ajaxRequest(Ah,Ai,Ad)}}}return Af},_toggleGroup:function(Ah,Aj){var Af=this,Ag=Af.options.animation,Ad=Ag.expand,Ae=z({},Ag.collapse),Ai=Ae&&"effects" in Ae;if(Ah.is(N)!=Aj){return}Ah.parent().attr(n,!Aj).attr(P,Aj).toggleClass(X,Aj).toggleClass(T,!Aj).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!Aj).toggleClass("k-panelbar-collapse",!Aj).toggleClass("k-i-arrow-s",Aj).toggleClass("k-panelbar-expand",Aj);if(Aj){Ad=z(Ai?Ae:z({reverse:true},Ad),{hide:true})}else{Ad=z({complete:function(Ak){Af._triggerEvent(u,Ak.closest(y))}},Ad)}Ah.kendoStop(true,true).kendoAnimate(Ad)},_collapseAllExpanded:function(Af){var Ae=this,Ah,Ag=false;if(Af.children(d).hasClass("k-header")){var Ad=Af.find(C).add(Af.find(Z));if(Ad.is(N)){Ag=true}if(!(Ad.is(N)||Ad.length===0)){Ah=e(Ae.element).children();Ah.find(C).add(Ah.find(Z)).filter(function(){return e(this).is(N)}).each(function(Ai,Aj){Aj=e(Aj);Ag=Ae._triggerEvent(Ab,Aj.closest(y));if(!Ag){Ae._toggleGroup(Aj,true)}})}return Ag}},_ajaxRequest:function(Ad,Ak,Ai){var Ah=this,Ag=Ad.find(".k-panelbar-collapse, .k-panelbar-expand"),Al=Ad.find(d),Ae=setTimeout(function(){Ag.addClass("k-loading")},100),Af={},Aj=Al.attr(B);e.ajax({type:"GET",cache:false,url:Aj,dataType:"html",data:Af,error:function(An,Am){Ag.removeClass("k-loading");if(Ah.trigger(i,{xhr:An,status:Am})){this.complete()}},complete:function(){clearTimeout(Ae);Ag.removeClass("k-loading")},success:function(Ao){try{Ak.html(Ao)}catch(An){var Am=window.console;if(Am&&Am.error){Am.error(An.name+": "+An.message+" in "+Aj)}this.error(this.xhr,"error")}Ah._toggleGroup(Ak,Ai);Ah.trigger(w,{item:Ad[0],contentElement:Ak[0]})}})},_triggerEvent:function(Ae,Af){var Ad=this;return Ad.trigger(Ae,{item:Af[0]})},_updateSelected:function(Ad){var Ag=this,Af=Ag.element,Ae=Ad.parent(y),Ah=Ag._selected;if(Ah){Ah.removeAttr(x)}Ag._selected=Ae.attr(x,true);Af.find(I).removeClass(G);Af.find("> ."+b+", .k-panel > ."+b).removeClass(b);Ad.addClass(G);Ad.parentsUntil(Af,y).filter(":has(.k-header)").addClass(b);Ag._current(Ae)},_animations:function(Ad){if(Ad&&("animation" in Ad)&&!Ad.animation){Ad.animation={expand:{effects:{}},collapse:{hide:true,effects:{}}}}}});z(r,{renderItem:function(Ae){Ae=z({panelBar:{},group:{}},Ae);var Af=s.empty,Ad=Ae.item;return s.item(z(Ae,{image:Ad.imageUrl?s.image:Af,sprite:Ad.spriteCssClass?s.sprite:Af,itemWrapper:s.itemWrapper,renderContent:r.renderContent,arrow:Ad.items||Ad.content||Ad.contentUrl?s.arrow:Af,subGroup:r.renderGroup},H))},renderGroup:function(Ad){return s.group(z({renderItems:function(Ag){var Ae="",Af=0,Ai=Ag.items,Ah=Ai?Ai.length:0,Aj=z({length:Ah},Ag.group);for(;Af<Ah;Af++){Ae+=r.renderItem(z(Ag,{group:Aj,item:z({index:Af},Ai[Af])}))}return Ae}},Ad,H))},renderContent:function(Ad){return s.content(z(Ad,H))}});U.ui.plugin(r)})(window.kendo.jQuery);kendo_module({id:"progressbar",name:"ProgressBar",category:"web",description:"The ProgressBar offers rich functionality for displaying and tracking progress",depends:["core"]});(function(b,a){var O=window.kendo,F=O.ui,Y=F.Widget,B="horizontal",S="vertical",d=0,C=100,N=0,L=5,c="k-progressbar",V="k-progressbar-reverse",T="k-progressbar-indeterminate",A="k-complete",e="k-state-selected",E="k-progress-status",X="k-state-selected",f="k-state-default",P="k-state-disabled",W={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},D="change",Z="complete",U="boolean",K=Math,M=b.extend,R=b.proxy,Q=100,I=400,G=3,H={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>"};var J=Y.extend({init:function(i,h){var g=this;Y.fn.init.call(this,i,h);h=g.options;g._progressProperty=(h.orientation===B)?"width":"height";g._fields();h.value=g._validateValue(h.value);g._validateType(h.type);g._wrapper();g._progressAnimation();if((h.value!==h.min)&&(h.value!==false)){g._updateProgress()}},setOptions:function(h){var g=this;Y.fn.setOptions.call(g,h);if(h.hasOwnProperty("reverse")){g.wrapper.toggleClass("k-progressbar-reverse",h.reverse)}if(h.hasOwnProperty("enable")){g.enable(h.enable)}g._progressAnimation();g._validateValue();g._updateProgress()},events:[D,Z],options:{name:"ProgressBar",orientation:B,reverse:false,min:d,max:C,value:N,enable:true,type:W.VALUE,chunkCount:L,showStatus:true,animation:{}},_fields:function(){var g=this;g._isStarted=false;g.progressWrapper=g.progressStatus=b()},_validateType:function(h){var g=false;b.each(W,function(j,i){if(i===h){g=true;return false}});if(!g){throw new Error(O.format("Invalid ProgressBar type '{0}'",h))}},_wrapper:function(){var i=this;var k=i.wrapper=i.element;var j=i.options;var g=j.orientation;var h;k.addClass("k-widget "+c);k.addClass(c+"-"+((g===B)?B:S));if(j.enable===false){k.addClass(P)}if(j.reverse){k.addClass(V)}if(j.value===false){k.addClass(T)}if(j.type===W.CHUNK){i._addChunkProgressWrapper()}else{if(j.showStatus){i.progressStatus=i.wrapper.prepend(H.progressStatus).find("."+E);h=(j.value!==false)?j.value:j.min;if(j.type===W.VALUE){i.progressStatus.text(h)}else{i.progressStatus.text(i._calculatePercentage(h)+"%")}}}},value:function(g){return this._value(g)},_value:function(i){var g=this;var h=g.options;var j;if(i===a){return h.value}else{if(typeof i!==U){i=g._roundValue(i);if(!isNaN(i)){j=g._validateValue(i);if(j!==h.value){g.wrapper.removeClass(T);h.value=j;g._isStarted=true;g._updateProgress()}}}else{if(!i){g.wrapper.addClass(T);h.value=false}}}},_roundValue:function(h){h=parseFloat(h);var g=K.pow(10,G);return K.floor(h*g)/g},_validateValue:function(i){var g=this;var h=g.options;if(i!==false){if(i<=h.min||i===true){return h.min}else{if(i>=h.max){return h.max}}}else{if(i===false){return false}}if(isNaN(g._roundValue(i))){return h.min}return i},_updateProgress:function(){var h=this;var i=h.options;var g=h._calculatePercentage();if(i.type===W.CHUNK){h._updateChunks(g);h._onProgressUpdateAlways(i.value)}else{h._updateProgressWrapper(g)}},_updateChunks:function(i){var j=this;var k=j.options;var l=k.chunkCount;var h=parseInt((Q/l)*100,10)/100;var g=parseInt(i*100,10)/100;var m=K.floor(g/h);var n;if((k.orientation===B&&!(k.reverse))||(k.orientation===S&&k.reverse)){n=j.wrapper.find("li.k-item:lt("+m+")")}else{n=j.wrapper.find("li.k-item:gt(-"+(m+1)+")")}j.wrapper.find("."+X).removeClass(X).addClass(f);n.removeClass(f).addClass(X)},_updateProgressWrapper:function(h){var k=this;var i=k.options;var g=k.wrapper.find("."+e);var j=k._isStarted?k._animation.duration:0;var l={};if(g.length===0){k._addRegularProgressWrapper()}l[k._progressProperty]=h+"%";k.progressWrapper.animate(l,{duration:j,start:R(k._onProgressAnimateStart,k),progress:R(k._onProgressAnimate,k),complete:R(k._onProgressAnimateComplete,k,i.value),always:R(k._onProgressUpdateAlways,k,i.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(h){var i=this;var j=i.options;var k=parseFloat(h.elem.style[i._progressProperty],10);var g;if(j.showStatus){g=10000/parseFloat(i.progressWrapper[0].style[i._progressProperty]);i.progressWrapper.find(".k-progress-status-wrap").css(i._progressProperty,g+"%")}if(j.type!==W.CHUNK&&k<=98){i.progressWrapper.removeClass(A)}},_onProgressAnimateComplete:function(i){var g=this;var h=g.options;var j=parseFloat(g.progressWrapper[0].style[g._progressProperty]);if(h.type!==W.CHUNK&&j>98){g.progressWrapper.addClass(A)}if(h.showStatus){if(h.type===W.VALUE){g.progressStatus.text(i)}else{g.progressStatus.text(K.floor(g._calculatePercentage(i))+"%")}}if(i===h.min){g.progressWrapper.hide()}},_onProgressUpdateAlways:function(i){var g=this;var h=g.options;if(g._isStarted){g.trigger(D,{value:i})}if(i===h.max&&g._isStarted){g.trigger(Z,{value:h.max})}},enable:function(i){var g=this;var h=g.options;h.enable=typeof(i)==="undefined"?true:i;g.wrapper.toggleClass(P,!h.enable)},destroy:function(){var g=this;Y.fn.destroy.call(g)},_addChunkProgressWrapper:function(){var k=this;var l=k.options;var m=k.wrapper;var j=Q/l.chunkCount;var g="";if(l.chunkCount<=1){l.chunkCount=L}g+="<ul class='k-reset'>";for(var h=l.chunkCount-1;h>=0;h--){g+="<li class='k-item k-state-default'></li>"}g+="</ul>";m.append(g).find(".k-item").css(k._progressProperty,j+"%").first().addClass("k-first").end().last().addClass("k-last");k._normalizeChunkSize()},_normalizeChunkSize:function(){var h=this;var i=h.options;var g=h.wrapper.find(".k-item:last");var k=parseFloat(g[0].style[h._progressProperty]);var j=Q-(i.chunkCount*k);if(j>0){g.css(h._progressProperty,(k+j)+"%")}},_addRegularProgressWrapper:function(){var g=this;g.progressWrapper=b("<div class='"+e+"'></div>").appendTo(g.wrapper);if(g.options.showStatus){g.progressWrapper.append(H.progressStatus);g.progressStatus=g.wrapper.find("."+E)}},_calculateChunkSize:function(){var g=this;var i=g.options.chunkCount;var h=g.wrapper.find("ul.k-reset");return(parseInt(h.css(g._progressProperty),10)-(i-1))/i},_calculatePercentage:function(k){var h=this;var i=h.options;var j=(k!==a)?k:i.value;var g=i.min;var l=i.max;h._onePercent=K.abs((l-g)/100);return K.abs((j-g)/h._onePercent)},_progressAnimation:function(){var h=this;var i=h.options;var g=i.animation;if(g===false){h._animation={duration:0}}else{h._animation=M({duration:I},i.animation)}}});O.ui.plugin(J)})(window.kendo.jQuery);kendo_module({id:"tabstrip",name:"TabStrip",category:"web",description:"The TabStrip widget displays a collection of tabs with associated tab content.",depends:["data"]});(function(Y,b){var R=window.kendo,h=R.ui,P=R.keys,l=Y.map,M=Y.each,j=Y.trim,o=Y.extend,f=R.template,N=h.Widget,T=/^(a|div)$/i,p=".kendoTabStrip",H="img",A="href",D="prev",e="k-link",I="k-last",S="click",d="error",U=":empty",Z="k-image",K="k-first",E="select",k="activate",X="k-content",F="contentUrl",V="mouseenter",W="mouseleave",m="contentLoad",g="k-state-disabled",J="k-state-default",c="k-state-active",a="k-state-focused",B="k-state-hover",i="k-tab-on-top",Q=".k-item:not(."+g+")",C=".k-tabstrip-items > "+Q+":not(."+c+")",q={content:f("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:f("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:f("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:f("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:f("<span class='k-sprite #= spriteCssClass #'></span>"),empty:f("")},G={wrapperCssClass:function(r,t){var s="k-item",u=t.index;if(t.enabled===false){s+=" k-state-disabled"}else{s+=" k-state-default"}if(u===0){s+=" k-first"}if(u==r.length-1){s+=" k-last"}return s},textAttributes:function(r){return r.url?" href='"+r.url+"'":""},text:function(r){return r.encoded===false?r.text:R.htmlEncode(r.text)},tag:function(r){return r.url?"a":"span"},contentAttributes:function(r){return r.active!==true?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(r){return r.content?r.content:r.contentUrl?"":"&nbsp;"},contentUrl:function(r){return r.contentUrl?R.attr("content-url")+'="'+r.contentUrl+'"':""}};function O(r){r.children(H).addClass(Z);r.children("a").addClass(e).children(H).addClass(Z);r.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(J);r.filter("li[disabled]").addClass(g).removeAttr("disabled");r.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(c+" "+i);r.attr("role","tab");r.filter("."+c).attr("aria-selected",true);r.each(function(){var s=Y(this);if(!s.children("."+e).length){s.contents().filter(function(){return(!this.nodeName.match(T)&&!(this.nodeType==3&&!j(this.nodeValue)))}).wrapAll("<a class='"+e+"'/>")}})}function n(s){var r=s.children(".k-item");r.filter(".k-first:not(:first-child)").removeClass(K);r.filter(".k-last:not(:last-child)").removeClass(I);r.filter(":first-child").addClass(K);r.filter(":last-child").addClass(I)}var L=N.extend({init:function(u,t){var s=this;N.fn.init.call(s,u,t);s._animations(s.options);if(s.element.is("ul")){s.wrapper=s.element.wrapAll("<div />").parent()}else{s.wrapper=s.element}t=s.options;s._isRtl=R.support.isRtl(s.wrapper);s._tabindex();s._updateClasses();s._dataSource();if(t.dataSource){s.dataSource.fetch()}if(s.options.contentUrls){s.wrapper.find(".k-tabstrip-items > .k-item").each(function(x,w){Y(w).find(">."+e).data(F,s.options.contentUrls[x])})}s.wrapper.on(V+p+" "+W+p,C,s._toggleHover).on("keydown"+p,Y.proxy(s._keydown,s)).on("focus"+p,Y.proxy(s._active,s)).on("blur"+p,function(){s._current(null)});s.wrapper.children(".k-tabstrip-items").on(S+p,".k-state-disabled .k-link",false).on(S+p," > "+Q,function(w){if(s.wrapper[0]!==document.activeElement){s.wrapper.focus()}if(s._click(Y(w.currentTarget))){w.preventDefault()}});var r=s.tabGroup.children("li."+c),v=s.contentHolder(r.index());if(v.length>0&&v[0].childNodes.length===0){s.activateTab(r.eq(0))}s.element.attr("role","tablist");if(s.element[0].id){s._ariaId=s.element[0].id+"_ts_active"}R.notify(s)},_active:function(){var r=this.tabGroup.children().filter("."+c);r=r[0]?r:this._endItem("first");if(r[0]){this._current(r)}},_endItem:function(r){return this.tabGroup.children(Q)[r]()},_item:function(s,r){var t;if(r===D){t="last"}else{t="first"}if(!s){return this._endItem(t)}s=s[r]();if(!s[0]){s=this._endItem(t)}if(s.hasClass(g)){s=this._item(s,r)}return s},_current:function(r){var s=this,t=s._focused,u=s._ariaId;if(r===b){return t}if(t){if(t[0].id===u){t.removeAttr("id")}t.removeClass(a)}if(r){if(!r.hasClass(c)){r.addClass(a)}s.element.removeAttr("aria-activedescendant");u=r[0].id||u;if(u){r.attr("id",u);s.element.attr("aria-activedescendant",u)}}s._focused=r},_keydown:function(t){var u=this,s=t.keyCode,w=u._current(),v=u._isRtl,r;if(t.target!=t.currentTarget){return}if(s==P.DOWN||s==P.RIGHT){r=v?D:"next"}else{if(s==P.UP||s==P.LEFT){r=v?"next":D}else{if(s==P.ENTER||s==P.SPACEBAR){u._click(w);t.preventDefault()}else{if(s==P.HOME){u._click(u._endItem("first"));t.preventDefault();return}else{if(s==P.END){u._click(u._endItem("last"));t.preventDefault();return}}}}}if(r){u._click(u._item(w,r));t.preventDefault()}},_dataSource:function(){var r=this;if(r.dataSource&&r._refreshHandler){r.dataSource.unbind("change",r._refreshHandler)}else{r._refreshHandler=Y.proxy(r.refresh,r)}r.dataSource=R.data.DataSource.create(r.options.dataSource).bind("change",r._refreshHandler)},setDataSource:function(r){this.options.dataSource=r;this._dataSource();r.fetch()},_animations:function(r){if(r&&("animation" in r)&&!r.animation){r.animation={open:{effects:{}},close:{effects:{}}}}},refresh:function(r){var y=this,x=y.options,z=R.getter(x.dataTextField),Af=R.getter(x.dataContentField),u=R.getter(x.dataContentUrlField),Ad=R.getter(x.dataImageUrlField),Ab=R.getter(x.dataUrlField),s=R.getter(x.dataSpriteCssClass),v,t=[],Ac,Ae,Aa=y.dataSource.view(),w;r=r||{};Ae=r.action;if(Ae){Aa=r.items}for(v=0,w=Aa.length;v<w;v++){Ac={text:z(Aa[v])};if(x.dataContentField){Ac.content=Af(Aa[v])}if(x.dataContentUrlField){Ac.contentUrl=u(Aa[v])}if(x.dataUrlField){Ac.url=Ab(Aa[v])}if(x.dataImageUrlField){Ac.imageUrl=Ad(Aa[v])}if(x.dataSpriteCssClass){Ac.spriteCssClass=s(Aa[v])}t[v]=Ac}if(r.action=="add"){if(r.index<y.tabGroup.children().length){y.insertBefore(t,y.tabGroup.children().eq(r.index))}else{y.append(t)}}else{if(r.action=="remove"){for(v=0;v<Aa.length;v++){y.remove(r.index)}}else{if(r.action=="itemchange"){v=y.dataSource.view().indexOf(Aa[0]);if(r.field===x.dataTextField){y.tabGroup.children().eq(v).find(".k-link").text(Aa[0].get(r.field))}}else{y.trigger("dataBinding");y.remove("li");y.append(t);y.trigger("dataBound")}}}},value:function(s){var r=this;if(s!==b){if(s!=r.value()){r.tabGroup.children().each(function(){if(Y.trim(Y(this).text())==s){r.select(this)}})}}else{return r.select().text()}},items:function(){return this.tabGroup[0].children},setOptions:function(s){var r=this.options.animation;this._animations(s);s.animation=o(true,r,s.animation);N.fn.setOptions.call(this,s)},events:[E,k,d,m,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:false},destroy:function(){var r=this;N.fn.destroy.call(r);if(r._refreshHandler){r.dataSource.unbind("change",r._refreshHandler)}r.wrapper.off(p);R.destroy(r.wrapper)},select:function(s){var r=this;if(arguments.length===0){return r.tabGroup.children("li."+c)}if(!isNaN(s)){s=r.tabGroup.children().get(s)}s=r.tabGroup.find(s);Y(s).each(function(u,t){t=Y(t);if(!t.hasClass(c)&&!r.trigger(E,{item:t[0],contentElement:r.contentHolder(t.index())[0]})){r.activateTab(t)}});return r},enable:function(r,s){this._toggleDisabled(r,s!==false);return this},disable:function(r){this._toggleDisabled(r,false);return this},reload:function(s){s=this.tabGroup.find(s);var r=this;s.each(function(){var t=Y(this),u=t.find("."+e).data(F),v=r.contentHolder(t.index());if(u){r.ajaxRequest(t,v,null,u)}});return r},append:function(s){var t=this,r=t._create(s);M(r.tabs,function(u){t.tabGroup.append(this);t.wrapper.append(r.contents[u])});n(t.tabGroup);t._updateContentElements();return t},insertBefore:function(s,u){var v=this,r=v._create(s),t=Y(v.contentElement(u.index()));M(r.tabs,function(w){u.before(this);t.before(r.contents[w])});n(v.tabGroup);v._updateContentElements();return v},insertAfter:function(s,u){var v=this,r=v._create(s),t=Y(v.contentElement(u.index()));M(r.tabs,function(w){u.after(this);t.after(r.contents[w])});n(v.tabGroup);v._updateContentElements();return v},remove:function(s){var u=this,r=typeof s,t=Y();if(r==="string"){s=u.tabGroup.find(s)}else{if(r==="number"){s=u.tabGroup.children().eq(s)}}s.each(function(){t.push(u.contentElement(Y(this).index()))});s.remove();t.remove();u._updateContentElements();return u},_create:function(r){var u=Y.isPlainObject(r),v=this,s,t;if(u||Y.isArray(r)){r=Y.isArray(r)?r:[r];s=l(r,function(x,w){return Y(L.renderItem({group:v.tabGroup,item:o(x,{index:w})}))});t=l(r,function(x,w){if(x.content||x.contentUrl){return Y(L.renderContent({item:o(x,{index:w})}))}})}else{s=Y(r);t=Y("<div class='"+X+"'/>");O(s)}return{tabs:s,contents:t}},_toggleDisabled:function(r,s){r=this.tabGroup.find(r);r.each(function(){Y(this).toggleClass(J,s).toggleClass(g,!s)})},_updateClasses:function(){var r=this,s,u,t;r.wrapper.addClass("k-widget k-header k-tabstrip");r.tabGroup=r.wrapper.children("ul").addClass("k-tabstrip-items k-reset");if(!r.tabGroup[0]){r.tabGroup=Y("<ul class='k-tabstrip-items k-reset'/>").appendTo(r.wrapper)}s=r.tabGroup.find("li").addClass("k-item");if(s.length){u=s.filter("."+c).index();t=u>=0?u:b;r.tabGroup.contents().filter(function(){return(this.nodeType==3&&!j(this.nodeValue))}).remove()}if(u>=0){s.eq(u).addClass(i)}r.contentElements=r.wrapper.children("div");r.contentElements.addClass(X).eq(t).addClass(c).css({display:"block"});if(s.length){O(s);n(r.tabGroup);r._updateContentElements()}},_updateContentElements:function(){var r=this,u=r.options.contentUrls||[],t=r.element.attr("id")||R.guid(),s=r.wrapper.children("div");r.tabGroup.find(".k-item").each(function(w){var v=s.eq(w),x=t+"-"+(w+1);this.setAttribute("aria-controls",x);if(!v.length&&u[w]){Y("<div class='"+X+"'/>").appendTo(r.wrapper).attr("id",x)}else{v.attr("id",x);if(!Y(this).children(".k-loading")[0]&&!u[w]){Y("<span class='k-loading k-complete'/>").prependTo(this)}}v.attr("role","tabpanel");v.filter(":not(."+c+")").attr("aria-hidden",true).attr("aria-expanded",false);v.filter("."+c).attr("aria-expanded",true)});r.contentElements=r.contentAnimators=r.wrapper.children("div");if(R.kineticScrollNeeded&&R.mobile.ui.Scroller){R.touchScroller(r.contentElements);r.contentElements=r.contentElements.children(".km-scroll-container")}},_toggleHover:function(r){Y(r.currentTarget).toggleClass(B,r.type==V)},_click:function(y){var s=this,r=y.find("."+e),w=r.attr(A),u=s.options.collapsible,t=s.contentHolder(y.index()),v,x;if(y.closest(".k-widget")[0]!=s.wrapper[0]){return}if(y.is("."+g+(!u?",."+c:""))){return true}x=r.data(F)||(w&&(w.charAt(w.length-1)=="#"||w.indexOf("#"+s.element[0].id+"-")!=-1));v=!w||x;if(s.tabGroup.children("[data-animating]").length){return v}if(s.trigger(E,{item:y[0],contentElement:t[0]})){return true}if(v===false){return}if(u&&y.is("."+c)){s.deactivateTab(y);return true}if(s.activateTab(y)){v=true}return v},deactivateTab:function(t){var s=this,u=s.options.animation,r=u.open,w=o({},u.close),v=w&&"effects" in w;t=s.tabGroup.find(t);w=o(v?w:o({reverse:true},r),{hide:true});if(R.size(r.effects)){t.kendoAddClass(J,{duration:r.duration});t.kendoRemoveClass(c,{duration:r.duration})}else{t.addClass(J);t.removeClass(c)}t.removeAttr("aria-selected");s.contentAnimators.filter("."+c).kendoStop(true,true).kendoAnimate(w).removeClass(c).attr("aria-hidden",true)},activateTab:function(Ag){Ag=this.tabGroup.find(Ag);var y=this,u=y.options.animation,Af=u.open,w=o({},u.close),v=w&&"effects" in w,t=Ag.parent().children(),Aa=t.filter("."+c),x=t.index(Ag);w=o(v?w:o({reverse:true},Af),{hide:true});if(R.size(Af.effects)){Aa.kendoRemoveClass(c,{duration:w.duration});Ag.kendoRemoveClass(B,{duration:w.duration})}else{Aa.removeClass(c);Ag.removeClass(B)}var s=y.contentAnimators;if(y.inRequest){y.xhr.abort();y.inRequest=false}if(s.length===0){Aa.removeClass(i);Ag.addClass(i).css("z-index");Ag.addClass(c);y._current(Ag);y.trigger("change");return false}var r=s.filter("."+c),z=y.contentHolder(x),Ad=z.closest(".k-content");if(z.length===0){r.removeClass(c).attr("aria-hidden",true).kendoStop(true,true).kendoAnimate(w);return false}Ag.attr("data-animating",true);var Ae=(Ag.children("."+e).data(F)||false)&&z.is(U),Ac=function(){Aa.removeClass(i);Ag.addClass(i).css("z-index");if(R.size(Af.effects)){Aa.kendoAddClass(J,{duration:Af.duration});Ag.kendoAddClass(c,{duration:Af.duration})}else{Aa.addClass(J);Ag.addClass(c)}Aa.removeAttr("aria-selected");Ag.attr("aria-selected",true);y._current(Ag);Ad.addClass(c).removeAttr("aria-hidden").kendoStop(true,true).attr("aria-expanded",true).kendoAnimate(o({init:function(){y.trigger(k,{item:Ag[0],contentElement:z[0]})}},Af,{complete:function(){Ag.removeAttr("data-animating")}}))},Ab=function(){if(!Ae){Ac();y.trigger("change")}else{Ag.removeAttr("data-animating");y.ajaxRequest(Ag,z,function(){Ag.attr("data-animating",true);Ac();y.trigger("change")})}};r.removeClass(c);r.attr("aria-hidden",true);r.attr("aria-expanded",false);if(r.length){r.kendoStop(true,true).kendoAnimate(o({complete:Ab},w))}else{Ab()}return true},contentElement:function(t){if(isNaN(t-0)){return b}var s=this.contentElements&&this.contentElements[0]&&!R.kineticScrollNeeded?this.contentElements:this.contentAnimators,v=new RegExp("-"+(t+1)+"$");if(s){for(var r=0,u=s.length;r<u;r++){if(v.test(s.closest(".k-content")[r].id)){return s[r]}}}return b},contentHolder:function(s){var t=Y(this.contentElement(s)),r=t.children(".km-scroll-container");return R.support.touch&&r[0]?r:t},ajaxRequest:function(s,Aa,w,x){s=this.tabGroup.find(s);var v=this,t=Y.ajaxSettings.xhr,z=s.find("."+e),r={},y=false,u=s.find(".k-loading").removeClass("k-complete");if(!u[0]){u=Y("<span class='k-loading'/>").prependTo(s)}x=x||z.data(F)||z.attr(A);v.inRequest=true;v.xhr=Y.ajax({type:"GET",cache:false,url:x,dataType:"html",data:r,xhr:function(){var Ac=this,Ab=t(),Ad=10,Ae=Ac.progressUpload?"progressUpload":Ac.progress?"progress":false;if(Ab){Y.each([Ab,Ab.upload],function(){if(this.addEventListener){this.addEventListener("progress",function(Af){if(Ae){Ac[Ae](Af)}},false)}})}if(!Ac.progress){y=setInterval(function(){Ac.progress({lengthComputable:true,loaded:Math.min(Ad,100),total:100})},100);Ad+=10}return Ab},progress:function(Ac){if(Ac.lengthComputable){var Ab=parseInt((Ac.loaded/Ac.total*100),10)+"%";u.width(Ab)}},error:function(Ac,Ab){if(v.trigger("error",{xhr:Ac,status:Ab})){this.complete()}},complete:function(){v.inRequest=false;clearInterval(y);u.css("width","")},success:function(Ad){u.addClass("k-complete");try{Aa.html(Ad)}catch(Ac){var Ab=window.console;if(Ab&&Ab.error){Ab.error(Ac.name+": "+Ac.message+" in "+x)}this.error(this.xhr,"error")}if(w){w.call(v,Aa)}v.trigger(m,{item:s[0],contentElement:Aa[0]})}})}});o(L,{renderItem:function(s){s=o({tabStrip:{},group:{}},s);var t=q.empty,r=s.item;return q.item(o(s,{image:r.imageUrl?q.image:t,sprite:r.spriteCssClass?q.sprite:t,itemWrapper:q.itemWrapper},G))},renderContent:function(r){return q.content(o(r,G))}});R.ui.plugin(L)})(window.kendo.jQuery);kendo_module({id:"timepicker",name:"TimePicker",category:"web",description:"The TimePicker widget allows the end user to select a value from a list of predefined values or to type a new value.",depends:["popup"]});(function(d,e){var T=window.kendo,R=T.keys,X=T._activeElement,q=T._extractFormat,u=T.support,C=u.browser,m=T.ui,O=m.Widget,M="open",P="close",N="change",j=".kendoTimePicker",V="click"+j,l="k-state-default",J="disabled",F="readonly",i="li",o="<span/>",A="k-state-focused",h="k-state-hover",k="mouseenter"+j+" mouseleave"+j,f="mousedown"+j,Y=60000,E=86400000,I="k-state-selected",W="k-state-disabled",r="aria-selected",p="aria-expanded",L="aria-hidden",U="aria-disabled",n="aria-readonly",Q="aria-activedescendant",G="id",t=d.isArray,Z=d.extend,v=d.proxy,S=Date,K=new S();K=new S(K.getFullYear(),K.getMonth(),K.getDate(),0,0,0);var D=function(x){var w=this,y=x.id;w.options=x;w.ul=d('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:u.kineticScrollNeeded?"":"auto"}).on(V,i,v(w._click,w)).on("mouseenter"+j,i,function(){d(this).addClass(h)}).on("mouseleave"+j,i,function(){d(this).removeClass(h)});w.list=d("<div class='k-list-container'/>").append(w.ul).on(f,B);if(y){w._timeViewID=y+"_timeview";w._optionID=y+"_option_selected";w.ul.attr(G,w._timeViewID)}w._popup();w.template=T.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:false})};D.prototype={current:function(w){var x=this,y=x.options.active;if(w!==e){if(x._current){x._current.removeClass(I).removeAttr(r).removeAttr(G)}if(w){w=d(w).addClass(I).attr(G,x._optionID).attr(r,true);x.scroll(w[0])}x._current=w;if(y){y(w)}}else{return x._current}},close:function(){this.popup.close()},destroy:function(){var w=this;w.ul.off(j);w.list.off(j);w.popup.destroy()},open:function(){var w=this;if(!w.ul[0].firstChild){w.bind()}w.popup.open();if(w._current){w.scroll(w._current[0])}},dataBind:function(Ab){var Ad=this,Aa=Ad.options,x=Aa.format,Ac=T.toString,w=Ad.template,z=Ab.length,y=0,Af,Ae="";for(;y<z;y++){Af=Ab[y];if(s(Af,Aa.min,Aa.max)){Ae+=w(Ac(Af,x,Aa.culture))}}Ad._html(Ae,z)},refresh:function(){var Ak=this,Ai=Ak.options,Ah=Ai.format,z=c(),Ac=z<0,Ab=Ai.min,Af=Ai.max,Ag=a(Ab),Am=a(Af),Ae=Ai.interval*Y,Aa=T.toString,Ao=Ak.template,An=new S(+Ab),y=An.getDate(),x,Aj,Al=0,w,Ad="";if(Ac){w=(E+(z*Y))/Ae}else{w=E/Ae}if(Ag!=Am){if(Ag>Am){Am+=E}w=((Am-Ag)/Ae)+1}Aj=parseInt(w,10);for(;Al<w;Al++){if(Al){g(An,Ae,Ac)}if(Am&&Aj==Al){x=a(An);if(y<An.getDate()){x+=E}if(x>Am){An=new S(+Af)}}Ad+=Ao(Aa(An,Ah,Ai.culture))}Ak._html(Ad,w)},bind:function(){var w=this,x=w.options.dates;if(x&&x[0]){w.dataBind(x)}else{w.refresh()}},_html:function(w,x){var y=this;y.ul[0].innerHTML=w;y._height(x);y.current(null);y.select(y._value)},scroll:function(Ae){if(!Ae){return}var Ad=this.ul[0],w=Ae.offsetTop,y=Ae.offsetHeight,z=Ad.scrollTop,Ab=Ad.clientHeight,x=w+y,Ac=this._touchScroller,Aa;if(Ac){Aa=Ac.dimensions.y;if(Aa.enabled&&w>Aa.size){w=w-Aa.size+y+4;Ac.scrollTo(0,-w)}}else{Ad.scrollTop=z>w?w:x>(z+Ab)?x-Ab:z}},select:function(z){var w=this,x=w.options,y=w._current;if(z instanceof Date){z=T.toString(z,x.format,x.culture)}if(typeof z==="string"){if(!y||y.text()!==z){z=d.grep(w.ul[0].childNodes,function(Aa){return(Aa.textContent||Aa.innerText)==z});z=z[0]?z:null}else{z=y}}w.current(z)},toggle:function(){var w=this;if(w.popup.visible()){w.close()}else{w.open()}},value:function(x){var w=this;w._value=x;if(w.ul[0].firstChild){w.select(x)}},_click:function(w){var x=this,y=d(w.currentTarget);if(!w.isDefaultPrevented()){x.select(y);x.options.change(y.text(),true);x.close()}},_height:function(x){if(x){var y=this,z=y.list,Aa=z.parent(".k-animation-container"),w=y.options.height;z.add(Aa).show().height(y.ul[0].scrollHeight>w?w:"auto").hide()}},_parse:function(z){var w=this,x=w.options,y=w._value||K;if(z instanceof S){return z}z=T.parseDate(z,x.parseFormats,x.culture);if(z){z=new S(y.getFullYear(),y.getMonth(),y.getDate(),z.getHours(),z.getMinutes(),z.getSeconds(),z.getMilliseconds())}return z},_adjustListWidth:function(){var z=this.list,Aa=z[0].style.width,w=this.options.anchor,x,y;if(!z.data("width")&&Aa){return}x=window.getComputedStyle?window.getComputedStyle(w[0],null):0;y=x?parseFloat(x.width):w.outerWidth();if(x&&(C.mozilla||C.msie)){y+=parseFloat(x.paddingLeft)+parseFloat(x.paddingRight)+parseFloat(x.borderLeftWidth)+parseFloat(x.borderRightWidth)}Aa=y-(z.outerWidth()-z.width());z.css({fontFamily:w.css("font-family"),width:Aa}).data("width",Aa)},_popup:function(){var w=this,y=w.list,x=w.options,z=x.anchor;w.popup=new m.Popup(y,Z(x.popup,{anchor:z,open:x.open,close:x.close,animation:x.animation,isRtl:u.isRtl(x.anchor)}));w._touchScroller=T.touchScroller(w.popup.element)},move:function(y){var z=this,x=y.keyCode,Ab=z.ul[0],Aa=z._current,w=x===R.DOWN;if(x===R.UP||w){if(y.altKey){z.toggle(w);return}else{if(w){Aa=Aa?Aa[0].nextSibling:Ab.firstChild}else{Aa=Aa?Aa[0].previousSibling:Ab.lastChild}}if(Aa){z.select(Aa)}z.options.change(z._current.text());y.preventDefault()}else{if(x===R.ENTER||x===R.TAB||x===R.ESC){y.preventDefault();if(Aa){z.options.change(Aa.text(),true)}z.close()}}}};function g(z,y,Aa){var w=z.getTimezoneOffset(),x;z.setTime(z.getTime()+y);if(!Aa){x=z.getTimezoneOffset()-w;z.setTime(z.getTime()+x*Y)}}function c(){var w=new S(),x=new S(w.getFullYear(),w.getMonth(),w.getDate(),0,0,0),y=new S(w.getFullYear(),w.getMonth(),w.getDate(),12,0,0);return -1*(x.getTimezoneOffset()-y.getTimezoneOffset())}function a(w){return w.getHours()*60*Y+w.getMinutes()*Y+w.getSeconds()*1000+w.getMilliseconds()}function s(z,w,Ab){var Aa=a(w),y=a(Ab),x;if(!z||Aa==y){return true}x=a(z);if(Aa>x){x+=E}if(y<Aa){y+=E}return x>=Aa&&x<=y}D.getMilliseconds=a;T.TimeView=D;var H=O.extend({init:function(Ab,z){var y=this,Aa,Ac,w;O.fn.init.call(y,Ab,z);Ab=y.element;z=y.options;b(z);y._wrapper();y.timeView=Ac=new D(Z({},z,{id:Ab.attr(G),anchor:y.wrapper,format:z.format,change:function(Ad,Ae){if(Ae){y._change(Ad)}else{Ab.val(Ad)}},open:function(Ad){y.timeView._adjustListWidth();if(y.trigger(M)){Ad.preventDefault()}else{Ab.attr(p,true);Aa.attr(L,false)}},close:function(Ad){if(y.trigger(P)){Ad.preventDefault()}else{Ab.attr(p,false);Aa.attr(L,true)}},active:function(Ad){Ab.removeAttr(Q);if(Ad){Ab.attr(Q,Ac._optionID)}}}));Aa=Ac.ul;y._icon();y._reset();try{Ab[0].setAttribute("type","text")}catch(x){Ab[0].type="text"}Ab.addClass("k-input").attr({"role":"textbox","aria-haspopup":true,"aria-expanded":false,"aria-owns":Ac._timeViewID});w=Ab.is("[disabled]");if(w){y.enable(false)}else{y.readonly(Ab.is("[readonly]"))}y._old=y._update(z.value||y.element.val());y._oldText=Ab.val();T.notify(y)},options:{name:"TimePicker",min:K,max:K,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[M,P,N],setOptions:function(y){var x=this,z=x.timeView,w=z.options;O.fn.setOptions.call(x,y);b(x.options);z.options=Z(w,x.options,{active:w.active,change:w.change,close:w.close,open:w.open});z.ul[0].innerHTML=""},dataBind:function(w){if(t(w)){this.timeView.dataBind(w)}},_editable:function(Aa){var y=this,z=Aa.disable,Ac=Aa.readonly,w=y._arrow.off(j),Ab=y.element.off(j),x=y._inputWrapper.off(j);if(!Ac&&!z){x.addClass(l).removeClass(W).on(k,y._toggleHover);Ab.removeAttr(J).removeAttr(F).attr(U,false).attr(n,false).on("keydown"+j,v(y._keydown,y)).on("blur"+j,v(y._blur,y)).on("focus"+j,function(){y._inputWrapper.addClass(A)});w.on(V,v(y._click,y)).on(f,B)}else{x.addClass(z?W:l).removeClass(z?l:W);Ab.attr(J,z).attr(F,Ac).attr(U,z).attr(n,Ac)}},readonly:function(w){this._editable({readonly:w===e?true:w,disable:false})},enable:function(w){this._editable({readonly:false,disable:!(w=w===e?true:w)})},destroy:function(){var w=this;O.fn.destroy.call(w);w.timeView.destroy();w.element.off(j);w._arrow.off(j);w._inputWrapper.off(j);if(w._form){w._form.off("reset",w._resetHandler)}},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(w){return this._option("min",w)},max:function(w){return this._option("max",w)},value:function(x){var w=this;if(x===e){return w._value}w._old=w._update(x);if(w._old===null){w.element.val("")}w._oldText=w.element.val()},_blur:function(){var w=this,x=w.element.val();w.close();if(x!==w._oldText){w._change(x)}w._inputWrapper.removeClass(A)},_click:function(){var w=this,x=w.element;w.timeView.toggle();if(!u.touch&&x[0]!==X()){x.focus()}},_change:function(x){var w=this;x=w._update(x);if(+w._old!=+x){w._old=x;w._oldText=w.element.val();w.trigger(N);w.element.trigger(N)}},_icon:function(){var x=this,y=x.element,w;w=y.next("span.k-select");if(!w[0]){w=d('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(y)}x._arrow=w.attr({"role":"button","aria-controls":x.timeView._timeViewID})},_keydown:function(x){var y=this,w=x.keyCode,z=y.timeView,Aa=y.element.val();if(z.popup.visible()||x.altKey){z.move(x)}else{if(w===R.ENTER&&Aa!==y._oldText){y._change(Aa)}}},_option:function(w,z){var x=this,y=x.options;if(z===e){return y[w]}z=x.timeView._parse(z);if(!z){return}z=new S(+z);y[w]=z;x.timeView.options[w]=z;x.timeView.bind()},_toggleHover:function(w){d(w.currentTarget).toggleClass(h,w.type==="mouseenter")},_update:function(z){var w=this,x=w.options,y=w.timeView,Aa=y._parse(z);if(!s(Aa,x.min,x.max)){Aa=null}w._value=Aa;w.element.val(Aa?T.toString(Aa,x.format,x.culture):z);y.value(Aa);return Aa},_wrapper:function(){var x=this,y=x.element,w;w=y.parents(".k-timepicker");if(!w[0]){w=y.wrap(o).parent().addClass("k-picker-wrap k-state-default");w=w.wrap(o).parent()}w[0].style.cssText=y[0].style.cssText;x.wrapper=w.addClass("k-widget k-timepicker k-header").addClass(y[0].className);y.css({width:"100%",height:y[0].style.height});x._inputWrapper=d(w[0].firstChild)},_reset:function(){var y=this,z=y.element,x=z.attr("form"),w=x?d("#"+x):z.closest("form");if(w[0]){y._resetHandler=function(){y.value(z[0].defaultValue)};y._form=w.on("reset",y._resetHandler)}}});function b(x){var w=x.parseFormats;x.format=q(x.format||T.getCulture(x.culture).calendars.standard.patterns.t);w=t(w)?w:[w];w.splice(0,0,x.format);x.parseFormats=w}function B(w){w.preventDefault()}m.plugin(H)})(window.kendo.jQuery);kendo_module({id:"datetimepicker",name:"DateTimePicker",category:"web",description:"The DateTimePicker allows the end user to select a value from a calendar or a time drop-down list.",depends:["datepicker","timepicker"]});(function(f,g){var V=window.kendo,M=V.TimeView,A=V.parseDate,Z=V._activeElement,o=V._extractFormat,d=V.calendar,e=d.isInRange,q=d.restrictValue,D=d.isEqualDatePart,i=M.getMilliseconds,l=V.ui,P=l.Widget,Y="open",Q="close",a="change",F=".kendoDateTimePicker",X="click"+F,I="disabled",H="readonly",s="k-state-default",B="k-state-focused",h="k-state-hover",K="k-state-disabled",T="mouseenter"+F+" mouseleave"+F,j="mousedown"+F,G="month",n="<span/>",S="aria-activedescendant",k="aria-expanded",N="aria-hidden",E="aria-owns",W="aria-disabled",m="aria-readonly",U=Date,O=new U(1900,0,1),b=new U(2099,11,31),p={view:"date"},R={view:"time"},r=f.extend;var J=P.extend({init:function(x,w){var v=this,t;P.fn.init.call(v,x,w);x=v.element;w=v.options;c(w);v._wrapper();v._views();v._icons();v._reset();v._template();try{x[0].setAttribute("type","text")}catch(u){x[0].type="text"}x.addClass("k-input").attr({"role":"textbox","aria-haspopup":true,"aria-expanded":false});v._midnight=i(w.min)+i(w.max)===0;t=x.is("[disabled]");if(t){v.enable(false)}else{v.readonly(x.is("[readonly]"))}v._old=v._update(w.value||v.element.val());v._oldText=x.val();V.notify(v)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new U(O),max:new U(b),interval:30,height:200,footer:"",start:G,depth:G,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "G")#'},events:[Y,Q,a],setOptions:function(w){var v=this,t=v.dateView.options,u=v.timeView.options,x,z,y;P.fn.setOptions.call(v,w);c(v.options);w=v.options;x=w.min;z=w.max;y=w.value||v._value||v.dateView._current;if(x&&!D(x,y)){x=new U(O)}if(z&&!D(z,y)){z=new U(b)}r(t,w,{change:t.change,close:t.close,open:t.open});r(u,w,{format:w.timeFormat,active:u.active,change:u.change,close:u.close,open:u.open,min:x,max:z});v.timeView.ul[0].innerHTML=""},_editable:function(w){var v=this,u=v.element.off(F),t=v._dateIcon.off(F),x=v._timeIcon.off(F),y=v._inputWrapper.off(F),z=w.readonly,Aa=w.disable;if(!z&&!Aa){y.addClass(s).removeClass(K).on(T,v._toggleHover);u.removeAttr(I).removeAttr(H).attr(W,false).attr(m,false).on("keydown"+F,f.proxy(v._keydown,v)).on("focus"+F,function(){v._inputWrapper.addClass(B)}).on("blur"+F,function(){v._inputWrapper.removeClass(B);if(u.val()!==v._oldText){v._change(u.val())}v.close("date");v.close("time")});t.on(j,C).on(X,function(){v.toggle("date");if(!V.support.touch&&u[0]!==Z()){u.focus()}});x.on(j,C).on(X,function(){v.toggle("time");if(!V.support.touch&&u[0]!==Z()){u.focus()}})}else{y.addClass(Aa?K:s).removeClass(Aa?s:K);u.attr(I,Aa).attr(H,z).attr(W,Aa).attr(m,z)}},readonly:function(t){this._editable({readonly:t===g?true:t,disable:false})},enable:function(t){this._editable({readonly:false,disable:!(t=t===g?true:t)})},destroy:function(){var t=this;P.fn.destroy.call(t);t.dateView.destroy();t.timeView.destroy();t.element.off(F);t._dateIcon.off(F);t._timeIcon.off(F);t._inputWrapper.off(F);if(t._form){t._form.off("reset",t._resetHandler)}},close:function(t){if(t!=="time"){t="date"}this[t+"View"].close()},open:function(t){if(t!=="time"){t="date"}this[t+"View"].open()},min:function(t){return this._option("min",t)},max:function(t){return this._option("max",t)},toggle:function(u){var t="timeView";if(u!=="time"){u="date"}else{t="dateView"}this[u+"View"].toggle();this[t].close()},value:function(u){var t=this;if(u===g){return t._value}t._old=t._update(u);if(t._old===null){t.element.val("")}t._oldText=t.element.val()},_change:function(u){var t=this;u=t._update(u);if(+t._old!=+u){t._old=u;t._oldText=t.element.val();t.trigger(a);t.element.trigger(a)}},_option:function(t,z){var v=this,x=v.options,y=v.timeView,u=y.options,w=v._value||v._old;if(z===g){return x[t]}z=A(z,x.parseFormats,x.culture);if(!z){return}x[t]=new U(+z);v.dateView[t](z);v._midnight=i(x.min)+i(x.max)===0;if(w&&D(z,w)){if(v._midnight&&t=="max"){u[t]=b;y.dataBind([b]);return}u[t]=z}else{u.max=b;u.min=O}y.bind()},_toggleHover:function(t){f(t.currentTarget).toggleClass(h,t.type==="mouseenter")},_update:function(z){var Ac=this,Ab=Ac.options,v=Ab.min,w=Ab.max,Aa=Ab.dates,Ad=Ac.timeView,Af=A(z,Ab.parseFormats,Ab.culture),Ae,y,u,x,t;if(+Af===+Ac._value){t=V.toString(Af,Ab.format,Ab.culture);if(t!==z){Ac.element.val(Af===null?z:t)}return Af}if(Af!==null&&D(Af,v)){Af=q(Af,v,w)}else{if(!e(Af,v,w)){Af=null}}Ac._value=Af;Ad.value(Af);Ac.dateView.value(Af);if(Af){u=Ac._old;y=Ad.options;if(Aa[0]){Aa=f.grep(Aa,function(Ag){return D(Af,Ag)});if(Aa[0]){Ad.dataBind(Aa);x=true}}if(!x){if(D(Af,v)){y.min=v;y.max=L(Ab.interval);Ae=true}if(D(Af,w)){if(Ac._midnight){Ad.dataBind([b]);x=true}else{y.max=w;if(!Ae){y.min=O}Ae=true}}}if(!x&&((!u&&Ae)||(u&&!D(u,Af)))){if(!Ae){y.max=b;y.min=O}Ad.bind()}}Ac.element.val(Af?V.toString(Af,Ab.format,Ab.culture):z);Ac._updateARIA(Af);return Af},_keydown:function(u){var v=this,t=v.dateView,x=v.timeView,y=v.element.val(),w=t.popup.visible();if(u.altKey&&u.keyCode===V.keys.DOWN){v.toggle(w?"time":"date")}else{if(w){t.move(u);v._updateARIA(t._current)}else{if(x.popup.visible()){x.move(u)}else{if(u.keyCode===V.keys.ENTER&&y!==v._oldText){v._change(y)}}}}},_views:function(){var x=this,u=x.element,y=x.options,z=u.attr("id"),t,Aa,Ab,w,v;x.dateView=t=new V.DateView(r({},y,{id:z,anchor:x.wrapper,change:function(){var Af=t.calendar.value(),Ac=+Af,Ag=+y.min,Ad=+y.max,Ae;if(Ac===Ag||Ac===Ad){Ae=new U(+x._value);Ae.setFullYear(Af.getFullYear(),Af.getMonth(),Af.getDate());if(e(Ae,Ag,Ad)){Af=Ae}}x._change(Af);x.close("date")},close:function(Ac){if(x.trigger(Q,p)){Ac.preventDefault()}else{u.attr(k,false);Ab.attr(N,true);if(!Aa.popup.visible()){u.removeAttr(E)}}},open:function(Ac){if(x.trigger(Y,p)){Ac.preventDefault()}else{if(x.element.val()!==x._oldText){v=A(u.val(),y.parseFormats,y.culture);if(!v){x.dateView.value(v)}else{x.dateView._current=v;x.dateView.calendar._focus(v)}}Ab.attr(N,false);u.attr(k,true).attr(E,t._dateViewID)}}}));Ab=t.div;x.timeView=Aa=new M({id:z,value:y.value,anchor:x.wrapper,animation:y.animation,format:y.timeFormat,culture:y.culture,height:y.height,interval:y.interval,min:new U(O),max:new U(b),parseFormats:y.parseFormats,change:function(Ac,Ad){Ac=Aa._parse(Ac);if(Ac<y.min){Ac=new U(+y.min);Aa.options.min=Ac}else{if(Ac>y.max){Ac=new U(+y.max);Aa.options.max=Ac}}if(Ad){x._timeSelected=true;x._change(Ac)}else{u.val(V.toString(Ac,y.format,y.culture));t.value(Ac);x._updateARIA(Ac)}},close:function(Ac){if(x.trigger(Q,R)){Ac.preventDefault()}else{w.attr(N,true);u.attr(k,false);if(!t.popup.visible()){u.removeAttr(E)}}},open:function(Ac){Aa._adjustListWidth();if(x.trigger(Y,R)){Ac.preventDefault()}else{w.attr(N,false);u.attr(k,true).attr(E,Aa._timeViewID)}},active:function(Ac){u.removeAttr(S);if(Ac){u.attr(S,Aa._optionID)}}});w=Aa.ul},_icons:function(){var u=this,v=u.element,t;t=v.next("span.k-select");if(!t[0]){t=f('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(v)}t=t.children();u._dateIcon=t.eq(0).attr({"role":"button","aria-controls":u.dateView._dateViewID});u._timeIcon=t.eq(1).attr({"role":"button","aria-controls":u.timeView._timeViewID})},_wrapper:function(){var u=this,v=u.element,t;t=v.parents(".k-datetimepicker");if(!t[0]){t=v.wrap(n).parent().addClass("k-picker-wrap k-state-default");t=t.wrap(n).parent()}t[0].style.cssText=v[0].style.cssText;v.css({width:"100%",height:v[0].style.height});u.wrapper=t.addClass("k-widget k-datetimepicker k-header").addClass(v[0].className);u._inputWrapper=f(t[0].firstChild)},_reset:function(){var v=this,w=v.element,u=w.attr("form"),t=u?f("#"+u):w.closest("form");if(t[0]){v._resetHandler=function(){v.value(w[0].defaultValue)};v._form=t.on("reset",v._resetHandler)}},_template:function(){this._ariaTemplate=V.template(this.options.ARIATemplate)},_updateARIA:function(t){this.element.attr("aria-label",this._ariaTemplate({current:t}))}});function L(t){var u=new Date(2100,0,1);u.setMinutes(-t);return u}function C(t){t.preventDefault()}function c(u){var v=V.getCulture(u.culture).calendars.standard.patterns,t;u.format=o(u.format||v.g);u.timeFormat=t=o(u.timeFormat||v.t);V.DateView.normalize(u);if(f.inArray(t,u.parseFormats)===-1){u.parseFormats.splice(1,0,t)}}l.plugin(J)})(window.kendo.jQuery);kendo_module({id:"treeview",name:"TreeView",category:"web",description:"The TreeView widget displays hierarchical data in a traditional tree structure,with support for interactive drag-and-drop operations.",depends:["data","draganddrop"]});(function(f,g){var U=window.kendo,l=U.ui,p=U.data,s=f.extend,j=U.template,q=f.isArray,P=l.Widget,A=p.HierarchicalDataSource,w=f.proxy,T=U.keys,t=".kendoTreeView",J="select",V="navigate",E="expand",i="change",X="error",F="checked",u="collapse",a="dragstart",b="drag",d="drop",Z="dragend",R="dataBound",N="click",m="visibility",h="undefined",c="k-state-hover",O="k-treeview",K=":visible",C=".k-item",v="string",n="aria-selected",r="aria-disabled",M,S,I,W,G,o={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},k=function(x){return(typeof HTMLElement==="object"?x instanceof HTMLElement:x&&typeof x==="object"&&x.nodeType===1&&typeof x.nodeName===v)};function B(x){return function(z){var y=z.children(".k-animation-container");if(!y.length){y=z}return y.children(x)}}function Y(x){return U.template(x,{useWithBlock:false})}S=B(".k-group");I=B(".k-group,.k-content");W=function(x){return x.children("div").children(".k-icon")};function L(x){return x.children("div").find(".k-checkbox:first :checkbox")}function H(x){return function(Ab,Aa){Aa=Aa.closest(C);var z=Aa.parent(),y;if(z.parent().is("li")){y=z.parent()}return this._dataSourceMove(Ab,z,y,function(Ac,Ad){return this._insert(Ac.data(),Ad,Aa.index()+x)})}}G=/k-sprite/;function Q(y,z){var x;while(y&&y.nodeName.toLowerCase()!="ul"){x=y;y=y.nextSibling;if(x.nodeType==3){x.nodeValue=f.trim(x.nodeValue)}if(G.test(x.className)){z.insertBefore(x,z.firstChild)}else{z.appendChild(x)}}}function D(z){var y=z.children("div"),x=z.children("ul"),Aa=y.children(".k-icon"),Ac=z.children(":checkbox"),Ab=y.children(".k-in");if(z.hasClass("k-treeview")){return}if(!y.length){y=f("<div />").prependTo(z)}if(!Aa.length&&x.length){Aa=f("<span class='k-icon' />").prependTo(y)}else{if(!x.length||!x.children().length){Aa.remove();x.remove()}}if(Ac.length){f("<span class='k-checkbox' />").appendTo(y).append(Ac)}if(!Ab.length){Ab=z.children("a").eq(0).addClass("k-in");if(!Ab.length){Ab=f("<span class='k-in' />")}Ab.appendTo(y);if(y.length){Q(y[0].nextSibling,Ab[0])}}}M=P.extend({init:function(Ac,Aa){var y=this,Ad,z=false,x=Aa&&!!Aa.dataSource,Ab;if(q(Aa)){Ad=true;Aa={dataSource:Aa}}if(Aa&&typeof Aa.loadOnDemand==h&&q(Aa.dataSource)){Aa.loadOnDemand=false}P.prototype.init.call(y,Ac,Aa);Ac=y.element;Aa=y.options;Ab=(Ac.is("ul")&&Ac)||(Ac.hasClass(O)&&Ac.children("ul"));z=!x&&Ab.length;if(z){Aa.dataSource.list=Ab}y._animation();y._accessors();y._templates();if(!Ac.hasClass(O)){y._wrapper();if(Ab){y.root=Ac;y._group(y.wrapper)}}else{y.wrapper=Ac;y.root=Ac.children("ul").eq(0)}y._tabindex();if(!y.wrapper.filter("[role=tree]").length){y.wrapper.attr("role","tree")}y._dataSource(z);y._attachEvents();y._dragging();if(!z){if(Aa.autoBind){y._progress(true);y.dataSource.fetch()}}else{y._attachUids()}if(Aa.checkboxes&&Aa.checkboxes.checkChildren){y.updateIndeterminate()}if(y.element[0].id){y._ariaId=U.format("{0}_tv_active",y.element[0].id)}},_attachEvents:function(){var y=this,z=".k-in:not(.k-state-selected,.k-state-disabled)",x="mouseenter";y.wrapper.on(x+t,".k-in.k-state-selected",function(Aa){Aa.preventDefault()}).on(x+t,z,function(){f(this).addClass(c)}).on("mouseleave"+t,z,function(){f(this).removeClass(c)}).on(N+t,z,w(y._click,y)).on("dblclick"+t,".k-in:not(.k-state-disabled)",w(y._toggleButtonClick,y)).on(N+t,".k-plus,.k-minus",w(y._toggleButtonClick,y)).on("keydown"+t,w(y._keydown,y)).on("focus"+t,w(y._focus,y)).on("blur"+t,w(y._blur,y)).on("mousedown"+t,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",w(y._mousedown,y)).on("change"+t,".k-checkbox :checkbox",w(y._checkboxChange,y)).on("click"+t,".k-checkbox :checkbox",w(y._checkboxClick,y)).on("click"+t,".k-request-retry",w(y._retryRequest,y)).on("click"+t,function(Aa){if(!f(Aa.target).is(":kendoFocusable")){y.focus()}})},_checkboxClick:function(y){var x=f(y.target);if(x.data("indeterminate")){x.data("indeterminate",false).prop("indeterminate",false).prop(F,true);this._checkboxChange(y)}},_attachUids:function(x,z){var y=this,Ab,Aa=U.attr("uid");x=x||y.root;z=z||y.dataSource;Ab=z.view();x.children("li").each(function(Ad,Ac){Ac=f(Ac).attr(Aa,Ab[Ad].uid);Ac.attr("role","treeitem");y._attachUids(Ac.children("ul"),Ab[Ad].children)})},_animation:function(){var y=this.options,x=y.animation;if(x===false){x={expand:{effects:{}},collapse:{hide:true,effects:{}}}}else{if(!x.collapse||!("effects" in x.collapse)){x.collapse=s({reverse:true},x.expand)}}s(x.collapse,{hide:true});y.animation=x},_dragging:function(){var y=this.options.dragAndDrop;var x=this.dragging;if(y&&!x){this.dragging=new e(this)}else{if(!y&&x){x.destroy();this.dragging=null}}},_templates:function(){var x=this,y=x.options,z=w(x._fieldAccessor,x);if(y.template&&typeof y.template==v){y.template=j(y.template)}else{if(!y.template){y.template=Y("# var text = "+z("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")}}x._checkboxes();x.templates={wrapperCssClass:function(Aa,Ac){var Ab="k-item",Ad=Ac.index;if(Aa.firstLevel&&Ad===0){Ab+=" k-first"}if(Ad==Aa.length-1){Ab+=" k-last"}return Ab},cssClass:function(Aa,Ac){var Ab="",Ae=Ac.index,Ad=Aa.length-1;if(Aa.firstLevel&&Ae===0){Ab+="k-top "}if(Ae===0&&Ae!=Ad){Ab+="k-top"}else{if(Ae==Ad){Ab+="k-bot"}else{Ab+="k-mid"}}return Ab},textClass:function(Ab){var Aa="k-in";if(Ab.enabled===false){Aa+=" k-state-disabled"}if(Ab.selected===true){Aa+=" k-state-selected"}return Aa},toggleButtonClass:function(Ab){var Aa="k-icon";if(Ab.expanded!==true){Aa+=" k-plus"}else{Aa+=" k-minus"}if(Ab.enabled===false){Aa+="-disabled"}return Aa},groupAttributes:function(Aa){return Aa.expanded!==true?" style='display:none'":""},groupCssClass:function(Aa){var Ab="k-group";if(Aa.firstLevel){Ab+=" k-treeview-lines"}return Ab},dragClue:Y("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />#= data.treeview.template(data) #</div>"),group:Y("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) # role='group'>#= data.renderItems(data) #</ul>"),itemContent:Y("# var imageUrl = "+z("imageUrl")+"(data.item); ## var spriteCssClass = "+z("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:Y("# var item = data.item, r = data.r; ## var url = "+z("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation' /># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:Y("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+U.attr("uid")+"='#= item.uid #'#=item.selected ? \"aria-selected='true'\" : ''##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= r.itemElement(data) #</li>"),loading:Y("<div class='k-icon k-loading' /> Loading..."),retry:Y("Request failed. <button class='k-button k-request-retry'>Retry</button>")}},items:function(){return this.element.find(".k-item")},setDataSource:function(x){this.options.dataSource=x;this._dataSource();this.dataSource.fetch()},_bindDataSource:function(){this._refreshHandler=w(this.refresh,this);this._errorHandler=w(this._error,this);this.dataSource.bind(i,this._refreshHandler);this.dataSource.bind(X,this._errorHandler)},_unbindDataSource:function(){var x=this.dataSource;if(x){x.unbind(i,this._refreshHandler);x.unbind(X,this._errorHandler)}},_dataSource:function(Ab){var y=this,Aa=y.options,z=Aa.dataSource;function x(Ad){for(var Ac=0;Ac<Ad.length;Ac++){Ad[Ac]._initChildren();Ad[Ac].children.fetch();x(Ad[Ac].children.view())}}z=q(z)?{data:z}:z;y._unbindDataSource();if(!z.fields){z.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}y.dataSource=z=A.create(z);if(Ab){z.fetch();x(z.view())}y._bindDataSource()},events:[a,b,d,Z,R,E,u,J,i,V],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},dragAndDrop:false,checkboxes:false,autoBind:true,loadOnDemand:true,template:"",dataTextField:null},_accessors:function(){var y=this,z=y.options,x,Ab,Aa,Ac=y.element;for(x in o){Ab=z[o[x]];Aa=Ac.attr(U.attr(x+"-field"));if(!Ab&&Aa){Ab=Aa}if(!Ab){Ab=x}if(!q(Ab)){Ab=[Ab]}z[o[x]]=Ab}},_fieldAccessor:function(Aa){var y=this.options[o[Aa]],x=y.length,z="(function(item) {";if(x===0){z+="return item['"+Aa+"'];"}else{z+="var levels = ["+f.map(y,function(Ab){return"function(d){ return "+U.expr(Ab)+"}"}).join(",")+"];";z+="return levels[Math.min(item.level(), "+x+"-1)](item)"}z+="})";return z},setOptions:function(x){P.fn.setOptions.call(this,x);this._animation();this._dragging();this._templates()},_trigger:function(y,x){return this.trigger(y,{node:x.closest(C)[0]})},_setChecked:function(y,Aa){if(!y||!f.isFunction(y.view)){return}for(var x=0,z=y.view();x<z.length;x++){z[x][F]=Aa;if(z[x].children){this._setChecked(z[x].children,Aa)}}},_setIndeterminate:function(Ab){var y=S(Ab),x,z,Ac=true,Aa;if(!y.length){return}x=L(y.children());z=x.length;if(!z){return}else{if(z>1){for(Aa=1;Aa<z;Aa++){if(x[Aa].checked!=x[Aa-1].checked||x[Aa].indeterminate||x[Aa-1].indeterminate){Ac=false;break}}}else{Ac=!x[0].indeterminate}}L(Ab).data("indeterminate",!Ac).prop("indeterminate",!Ac).prop(F,Ac&&x[0].checked)},updateIndeterminate:function(y){y=y||this.wrapper;var z=S(y).children(),x;if(z.length){for(x=0;x<z.length;x++){this.updateIndeterminate(z.eq(x))}this._setIndeterminate(y)}},_bubbleIndeterminate:function(z){if(!z.length){return}var y=this.parent(z),x;if(y.length){this._setIndeterminate(y);x=y.children("div").find(".k-checkbox :checkbox");if(x.prop("indeterminate")===false){this.dataItem(y).set(F,x.prop(F))}else{this.dataItem(y).checked=false}this._bubbleIndeterminate(y)}},_checkboxChange:function(y){var x=f(y.target),Aa=x.prop(F),z=x.closest(C);this.dataItem(z).set(F,Aa)},_toggleButtonClick:function(x){this.toggle(f(x.target).closest(C))},_mousedown:function(x){var y=f(x.currentTarget).closest(C);this._clickTarget=y;this.current(y)},_focusable:function(x){return x&&x.length&&x.is(":visible")&&!x.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var y=this.select(),x=this._clickTarget;if(U.support.touch){return}if(x&&x.length){y=x}if(!this._focusable(y)){y=this.current()}if(!this._focusable(y)){y=this._nextVisible(f())}this.current(y)},focus:function(){var y=this.wrapper,x=y[0],Ac=[],z=[],Ab=document.documentElement,Aa;do{x=x.parentNode;if(x.scrollHeight>x.clientHeight){Ac.push(x);z.push(x.scrollTop)}}while(x!=Ab);y.focus();for(Aa=0;Aa<Ac.length;Aa++){Ac[Aa].scrollTop=z[Aa]}},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(x){return !x.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(Aa){var x=/\bk-treeview\b/,Ab=/\bk-item\b/,z,y;if(typeof Aa==v){Aa=this.element.find(Aa)}if(!k(Aa)){Aa=Aa[0]}y=Ab.test(Aa.className);do{Aa=Aa.parentNode;if(Ab.test(Aa.className)){if(y){z=Aa}else{y=true}}}while(!x.test(Aa.className)&&!z);return f(z)},_nextVisible:function(y){var x=this,Ab=x._expanded(y),Aa;function z(Ac){while(Ac.length&&!Ac.next().length){Ac=x.parent(Ac)}if(Ac.next().length){return Ac.next()}else{return Ac}}if(!y.length||!y.is(":visible")){Aa=x.root.children().eq(0)}else{if(Ab){Aa=S(y).children().first();if(!Aa.length){Aa=z(y)}}else{Aa=z(y)}}if(!x._enabled(Aa)){Aa=x._nextVisible(Aa)}return Aa},_previousVisible:function(y){var x=this,z,Aa;if(!y.length||y.prev().length){if(y.length){Aa=y.prev()}else{Aa=x.root.children().last()}while(x._expanded(Aa)){z=S(Aa).children().last();if(!z.length){break}Aa=z}}else{Aa=x.parent(y)||y}if(!x._enabled(Aa)){Aa=x._previousVisible(Aa)}return Aa},_keydown:function(x){var Ac=this,Ae=x.keyCode,Ad,y=Ac.current(),Ab=Ac._expanded(y),Aa=y.find(".k-checkbox:first :checkbox"),z=U.support.isRtl(Ac.element);if(x.target!=x.currentTarget){return}if((!z&&Ae==T.RIGHT)||(z&&Ae==T.LEFT)){if(Ab){Ad=Ac._nextVisible(y)}else{Ac.expand(y)}}else{if((!z&&Ae==T.LEFT)||(z&&Ae==T.RIGHT)){if(Ab){Ac.collapse(y)}else{Ad=Ac.parent(y);if(!Ac._enabled(Ad)){Ad=g}}}else{if(Ae==T.DOWN){Ad=Ac._nextVisible(y)}else{if(Ae==T.UP){Ad=Ac._previousVisible(y)}else{if(Ae==T.HOME){Ad=Ac._nextVisible(f())}else{if(Ae==T.END){Ad=Ac._previousVisible(f())}else{if(Ae==T.ENTER){if(!y.find(".k-in:first").hasClass("k-state-selected")){if(!Ac._trigger(J,y)){Ac.select(y)}}}else{if(Ae==T.SPACEBAR&&Aa.length){Aa.prop(F,!Aa.prop(F)).data("indeterminate",false).prop("indeterminate",false);Ac._checkboxChange({target:Aa});Ad=y}}}}}}}}if(Ad){x.preventDefault();if(y[0]!=Ad[0]){Ac._trigger(V,Ad);Ac.current(Ad)}}},_click:function(y){var z=this,Aa=f(y.currentTarget),Ab=I(Aa.closest(C)),x=Aa.attr("href"),Ac;if(x){Ac=x=="#"||x.indexOf("#"+this.element.id+"-")>=0}else{Ac=Ab.length&&!Ab.children().length}if(Ac){y.preventDefault()}if(!Aa.hasClass(".k-state-selected")&&!z._trigger(J,Aa)){z.select(Aa)}},_wrapper:function(){var y=this,Aa=y.element,x,z,Ab="k-widget k-treeview";if(Aa.is("ul")){x=Aa.wrap("<div />").parent();z=Aa}else{x=Aa;z=x.children("ul").eq(0)}y.wrapper=x.addClass(Ab);y.root=z},_group:function(z){var y=this,x=z.hasClass(O),Aa={firstLevel:x,expanded:x||y._expanded(z)},Ab=z.children("ul");Ab.addClass(y.templates.groupCssClass(Aa)).css("display",Aa.expanded?"":"none");y._nodes(Ab,Aa)},_nodes:function(Ab,z){var y=this,Aa=Ab.children("li"),x;z=s({length:Aa.length},z);Aa.each(function(Ac,Ad){Ad=f(Ad);x={index:Ac,expanded:y._expanded(Ad)};D(Ad);y._updateNodeClasses(Ad,z,x);y._group(Ad)})},_checkboxes:function(){var z=this.options,x=z.checkboxes,y;if(x||z.checkboxTemplate){if(z.checkboxTemplate){y=z.checkboxTemplate}else{y="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #";if(x.name){y+=" name='"+x.name+"'"}y+=" />"}x=s({template:y},z.checkboxes);if(typeof x.template==v){x.template=j(x.template)}z.checkboxes=x}},_updateNodeClasses:function(z,Ab,Ac){var y=z.children("div"),x=z.children("ul"),Aa=this.templates;if(z.hasClass("k-treeview")){return}Ac=Ac||{};Ac.expanded=typeof Ac.expanded!=h?Ac.expanded:this._expanded(z);Ac.index=typeof Ac.index!=h?Ac.index:z.index();Ac.enabled=typeof Ac.enabled!=h?Ac.enabled:!y.children(".k-in").hasClass("k-state-disabled");Ab=Ab||{};Ab.firstLevel=typeof Ab.firstLevel!=h?Ab.firstLevel:z.parent().parent().hasClass(O);Ab.length=typeof Ab.length!=h?Ab.length:z.parent().children().length;z.removeClass("k-first k-last").addClass(Aa.wrapperCssClass(Ab,Ac));y.removeClass("k-top k-mid k-bot").addClass(Aa.cssClass(Ab,Ac));y.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(Aa.textClass(Ac));if(x.length||z.attr("data-hasChildren")=="true"){y.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(Aa.toggleButtonClass(Ac));x.addClass("k-group")}},_processNodes:function(z,x){var y=this;y.element.find(z).each(function(Ab,Aa){x.call(y,Ab,f(Aa).closest(C))})},dataItem:function(x){var y=f(x).closest(C).attr(U.attr("uid")),z=this.dataSource;return z&&z.getByUid(y)},_insertNode:function(Ab,y,Ac,Ah,Ak){var Ad=this,Ae=S(Ac),z=Ae.children().length+1,x,Ag={firstLevel:Ac.hasClass(O),expanded:!Ak,length:z},Af,Ai,Al,Aa="",Aj=function(An,Am){An.appendTo(Am)};for(Ai=0;Ai<Ab.length;Ai++){Al=Ab[Ai];Al.index=y+Ai;Aa+=Ad._renderItem({group:Ag,item:Al})}Af=f(Aa);if(!Af.length){return}if(!Ae.length){Ae=f(Ad._renderGroup({group:Ag})).appendTo(Ac)}Ah(Af,Ae);if(Ac.hasClass("k-item")){D(Ac);Ad._updateNodeClasses(Ac)}Ad._updateNodeClasses(Af.prev().first());Ad._updateNodeClasses(Af.next().last());for(Ai=0;Ai<Ab.length;Ai++){Al=Ab[Ai];if(Al.hasChildren){x=Al.children.data();if(x.length){Ad._insertNode(x,Al.index,Af.eq(Ai),Aj,!Ad._expanded(Af.eq(Ai)))}}}return Af},_updateNode:function(Ac,Ag){var Ab=this,Aa,Ad,Ai,Ae,x,z={treeview:Ab.options,item:Ai},Af=false;function Ah(){Af=true}function y(Aj,Ak){Aj.find(".k-checkbox :checkbox").prop(F,Ak).data("indeterminate",false).prop("indeterminate",false)}if(Ac=="selected"){Ai=Ag[0];Ad=Ab.findByUid(Ai.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",Ai[Ac]).end();if(Ai[Ac]){Ab.current(Ad);Ad.attr(n,true)}else{Ad.attr(n,false)}}else{if(f.inArray(Ac,Ab.options.dataTextField)>=0){Af=true}else{z.item=Ag[0];z.item.bind("get",Ah);Ab.templates.itemContent(z);z.item.unbind("set",Ah)}for(Aa=0;Aa<Ag.length;Aa++){z.item=Ai=Ag[Aa];if(Ac=="spriteCssClass"||Ac=="imageUrl"||Af){Ab.findByUid(Ai.uid).find(">div>.k-in").html(Ab.templates.itemContent(z))}if(Ac==F){Ad=Ab.findByUid(Ai.uid);Ae=Ai[Ac];y(Ad.children("div"),Ae);if(Ab.options.checkboxes.checkChildren){y(Ad.children(".k-group"),Ae);Ab._setChecked(Ai.children,Ae);Ab._bubbleIndeterminate(Ad)}}else{if(Ac=="expanded"){Ab._toggle(Ab.findByUid(Ai.uid),Ai,Ai[Ac])}else{if(Ac=="enabled"){Ad=Ab.findByUid(Ai.uid);Ad.find(".k-checkbox :checkbox").prop("disabled",!Ai[Ac]);x=!I(Ad).is(K);Ad.removeAttr(r);if(!Ai[Ac]){if(Ai.selected){Ai.set("selected",false)}if(Ai.expanded){Ai.set("expanded",false)}x=true;Ad.removeAttr(n).attr(r,true)}Ab._updateNodeClasses(Ad,{},{enabled:Ai[Ac],expanded:!x})}}}}}},_appendItems:function(Ab,Aa,z){var y=S(z);var Ac=y.children();var x=!this._expanded(z);if(typeof Ab==h){Ab=Ac.length}this._insertNode(Aa,Ab,z,function(Ae,Ad){if(Ab==Ac.length){Ae.appendTo(Ad)}else{Ae.insertBefore(Ac.eq(Ab))}},x);if(this._expanded(z)){this._updateNodeClasses(z);S(z).css("display","block")}},refresh:function(x){var Aa=this,z=Aa.wrapper,Ac=x.node,Af=x.action,Ae=x.items,Ab=Aa.options,Ag=Ab.loadOnDemand,y=Ab.checkboxes&&Ab.checkboxes.checkChildren,Ad;if(x.field){return Aa._updateNode(x.field,Ae)}if(Ac){z=Aa.findByUid(Ac.uid);Aa._progress(z,false)}if(y&&Af!="remove"&&Ac&&Ac.checked){for(Ad=0;Ad<Ae.length;Ad++){Ae[Ad].checked=true}}if(Af=="add"){this._appendItems(x.index,Ae,z)}else{if(Af=="remove"){Aa._remove(Aa.findByUid(Ae[0].uid),false)}else{if(Ac){S(z).empty();if(!Ae.length){D(z)}else{this._appendItems(x.index,Ae,z);this._bubbleIndeterminate(S(z).children().last())}}else{Aa.root=Aa.wrapper.html(Aa._renderGroup({items:Ae,group:{firstLevel:true,expanded:true}})).children("ul")}}}for(Ad=0;Ad<Ae.length;Ad++){if(!Ag||Ae[Ad].expanded){Ae[Ad].load()}}Aa.trigger(R,{node:Ac?z:g})},_error:function(x){var y=this,z=x.node&&y.findByUid(x.node.uid);if(z){this._progress(z,false);this._expanded(z,false);W(z).addClass("k-i-refresh");x.node.loaded(false)}else{this._progress(false);this.element.html(this.templates.retry)}},_retryRequest:function(x){x.preventDefault();this.dataSource.fetch()},expand:function(x){this._processNodes(x,function(z,y){this.toggle(y,true)})},collapse:function(x){this._processNodes(x,function(z,y){this.toggle(y,false)})},enable:function(x,y){y=arguments.length==2?!!y:true;this._processNodes(x,function(Aa,z){this.dataItem(z).set("enabled",y)})},current:function(y){var x=this,z=x._current,Aa=x.element,Ab=x._ariaId;if(arguments.length>0&&y&&y.length){if(z){if(z[0].id===Ab){z.removeAttr("id")}z.find(".k-in:first").removeClass("k-state-focused")}z=x._current=f(y,Aa).closest(C);z.find(".k-in:first").addClass("k-state-focused");Ab=z[0].id||Ab;if(Ab){x.wrapper.removeAttr("aria-activedescendant");z.attr("id",Ab);x.wrapper.attr("aria-activedescendant",Ab)}return}if(!z){z=x._nextVisible(f())}return z},select:function(y){var x=this,z=x.element;if(!arguments.length){return z.find(".k-state-selected").closest(C)}y=f(y,z).closest(C);z.find(".k-state-selected").each(function(){var Aa=x.dataItem(this);Aa.set("selected",false);delete Aa.selected});if(y.length){x.dataItem(y).set("selected",true)}x.trigger(i)},_toggle:function(Ad,Af,Aa){var Ab=this,Ac=Ab.options,z=I(Ad),x=Aa?"expand":"collapse",Ae=Ac.animation[x],y;if(z.data("animating")){return}if(!Ab._trigger(x,Ad)){Ab._expanded(Ad,Aa);y=Af&&Af.loaded();if(y&&z.children().length>0){Ab._updateNodeClasses(Ad,{},{expanded:Aa});if(z.css("display")==(Aa?"block":"none")){return}if(!Aa){z.css("height",z.height()).css("height")}z.kendoStop(true,true).kendoAnimate(s({reset:true},Ae,{complete:function(){if(Aa){z.css("height","")}}}))}else{if(Aa){if(Ac.loadOnDemand){Ab._progress(Ad,true)}z.remove();Af.load()}}}},toggle:function(x,y){x=f(x);if(!W(x).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")){return}if(arguments.length==1){y=!this._expanded(x)}this._expanded(x,y)},destroy:function(){var x=this;P.fn.destroy.call(x);x.element.off(t);x._unbindDataSource();if(x.dragging){x.dragging.destroy()}U.destroy(x.element)},_expanded:function(y,z){var x=U.attr("expanded"),Aa=this.dataItem(y);if(arguments.length==1){return y.attr(x)==="true"||(Aa&&Aa.expanded)}if(I(y).data("animating")){return}if(Aa){Aa.set("expanded",z);z=Aa.expanded}if(z){y.attr(x,"true");y.attr("aria-expanded","true")}else{y.removeAttr(x);y.attr("aria-expanded","false")}},_progress:function(y,x){var z=this.element;if(arguments.length==1){x=y;if(x){z.html(this.templates.loading)}else{z.empty()}}else{W(y).toggleClass("k-loading",x).removeClass("k-i-refresh")}},text:function(Aa,Ab){var Ac=this.dataItem(Aa),y=this.options[o.text],z=Ac.level(),x=y.length,Ad=y[Math.min(z,x-1)];if(Ab){Ac.set(Ad,Ab)}else{return Ac[Ad]}},_objectOrSelf:function(x){return f(x).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(Ac,y,z,x){var Ab,Aa=this._objectOrSelf(z||y),Ad=Aa.dataSource;if(z&&z[0]!=Aa.element[0]){Ab=Aa.dataItem(z);if(!Ab.loaded()){Aa._progress(z,true);Ab.load()}if(z!=this.root){Ad=Ab.children;if(!Ad||!(Ad instanceof A)){Ab._initChildren();Ab.loaded(true);Ad=Ab.children}}}Ac=this._toObservableData(Ac);return x.call(this,Ad,Ac)},_toObservableData:function(x){var z=x,Aa,y;if(x instanceof window.jQuery||k(x)){Aa=this._objectOrSelf(x).dataSource,y=f(x).attr(U.attr("uid"));z=Aa.getByUid(y);if(z){z=Aa.remove(z)}}return z},_insert:function(Aa,z,y){if(!(z instanceof U.data.ObservableArray)){if(!q(z)){z=[z]}}else{z=z.toJSON()}var x=Aa.parent();if(x){x.hasChildren=true;x._initChildren()}Aa.splice.apply(Aa,[y,0].concat(z));return this.findByUid(Aa[y].uid)},insertAfter:H(1),insertBefore:H(0),append:function(Ab,z,x){var Aa=this,y=Aa.root;x=x||f.noop;if(z){y=S(z)}return Aa._dataSourceMove(Ab,y,z,function(Ad,Af){var Ac;function Ae(){if(z){Aa._expanded(z,true)}var Ah=Ad.data(),Ag=Math.max(Ah.length,0);return Aa._insert(Ah,Af,Ag)}if(!Ad.data()){Ad.one(i,function(){x(Ae())});return null}else{Ac=Ae();x(Ac);return Ac}})},_remove:function(z,y){var Ac=this,x,Ab,Aa;z=f(z,Ac.element);x=z.parent().parent();Ab=z.prev();Aa=z.next();z[y?"detach":"remove"]();if(x.hasClass("k-item")){D(x);Ac._updateNodeClasses(x)}Ac._updateNodeClasses(Ab);Ac._updateNodeClasses(Aa);return z},remove:function(x){var y=this.dataItem(x);if(y){this.dataSource.remove(y)}},detach:function(x){return this._remove(x,true)},findByText:function(x){return f(this.element).find(".k-in").filter(function(y,z){return f(z).text()==x}).closest(C)},findByUid:function(x){return this.element.find(".k-item["+U.attr("uid")+"="+x+"]")},expandPath:function(Ab,z){var y=this.dataSource;var x=y.get(Ab[0]);z=z||f.noop;while(Ab.length>0&&(x.expanded||x.loaded())){x.set("expanded",true);Ab.shift();x=y.get(Ab[0])}if(!Ab.length){return z()}y.bind("change",function Aa(Ac){var Ad=Ac.node&&Ac.node.id;if(Ad&&Ad===Ab[0]){Ab.shift();if(Ab.length){y.get(Ab[0]).set("expanded",true)}else{z()}}});x.set("expanded",true)},_renderItem:function(x){if(!x.group){x.group={}}x.treeview=this.options;x.r=this.templates;return this.templates.item(x)},_renderGroup:function(y){var x=this;y.renderItems=function(Ab){var z="",Aa=0,Ad=Ab.items,Ac=Ad?Ad.length:0,Ae=Ab.group;Ae.length=Ac;for(;Aa<Ac;Aa++){Ab.group=Ae;Ab.item=Ad[Aa];Ab.item.index=Aa;z+=x._renderItem(Ab)}return z};y.r=x.templates;return x.templates.group(y)}});function e(x){var y=this;y.treeview=x;y.hovered=x.element;y._draggable=new l.Draggable(x.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(z){return x.templates.dragClue({item:x.dataItem(z),treeview:x.options})},cursorOffset:{left:10,top:U.support.touch||U.support.msPointers||U.support.pointers?-40/U.support.zoomLevel():10},dragstart:w(y.dragstart,y),dragcancel:w(y.dragcancel,y),drag:w(y.drag,y),dragend:w(y.dragend,y)})}e.prototype={_removeTouchHover:function(){var x=this;if(U.support.touch&&x.hovered){x.hovered.find("."+c).removeClass(c);x.hovered=false}},_hintStatus:function(x){var y=this._draggable.hint.find(".k-drag-status")[0];if(x){y.className="k-icon k-drag-status "+x}else{return f.trim(y.className.replace(/k-(icon|drag-status)/g,""))}},dragstart:function(y){var z=this,x=z.treeview,Aa=z.sourceNode=y.currentTarget.closest(C);if(x.trigger(a,{sourceNode:Aa[0]})){y.preventDefault()}z.dropHint=f("<div class='k-drop-hint' />").css(m,"hidden").appendTo(x.element)},drag:function(x){var Ag=this,y=Ag.treeview,Ai=Ag.sourceNode,Aa=Ag.dropTarget=f(U.eventTarget(x)),Ab,Ac=Aa.closest(".k-treeview"),Ad,z,Af,Ah,Ak,Al,Am,Aj,Ae;if(!Ac.length){Ab="k-denied";Ag._removeTouchHover()}else{if(f.contains(Ai[0],Aa[0])){Ab="k-denied"}else{Ab="k-insert-middle";Ad=Aa.closest(".k-top,.k-mid,.k-bot");if(Ad.length){Af=Ad.outerHeight();Ah=U.getOffset(Ad).top;Ak=Aa.closest(".k-in");Al=Af/(Ak.length>0?4:2);Am=x.y.location<(Ah+Al);Aj=(Ah+Af-Al)<x.y.location;Ag._removeTouchHover();Ae=Ak.length&&!Am&&!Aj;Ag.hovered=Ae?Ac:false;Ag.dropHint.css(m,Ae?"hidden":"visible");Ak.toggleClass(c,Ae);if(Ae){Ab="k-add"}else{z=Ad.position();z.top+=Am?0:Af;Ag.dropHint.css(z)[Am?"prependTo":"appendTo"](Aa.closest(C).children("div:first"));if(Am&&Ad.hasClass("k-top")){Ab="k-insert-top"}if(Aj&&Ad.hasClass("k-bot")){Ab="k-insert-bottom"}}}else{if(Aa[0]!=Ag.dropHint[0]){if(Ac[0]!=y.element[0]){Ab="k-add"}else{Ab="k-denied"}}}}}y.trigger(b,{sourceNode:Ai[0],dropTarget:Aa[0],pageY:x.y.location,pageX:x.x.location,statusClass:Ab.substring(2),setStatusClass:function(An){Ab=An}});if(Ab.indexOf("k-insert")!==0){Ag.dropHint.css(m,"hidden")}Ag._hintStatus(Ab)},dragcancel:function(){this.dropHint.remove()},dragend:function(){var Ae=this,z=Ae.treeview,Ag="over",Af=Ae.sourceNode,Aa,y=Ae.dropHint,Ab=Ae.dropTarget,x,Ac;if(y.css(m)=="visible"){Ag=y.prevAll(".k-in").length>0?"after":"before";Aa=y.closest(C)}else{if(Ab){Aa=Ab.closest(C);if(!Aa.length){Aa=Ab.closest(".k-treeview")}}}x={sourceNode:Af[0],destinationNode:Aa[0],valid:Ae._hintStatus()!="k-denied",setValid:function(Ah){this.valid=Ah},dropTarget:Ab[0],dropPosition:Ag};Ac=z.trigger(d,x);y.remove();Ae._removeTouchHover();if(!x.valid||Ac){Ae._draggable.dropped=x.valid;return}Ae._draggable.dropped=true;function Ad(Ah){z.trigger(Z,{sourceNode:Ah&&Ah[0],destinationNode:Aa[0],dropPosition:Ag})}if(Ag=="over"){z.append(Af,Aa,Ad)}else{if(Ag=="before"){Af=z.insertBefore(Af,Aa)}else{if(Ag=="after"){Af=z.insertAfter(Af,Aa)}}Ad(Af)}},destroy:function(){this._draggable.destroy()}};l.plugin(M)})(window.kendo.jQuery);kendo_module({id:"slider",name:"Slider",category:"web",description:"The Slider widget provides a rich input for selecting values or ranges of values.",depends:["draganddrop"]});(function(c,d){var T=window.kendo,P=T.ui.Widget,U=T.ui.Draggable,v=c.extend,O=T.format,A=T.parseFloat,z=c.proxy,s=c.isArray,h=Math,B=T.support,M=B.pointers,Z=B.msPointers,f="change",N="slide",w=".slider",j="touchstart"+w+" mousedown"+w,r=M?"pointerdown"+w:(Z?"MSPointerDown"+w:j),m="touchend"+w+" mouseup"+w,L=M?"pointerup":(Z?"MSPointerUp"+w:m),q="moveSelection",p="keydown"+w,V="click"+w,D="mouseover"+w,I="focus"+w,H="blur"+w,i=".k-draghandle",y=".k-slider-track",b=".k-tick",o="k-state-selected",S="k-state-focused",g="k-state-default",G="k-state-disabled",X=3,K="disabled",e="undefined",W="tabindex",n=T.getTouches;var Y=P.extend({init:function(Ad,Ab){var Aa=this;P.fn.init.call(Aa,Ad,Ab);Ab=Aa.options;Aa._distance=Ab.max-Ab.min;Aa._isHorizontal=Ab.orientation=="horizontal";Aa._isRtl=Aa._isHorizontal&&T.support.isRtl(Ad);Aa._position=Aa._isHorizontal?"left":"bottom";Aa._sizeFn=Aa._isHorizontal?"width":"height";Aa._outerSize=Aa._isHorizontal?"outerWidth":"outerHeight";Ab.tooltip.format=Ab.tooltip.enabled?Ab.tooltip.format||"{0}":"{0}";Aa._createHtml();Aa.wrapper=Aa.element.closest(".k-slider");Aa._trackDiv=Aa.wrapper.find(y);Aa._setTrackDivWidth();Aa._maxSelection=Aa._trackDiv[Aa._sizeFn]();Aa._sliderItemsInit();Aa._tabindex(Aa.wrapper.find(i));Aa[Ab.enabled?"enable":"disable"]();var Ac=T.support.isRtl(Aa.wrapper)?-1:1;Aa._keyMap={37:k(-1*Ac*Ab.smallStep),40:k(-Ab.smallStep),39:k(+1*Ac*Ab.smallStep),38:k(+Ab.smallStep),35:l(Ab.max),36:l(Ab.min),33:k(+Ab.largeStep),34:k(-Ab.largeStep)};T.notify(Aa)},events:[f,N],options:{enabled:true,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:true,format:"{0}"}},_resize:function(){this._setTrackDivWidth();this.wrapper.find(".k-slider-items").remove();this._maxSelection=this._trackDiv[this._sizeFn]();this._sliderItemsInit();this._refresh()},_sliderItemsInit:function(){var Ab=this,Ac=Ab.options;var Ad=Ab._maxSelection/((Ac.max-Ac.min)/Ac.smallStep);var Aa=Ab._calculateItemsWidth(h.floor(Ab._distance/Ac.smallStep));if(Ac.tickPlacement!="none"&&Ad>=2){Ab._trackDiv.before(E(Ac,Ab._distance));Ab._setItemsWidth(Aa);Ab._setItemsTitle()}Ab._calculateSteps(Aa);if(Ac.tickPlacement!="none"&&Ad>=2&&Ac.largeStep>Ac.smallStep){Ab._setItemsLargeTick()}},getSize:function(){return T.dimensions(this.wrapper)},_setTrackDivWidth:function(){var Aa=this,Ab=parseFloat(Aa._trackDiv.css(Aa._isRtl?"right":Aa._position),10)*2;Aa._trackDiv[Aa._sizeFn]((Aa.wrapper[Aa._sizeFn]()-2)-Ab)},_setItemsWidth:function(Ac){var Ag=this,Af=Ag.options,Ab=0,Ae=Ac.length-1,Aj=Ag.wrapper.find(b),Ad,Aa=0,Ak=2,Ah=Aj.length,Ai=0;for(Ad=0;Ad<Ah-2;Ad++){c(Aj[Ad+1])[Ag._sizeFn](Ac[Ad])}if(Ag._isHorizontal){c(Aj[Ab]).addClass("k-first")[Ag._sizeFn](Ac[Ae-1]);c(Aj[Ae]).addClass("k-last")[Ag._sizeFn](Ac[Ae])}else{c(Aj[Ae]).addClass("k-first")[Ag._sizeFn](Ac[Ae]);c(Aj[Ab]).addClass("k-last")[Ag._sizeFn](Ac[Ae-1])}if(Ag._distance%Af.smallStep!==0&&!Ag._isHorizontal){for(Ad=0;Ad<Ac.length;Ad++){Ai+=Ac[Ad]}Aa=Ag._maxSelection-Ai;Aa+=parseFloat(Ag._trackDiv.css(Ag._position),10)+Ak;Ag.wrapper.find(".k-slider-items").css("padding-top",Aa)}},_setItemsTitle:function(){var Ae=this,Af=Ae.options,Ag=Ae.wrapper.find(b),Ac=Af.min,Ab=Ag.length,Ad=Ae._isHorizontal&&!Ae._isRtl?0:Ab-1,Aa=Ae._isHorizontal&&!Ae._isRtl?Ab:-1,Ah=Ae._isHorizontal&&!Ae._isRtl?1:-1;for(;Ad-Aa!==0;Ad+=Ah){c(Ag[Ad]).attr("title",O(Af.tooltip.format,a(Ac)));Ac+=Af.smallStep}},_setItemsLargeTick:function(){var Ac=this,Ae=Ac.options,Af=Ac.wrapper.find(b),Ab=0,Ad,Aa;if((1000*Ae.largeStep)%(1000*Ae.smallStep)===0||Ac._distance/Ae.largeStep>=3){if(Ac._isHorizontal&&!Ac._isRtl){Af=c.makeArray(Af).reverse()}for(Ab=0;Ab<Af.length;Ab++){Ad=c(Af[Ab]);Aa=Ac._values[Ab];if(Aa%Ae.smallStep===0&&Aa%Ae.largeStep===0){Ad.addClass("k-tick-large").html("<span class='k-label'>"+Ad.attr("title")+"</span>");if(Ab!==0&&Ab!==Af.length-1){Ad.css("line-height",Ad[Ac._sizeFn]()+"px")}}}}},_calculateItemsWidth:function(Aa){var Ae=this,Af=Ae.options,Ad=parseFloat(Ae._trackDiv.css(Ae._sizeFn))+1,Ab=Ad/Ae._distance,Ah,Ac,Ag;if((Ae._distance/Af.smallStep)-h.floor(Ae._distance/Af.smallStep)>0){Ad-=((Ae._distance%Af.smallStep)*Ab)}Ah=Ad/Aa;Ac=[];for(Ag=0;Ag<Aa-1;Ag++){Ac[Ag]=Ah}Ac[Aa-1]=Ac[Aa]=Ah/2;return Ae._roundWidths(Ac)},_roundWidths:function(Ac){var Ad=0,Ab=Ac.length,Aa;for(Aa=0;Aa<Ab;Aa++){Ad+=(Ac[Aa]-h.floor(Ac[Aa]));Ac[Aa]=h.floor(Ac[Aa])}Ad=h.round(Ad);return this._addAdditionalSize(Ad,Ac)},_addAdditionalSize:function(Ad,Ac){if(Ad===0){return Ac}var Aa=parseFloat(Ac.length-1)/parseFloat(Ad==1?Ad:Ad-1),Ab;for(Ab=0;Ab<Ad;Ab++){Ac[parseInt(h.round(Aa*Ab),10)]+=1}return Ac},_calculateSteps:function(Ac){var Ae=this,Af=Ae.options,Ad=Af.min,Ah=0,Ab=h.ceil(Ae._distance/Af.smallStep),Ag=1,Aa;Ab+=(Ae._distance/Af.smallStep)%1===0?1:0;Ac.splice(0,0,Ac[Ab-2]*2);Ac.splice(Ab-1,1,Ac.pop()*2);Ae._pixelSteps=[Ah];Ae._values=[Ad];if(Ab===0){return}while(Ag<Ab){Ah+=(Ac[Ag-1]+Ac[Ag])/2;Ae._pixelSteps[Ag]=Ah;Ae._values[Ag]=Ad+=Af.smallStep;Ag++}Aa=Ae._distance%Af.smallStep===0?Ab-1:Ab;Ae._pixelSteps[Aa]=Ae._maxSelection;Ae._values[Aa]=Af.max;if(Ae._isRtl){Ae._pixelSteps.reverse();Ae._values.reverse()}},_getValueFromPosition:function(Ag,Ac){var Af=this,Ad=Af.options,Aa=h.max(Ad.smallStep*(Af._maxSelection/Af._distance),0),Ae=0,Ab=(Aa/2),Ah;if(Af._isHorizontal){Ae=Ag-Ac.startPoint;if(Af._isRtl){Ae=Af._maxSelection-Ae}}else{Ae=Ac.startPoint-Ag}if(Af._maxSelection-((parseInt(Af._maxSelection%Aa,10)-3)/2)<Ae){return Ad.max}for(Ah=0;Ah<Af._pixelSteps.length;Ah++){if(h.abs(Af._pixelSteps[Ah]-Ae)-1<=Ab){return a(Af._values[Ah])}}},_getFormattedValue:function(Ab,Ah){var Ac=this,Ag="",Af=Ac.options.tooltip,Aa,Ae,Ad;if(s(Ab)){Ae=Ab[0];Ad=Ab[1]}else{if(Ah&&Ah.type){Ae=Ah.selectionStart;Ad=Ah.selectionEnd}}if(Ah){Aa=Ah.tooltipTemplate}if(!Aa&&Af.template){Aa=T.template(Af.template)}if(s(Ab)||(Ah&&Ah.type)){if(Aa){Ag=Aa({selectionStart:Ae,selectionEnd:Ad})}else{Ae=O(Af.format,Ae);Ad=O(Af.format,Ad);Ag=Ae+" - "+Ad}}else{if(Ah){Ah.val=Ab}if(Aa){Ag=Aa({value:Ab})}else{Ag=O(Af.format,Ab)}}return Ag},_getDraggableArea:function(){var Ab=this,Aa=T.getOffset(Ab._trackDiv);return{startPoint:Ab._isHorizontal?Aa.left:Aa.top+Ab._maxSelection,endPoint:Ab._isHorizontal?Aa.left+Ab._maxSelection:Aa.top}},_createHtml:function(){var Ab=this,Ad=Ab.element,Ac=Ab.options,Aa=Ad.find("input");if(Aa.length==2){Aa.eq(0).val(Ac.selectionStart);Aa.eq(1).val(Ac.selectionEnd)}else{Ad.val(Ac.value)}Ad.wrap(u(Ac,Ad,Ab._isHorizontal)).hide();if(Ac.showButtons){Ad.before(C(Ac,"increase",Ab._isHorizontal)).before(C(Ac,"decrease",Ab._isHorizontal))}Ad.before(t(Ac,Ad))},_focus:function(Ab){var Ac=this,Ad=Ab.target,Ae=Ac.value(),Aa=Ac._drag;if(!Aa){if(Ad==Ac.wrapper.find(i).eq(0)[0]){Aa=Ac._firstHandleDrag;Ac._activeHandle=0}else{Aa=Ac._lastHandleDrag;Ac._activeHandle=1}Ae=Ae[Ac._activeHandle]}c(Ad).addClass(S+" "+o);if(Aa){Ac._activeHandleDrag=Aa;Aa.selectionStart=Ac.options.selectionStart;Aa.selectionEnd=Ac.options.selectionEnd;Aa._updateTooltip(Ae)}},_focusWithMouse:function(Ac){Ac=c(Ac);var Aa=this,Ab=Ac.is(i)?Ac.index():0;window.setTimeout(function(){Aa.wrapper.find(i)[Ab==2?1:0].focus()},1);Aa._setTooltipTimeout()},_blur:function(Ab){var Ac=this,Aa=Ac._activeHandleDrag;c(Ab.target).removeClass(S+" "+o);if(Aa){Aa._removeTooltip();delete Ac._activeHandleDrag;delete Ac._activeHandle}},_setTooltipTimeout:function(){var Aa=this;Aa._tooltipTimeout=window.setTimeout(function(){var Ab=Aa._drag||Aa._activeHandleDrag;if(Ab){Ab._removeTooltip()}},300)},_clearTooltipTimeout:function(){var Ab=this;window.clearTimeout(this._tooltipTimeout);var Aa=Ab._drag||Ab._activeHandleDrag;if(Aa&&Aa.tooltipDiv){Aa.tooltipDiv.stop(true,false).css("opacity",1)}}});function u(Af,Ag,Ad){var Ab=Ad?" k-slider-horizontal":" k-slider-vertical",Aa=Af.style?Af.style:Ag.attr("style"),Ac=Ag.attr("class")?(" "+Ag.attr("class")):"",Ae="";if(Af.tickPlacement=="bottomRight"){Ae=" k-slider-bottomright"}else{if(Af.tickPlacement=="topLeft"){Ae=" k-slider-topleft"}}Aa=Aa?" style='"+Aa+"'":"";return"<div class='k-widget k-slider"+Ab+Ac+"'"+Aa+"><div class='k-slider-wrap"+(Af.showButtons?" k-slider-buttons":"")+Ae+"'></div></div>"}function C(Ad,Aa,Ab){var Ac="";if(Aa=="increase"){Ac=Ab?"k-i-arrow-e":"k-i-arrow-n"}else{Ac=Ab?"k-i-arrow-w":"k-i-arrow-s"}return"<a class='k-button k-button-"+Aa+"'><span class='k-icon "+Ac+"' title='"+Ad[Aa+"ButtonTitle"]+"'>"+Ad[Aa+"ButtonTitle"]+"</span></a>"}function E(Ad,Ae){var Ac="<ul class='k-reset k-slider-items'>",Ab=h.floor(a(Ae/Ad.smallStep))+1,Aa;for(Aa=0;Aa<Ab;Aa++){Ac+="<li class='k-tick' role='presentation'>&nbsp;</li>"}Ac+="</ul>";return Ac}function t(Ab,Ac){var Ad=Ac.is("input")?1:2,Aa=Ad==2?Ab.leftDragHandleTitle:Ab.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+Aa+"' role='slider' aria-valuemin='"+Ab.min+"' aria-valuemax='"+Ab.max+"' aria-valuenow='"+(Ad>1?(Ab.selectionStart||Ab.min):Ab.value||Ab.min)+"'>Drag</a>"+(Ad>1?"<a href='#' class='k-draghandle' title='"+Ab.rightDragHandleTitle+"'role='slider' aria-valuemin='"+Ab.min+"' aria-valuemax='"+Ab.max+"' aria-valuenow='"+(Ab.selectionEnd||Ab.max)+"'>Drag</a>":"")+"</div>"}function k(Aa){return function(Ab){return Ab+Aa}}function l(Aa){return function(){return Aa}}function Q(Aa){return(Aa+"").replace(".",T.cultures.current.numberFormat["."])}function a(Ab){Ab=parseFloat(Ab,10);var Aa=h.pow(10,X||0);return h.round(Ab*Aa)/Aa}function x(Ac,Aa){var Ab=A(Ac.getAttribute(Aa));if(Ab===null){Ab=d}return Ab}function F(Aa){return typeof Aa!==e}var J=Y.extend({init:function(Ad,Ac){var Aa=this,Ab;Ad.type="text";Ac=v({},{value:x(Ad,"value"),min:x(Ad,"min"),max:x(Ad,"max"),smallStep:x(Ad,"step")},Ac);Ad=c(Ad);if(Ac&&Ac.enabled===d){Ac.enabled=!Ad.is("[disabled]")}Y.fn.init.call(Aa,Ad,Ac);Ac=Aa.options;if(!F(Ac.value)||Ac.value===null){Ac.value=Ac.min;Ad.val(Ac.min)}Ac.value=h.max(h.min(Ac.value,Ac.max),Ac.min);Ab=Aa.wrapper.find(i);new J.Selection(Ab,Aa,Ac);Aa._drag=new J.Drag(Ab,"",Aa,Ac)},options:{name:"Slider",showButtons:true,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"},value:null},enable:function(Af){var Ab=this,Ac=Ab.options,Ae,Ad;Ab.disable();if(Af===false){return}Ab.wrapper.removeClass(G).addClass(g);Ab.wrapper.find("input").removeAttr(K);Ae=function(Ag){var Ai=n(Ag)[0];if(!Ai){return}var Ah=Ab._isHorizontal?Ai.location.pageX:Ai.location.pageY,Ak=Ab._getDraggableArea(),Aj=c(Ag.target);if(Aj.hasClass("k-draghandle")){Aj.addClass(S+" "+o);return}Ab._update(Ab._getValueFromPosition(Ah,Ak));Ab._focusWithMouse(Ag.target);Ab._drag.dragstart(Ag);Ag.preventDefault()};Ab.wrapper.find(b+", "+y).on(r,Ae).end().on(r,function(){c(document.documentElement).one("selectstart",T.preventDefault)}).on(L,function(){Ab._drag._end()});Ab.wrapper.find(i).attr(W,0).on(m,function(){Ab._setTooltipTimeout()}).on(V,function(Ag){Ab._focusWithMouse(Ag.target);Ag.preventDefault()}).on(I,z(Ab._focus,Ab)).on(H,z(Ab._blur,Ab));Ad=z(function(Ag){var Ah=Ab._nextValueByIndex(Ab._valueIndex+(Ag*1));Ab._setValueInRange(Ah);Ab._drag._updateTooltip(Ah)},Ab);if(Ac.showButtons){var Aa=z(function(Ag,Ah){this._clearTooltipTimeout();if(Ag.which===1||(B.touch&&Ag.which===0)){Ad(Ah);this.timeout=setTimeout(z(function(){this.timer=setInterval(function(){Ad(Ah)},60)},this),200)}},Ab);Ab.wrapper.find(".k-button").on(m,z(function(Ag){this._clearTimer();Ab._focusWithMouse(Ag.target)},Ab)).on(D,function(Ag){c(Ag.currentTarget).addClass("k-state-hover")}).on("mouseout"+w,z(function(Ag){c(Ag.currentTarget).removeClass("k-state-hover");this._clearTimer()},Ab)).eq(0).on(j,z(function(Ag){Aa(Ag,1)},Ab)).click(false).end().eq(1).on(j,z(function(Ag){Aa(Ag,-1)},Ab)).click(T.preventDefault)}Ab.wrapper.find(i).off(p,false).on(p,z(this._keydown,Ab));Ac.enabled=true},disable:function(){var Aa=this;Aa.wrapper.removeClass(g).addClass(G);c(Aa.element).prop(K,K);Aa.wrapper.find(".k-button").off(j).on(j,T.preventDefault).off(m).on(m,T.preventDefault).off("mouseleave"+w).on("mouseleave"+w,T.preventDefault).off(D).on(D,T.preventDefault);Aa.wrapper.find(b+", "+y).off(r).off(L);Aa.wrapper.find(i).attr(W,-1).off(m).off(p).off(V).off(I).off(H);Aa.options.enabled=false},_update:function(Ac){var Ab=this,Aa=Ab.value()!=Ac;Ab.value(Ac);if(Aa){Ab.trigger(f,{value:Ab.options.value})}},value:function(Ac){var Aa=this,Ab=Aa.options;Ac=a(Ac);if(isNaN(Ac)){return Ab.value}if(Ac>=Ab.min&&Ac<=Ab.max){if(Ab.value!=Ac){Aa.element.prop("value",Q(Ac));Ab.value=Ac;Aa._refreshAriaAttr(Ac);Aa._refresh()}}},_refresh:function(){this.trigger(q,{value:this.options.value})},_refreshAriaAttr:function(Ad){var Ac=this,Aa=Ac._drag,Ab;if(Aa&&Aa._tooltipDiv){Ab=Aa._tooltipDiv.text()}else{Ab=Ac._getFormattedValue(Ad,null)}this.wrapper.find(i).attr("aria-valuenow",Ad).attr("aria-valuetext",Ab)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(Aa){var Ab=this;if(Aa.keyCode in Ab._keyMap){Ab._clearTooltipTimeout();Ab._setValueInRange(Ab._keyMap[Aa.keyCode](Ab.options.value));Ab._drag._updateTooltip(Ab.value());Aa.preventDefault()}},_setValueInRange:function(Ac){var Aa=this,Ab=Aa.options;Ac=a(Ac);if(isNaN(Ac)){Aa._update(Ab.min);return}Ac=h.max(h.min(Ac,Ab.max),Ab.min);Aa._update(Ac)},_nextValueByIndex:function(Ab){var Aa=this._values.length;if(this._isRtl){Ab=Aa-1-Ab}return this._values[h.max(0,h.min(Ab,Aa-1))]},destroy:function(){var Aa=this;P.fn.destroy.call(Aa);Aa.wrapper.off(w).find(".k-button").off(w).end().find(i).off(w).end().find(b+", "+y).off(w).end();Aa._drag.draggable.destroy()}});J.Selection=function(Ac,Ab,Ad){function Aa(Aj){var Ag=Aj-Ad.min,Ai=Ab._valueIndex=h.ceil(a(Ag/Ad.smallStep)),Ah=parseInt(Ab._pixelSteps[Ai],10),Ae=Ab._trackDiv.find(".k-slider-selection"),Af=parseInt(Ac[Ab._outerSize]()/2,10),Ak=Ab._isRtl?2:0;Ae[Ab._sizeFn](Ab._isRtl?Ab._maxSelection-Ah:Ah);Ac.css(Ab._position,Ah-Af-Ak)}Aa(Ad.value);Ab.bind([f,N,q],function(Ae){Aa(parseFloat(Ae.value,10))})};J.Drag=function(Ad,Aa,Ae,Ac){var Ab=this;Ab.owner=Ae;Ab.options=Ac;Ab.element=Ad;Ab.type=Aa;Ab.draggable=new U(Ad,{distance:0,dragstart:z(Ab._dragstart,Ab),drag:z(Ab.drag,Ab),dragend:z(Ab.dragend,Ab),dragcancel:z(Ab.dragcancel,Ab)});Ad.click(false)};J.Drag.prototype={dragstart:function(Aa){this.owner._activeDragHandle=this;this.draggable.userEvents.cancel();this.draggable.userEvents._start(Aa)},_dragstart:function(Aa){var Ab=this,Ad=Ab.owner,Ac=Ab.options;if(!Ac.enabled){Aa.preventDefault();return}this.owner._activeDragHandle=this;Ad.element.off(D);Ab.element.addClass(S+" "+o);c(document.documentElement).css("cursor","pointer");Ab.dragableArea=Ad._getDraggableArea();Ab.step=h.max(Ac.smallStep*(Ad._maxSelection/Ad._distance),0);if(Ab.type){Ab.selectionStart=Ac.selectionStart;Ab.selectionEnd=Ac.selectionEnd;Ad._setZIndex(Ab.type)}else{Ab.oldVal=Ab.val=Ac.value}Ab._removeTooltip(true);Ab._createTooltip()},_createTooltip:function(){var Ac=this,Ag=Ac.owner,Af=Ac.options.tooltip,Aa="",Ae=c(window),Ab,Ad;if(!Af.enabled){return}if(Af.template){Ab=Ac.tooltipTemplate=T.template(Af.template)}c(".k-slider-tooltip").remove();Ac.tooltipDiv=c("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body);Aa=Ag._getFormattedValue(Ac.val||Ag.value(),Ac);if(!Ac.type){Ad="k-callout-"+(Ag._isHorizontal?"s":"e");Ac.tooltipInnerDiv="<div class='k-callout "+Ad+"'><!-- --></div>";Aa+=Ac.tooltipInnerDiv}Ac.tooltipDiv.html(Aa);Ac._scrollOffset={top:Ae.scrollTop(),left:Ae.scrollLeft()};Ac.moveTooltip()},drag:function(Aa){var Ae=this,Ab=Ae.owner,Af=Aa.x.location,Ag=Aa.y.location,Ad=Ae.dragableArea.startPoint,Ac=Ae.dragableArea.endPoint,Ah;Aa.preventDefault();if(Ab._isHorizontal){if(Ab._isRtl){Ae.val=Ae.constrainValue(Af,Ad,Ac,Af<Ac)}else{Ae.val=Ae.constrainValue(Af,Ad,Ac,Af>=Ac)}}else{Ae.val=Ae.constrainValue(Ag,Ac,Ad,Ag<=Ac)}if(Ae.oldVal!=Ae.val){Ae.oldVal=Ae.val;if(Ae.type){if(Ae.type=="firstHandle"){if(Ae.val<Ae.selectionEnd){Ae.selectionStart=Ae.val}else{Ae.selectionStart=Ae.selectionEnd=Ae.val}}else{if(Ae.val>Ae.selectionStart){Ae.selectionEnd=Ae.val}else{Ae.selectionStart=Ae.selectionEnd=Ae.val}}Ah={values:[Ae.selectionStart,Ae.selectionEnd],value:[Ae.selectionStart,Ae.selectionEnd]}}else{Ah={value:Ae.val}}Ab.trigger(N,Ah)}Ae._updateTooltip(Ae.val)},_updateTooltip:function(Ae){var Ab=this,Ac=Ab.options,Ad=Ac.tooltip,Aa="";if(!Ad.enabled){return}if(!Ab.tooltipDiv){Ab._createTooltip()}Aa=Ab.owner._getFormattedValue(a(Ae),Ab);if(!Ab.type){Aa+=Ab.tooltipInnerDiv}Ab.tooltipDiv.html(Aa);Ab.moveTooltip()},dragcancel:function(){this.owner._refresh();c(document.documentElement).css("cursor","");return this._end()},dragend:function(){var Aa=this,Ab=Aa.owner;c(document.documentElement).css("cursor","");if(Aa.type){Ab._update(Aa.selectionStart,Aa.selectionEnd)}else{Ab._update(Aa.val)}return Aa._end()},_end:function(){var Aa=this,Ab=Aa.owner;Ab._focusWithMouse(Aa.element);Ab.element.on(D);return false},_removeTooltip:function(Aa){var Ab=this,Ac=Ab.owner;if(Ab.tooltipDiv&&Ac.options.tooltip.enabled&&Ac.options.enabled){if(Aa){Ab.tooltipDiv.remove();Ab.tooltipDiv=null}else{Ab.tooltipDiv.fadeOut("slow",function(){c(this).remove();Ab.tooltipDiv=null})}}},moveTooltip:function(){var Ah=this,Ab=Ah.owner,Af=0,Ag=0,Ae=Ah.element,Ac=T.getOffset(Ae),Aa=8,Ak=c(window),Ai=Ah.tooltipDiv.find(".k-callout"),Ad=Ah.tooltipDiv.outerWidth(),Ao=Ah.tooltipDiv.outerHeight(),An,Aj,Am,Al;if(Ah.type){An=Ab.wrapper.find(i);Ac=T.getOffset(An.eq(0));Aj=T.getOffset(An.eq(1));if(Ab._isHorizontal){Af=Aj.top;Ag=Ac.left+((Aj.left-Ac.left)/2)}else{Af=Ac.top+((Aj.top-Ac.top)/2);Ag=Aj.left}Al=An.eq(0).outerWidth()+2*Aa}else{Af=Ac.top;Ag=Ac.left;Al=Ae.outerWidth()+2*Aa}if(Ab._isHorizontal){Ag-=parseInt((Ad-Ae[Ab._outerSize]())/2,10);Af-=Ao+Ai.height()+Aa}else{Af-=parseInt((Ao-Ae[Ab._outerSize]())/2,10);Ag-=Ad+Ai.width()+Aa}if(Ab._isHorizontal){Am=Ah._flip(Af,Ao,Al,Ak.outerHeight()+Ah._scrollOffset.top);Af+=Am;Ag+=Ah._fit(Ag,Ad,Ak.outerWidth()+Ah._scrollOffset.left)}else{Am=Ah._flip(Ag,Ad,Al,Ak.outerWidth()+Ah._scrollOffset.left);Af+=Ah._fit(Af,Ao,Ak.outerHeight()+Ah._scrollOffset.top);Ag+=Am}if(Am>0&&Ai){Ai.removeClass();Ai.addClass("k-callout k-callout-"+(Ab._isHorizontal?"n":"w"))}Ah.tooltipDiv.css({top:Af,left:Ag})},_fit:function(Ac,Aa,Ab){var Ad=0;if(Ac+Aa>Ab){Ad=Ab-(Ac+Aa)}if(Ac<0){Ad=-Ac}return Ad},_flip:function(Ab,Aa,Ac,Ad){var Ae=0;if(Ab+Aa>Ad){Ae+=-(Ac+Aa)}if(Ab+Ae<0){Ae+=Ac+Aa}return Ae},constrainValue:function(Ad,Aa,Af,Ab){var Ac=this,Ae=0;if(Aa<Ad&&Ad<Af){Ae=Ac.owner._getValueFromPosition(Ad,Ac.dragableArea)}else{if(Ab){Ae=Ac.options.max}else{Ae=Ac.options.min}}return Ae}};T.ui.plugin(J);var R=Y.extend({init:function(Ae,Ac){var Ab=this,Aa=c(Ae).find("input"),Ad=Aa.eq(0)[0],Ag=Aa.eq(1)[0];Ad.type="text";Ag.type="text";Ac=v({},{selectionStart:x(Ad,"value"),min:x(Ad,"min"),max:x(Ad,"max"),smallStep:x(Ad,"step")},{selectionEnd:x(Ag,"value"),min:x(Ag,"min"),max:x(Ag,"max"),smallStep:x(Ag,"step")},Ac);if(Ac&&Ac.enabled===d){Ac.enabled=!Aa.is("[disabled]")}Y.fn.init.call(Ab,Ae,Ac);Ac=Ab.options;if(!F(Ac.selectionStart)||Ac.selectionStart===null){Ac.selectionStart=Ac.min;Aa.eq(0).val(Ac.min)}if(!F(Ac.selectionEnd)||Ac.selectionEnd===null){Ac.selectionEnd=Ac.max;Aa.eq(1).val(Ac.max)}var Af=Ab.wrapper.find(i);new R.Selection(Af,Ab,Ac);Ab._firstHandleDrag=new J.Drag(Af.eq(0),"firstHandle",Ab,Ac);Ab._lastHandleDrag=new J.Drag(Af.eq(1),"lastHandle",Ab,Ac)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"},selectionStart:null,selectionEnd:null},enable:function(Ad){var Aa=this,Ab=Aa.options,Ac;Aa.disable();if(Ad===false){return}Aa.wrapper.removeClass(G).addClass(g);Aa.wrapper.find("input").removeAttr(K);Ac=function(Ae){var Af=n(Ae)[0];if(!Af){return}var Ak=Aa._isHorizontal?Af.location.pageX:Af.location.pageY,Ah=Aa._getDraggableArea(),Ag=Aa._getValueFromPosition(Ak,Ah),Aj=c(Ae.target),Ai,Al,Am;if(Aj.hasClass("k-draghandle")){Aj.addClass(S+" "+o);return}if(Ag<Ab.selectionStart){Ai=Ag;Al=Ab.selectionEnd;Am=Aa._firstHandleDrag}else{if(Ag>Aa.selectionEnd){Ai=Ab.selectionStart;Al=Ag;Am=Aa._lastHandleDrag}else{if(Ag-Ab.selectionStart<=Ab.selectionEnd-Ag){Ai=Ag;Al=Ab.selectionEnd;Am=Aa._firstHandleDrag}else{Ai=Ab.selectionStart;Al=Ag;Am=Aa._lastHandleDrag}}}Am.dragstart(Ae);Aa._setValueInRange(Ai,Al);Aa._focusWithMouse(Am.element)};Aa.wrapper.find(b+", "+y).on(r,Ac).end().on(r,function(){c(document.documentElement).one("selectstart",T.preventDefault)}).on(L,function(){Aa._activeDragHandle._end()});Aa.wrapper.find(i).attr(W,0).on(m,function(){Aa._setTooltipTimeout()}).on(V,function(Ae){Aa._focusWithMouse(Ae.target);Ae.preventDefault()}).on(I,z(Aa._focus,Aa)).on(H,z(Aa._blur,Aa));Aa.wrapper.find(i).off(p,T.preventDefault).eq(0).on(p,z(function(Ae){this._keydown(Ae,"firstHandle")},Aa)).end().eq(1).on(p,z(function(Ae){this._keydown(Ae,"lastHandle")},Aa));Aa.options.enabled=true},disable:function(){var Aa=this;Aa.wrapper.removeClass(g).addClass(G);Aa.wrapper.find("input").prop(K,K);Aa.wrapper.find(b+", "+y).off(r).off(L);Aa.wrapper.find(i).attr(W,-1).off(m).off(p).off(V).off(I).off(H);Aa.options.enabled=false},_keydown:function(Aa,Ab){var Ad=this,Ag=Ad.options.selectionStart,Ah=Ad.options.selectionEnd,Ae,Ac,Af;if(Aa.keyCode in Ad._keyMap){Ad._clearTooltipTimeout();if(Ab=="firstHandle"){Af=Ad._activeHandleDrag=Ad._firstHandleDrag;Ag=Ad._keyMap[Aa.keyCode](Ag);if(Ag>Ah){Ah=Ag}}else{Af=Ad._activeHandleDrag=Ad._lastHandleDrag;Ah=Ad._keyMap[Aa.keyCode](Ah);if(Ag>Ah){Ag=Ah}}Ad._setValueInRange(Ag,Ah);Ae=Math.max(Ag,Ad.options.selectionStart);Ac=Math.min(Ah,Ad.options.selectionEnd);Af.selectionEnd=Math.max(Ac,Ad.options.selectionStart);Af.selectionStart=Math.min(Ae,Ad.options.selectionEnd);Af._updateTooltip(Ad.value()[Ad._activeHandle]);Aa.preventDefault()}},_update:function(Ab,Ac){var Ae=this,Ad=Ae.value();var Aa=Ad[0]!=Ab||Ad[1]!=Ac;Ae.value([Ab,Ac]);if(Aa){Ae.trigger(f,{values:[Ab,Ac],value:[Ab,Ac]})}},value:function(Aa){if(Aa&&Aa.length){return this._value(Aa[0],Aa[1])}else{return this._value()}},_value:function(Af,Ae){var Ab=this,Ad=Ab.options,Ac=Ad.selectionStart,Aa=Ad.selectionEnd;if(isNaN(Af)&&isNaN(Ae)){return[Ac,Aa]}else{Af=a(Af);Ae=a(Ae)}if(Af>=Ad.min&&Af<=Ad.max&&Ae>=Ad.min&&Ae<=Ad.max&&Af<=Ae){if(Ac!=Af||Aa!=Ae){Ab.element.find("input").eq(0).prop("value",Q(Af)).end().eq(1).prop("value",Q(Ae));Ad.selectionStart=Af;Ad.selectionEnd=Ae;Ab._refresh();Ab._refreshAriaAttr(Af,Ae)}}},values:function(Ab,Aa){if(s(Ab)){return this._value(Ab[0],Ab[1])}else{return this._value(Ab,Aa)}},_refresh:function(){var Aa=this,Ab=Aa.options;Aa.trigger(q,{values:[Ab.selectionStart,Ab.selectionEnd],value:[Ab.selectionStart,Ab.selectionEnd]});if(Ab.selectionStart==Ab.max&&Ab.selectionEnd==Ab.max){Aa._setZIndex("firstHandle")}},_refreshAriaAttr:function(Af,Ae){var Ac=this,Ad=Ac.wrapper.find(i),Aa=Ac._activeHandleDrag,Ab;Ab=Ac._getFormattedValue([Af,Ae],Aa);Ad.eq(0).attr("aria-valuenow",Af);Ad.eq(1).attr("aria-valuenow",Ae);Ad.attr("aria-valuetext",Ab)},_setValueInRange:function(Aa,Ac){var Ab=this.options;Aa=h.max(h.min(Aa,Ab.max),Ab.min);Ac=h.max(h.min(Ac,Ab.max),Ab.min);if(Aa==Ab.max&&Ac==Ab.max){this._setZIndex("firstHandle")}this._update(h.min(Aa,Ac),h.max(Aa,Ac))},_setZIndex:function(Aa){this.wrapper.find(i).each(function(Ab){c(this).css("z-index",Aa=="firstHandle"?1-Ab:Ab)})},destroy:function(){var Aa=this;P.fn.destroy.call(Aa);Aa.wrapper.off(w).find(b+", "+y).off(w).end().find(i).off(w);Aa._firstHandleDrag.draggable.destroy();Aa._lastHandleDrag.draggable.destroy()}});R.Selection=function(Ab,Ae,Ad){function Ac(Ai){Ai=Ai||[];var Am=Ai[0]-Ad.min,An=Ai[1]-Ad.min,Ak=h.ceil(a(Am/Ad.smallStep)),Ag=h.ceil(a(An/Ad.smallStep)),Al=Ae._pixelSteps[Ak],Aj=Ae._pixelSteps[Ag],Ah=parseInt(Ab.eq(0)[Ae._outerSize]()/2,10),Af=Ae._isRtl?2:0;Ab.eq(0).css(Ae._position,Al-Ah-Af).end().eq(1).css(Ae._position,Aj-Ah-Af);Aa(Al,Aj)}function Aa(Ah,Ai){var Aj,Ag,Af=Ae._trackDiv.find(".k-slider-selection");Aj=h.abs(Ah-Ai);Af[Ae._sizeFn](Aj);if(Ae._isRtl){Ag=h.max(Ah,Ai);Af.css("right",Ae._maxSelection-Ag-1)}else{Ag=h.min(Ah,Ai);Af.css(Ae._position,Ag-1)}}Ac(Ae.value());Ae.bind([f,N,q],function(Af){Ac(Af.values)})};T.ui.plugin(R)})(window.kendo.jQuery);kendo_module({id:"splitter",name:"Splitter",category:"web",description:"The Splitter widget provides an easy way to create a dynamic layout of resizable and collapsible panes.",depends:["resizable"]});(function(R,T){var L=window.kendo,X=L.ui,K=L.keys,e=R.extend,h=R.proxy,I=X.Widget,Q=/^\d+(\.\d+)?px$/i,G=/^\d+(\.\d+)?%$/i,f=".kendoSplitter",D="expand",g="collapse",Z="contentLoad",N="error",W="resize",S="layoutChange",C="horizontal",F="vertical",P="mouseenter",M="click",J="pane",V="mouseleave",B="k-state-focused",c="k-"+J,H="."+c;function U(i){return G.test(i)}function A(i){return Q.test(i)||/^\d+$/.test(i)}function d(i){return !U(i)&&!A(i)}function O(i,j){return function(k,m){var l=this.element.find(k).data(J);if(arguments.length==1){return l[i]}l[i]=m;if(j){var n=this.element.data("kendo"+this.options.name);n.resize(true)}}}var E=I.extend({init:function(l,k){var j=this,i;I.fn.init.call(j,l,k);j.wrapper=j.element;i=j.options.orientation.toLowerCase()!=F;j.orientation=i?C:F;j._dimension=i?"width":"height";j._keys={decrease:i?K.LEFT:K.UP,increase:i?K.RIGHT:K.DOWN};j._resizeStep=10;j._marker=L.guid().substring(0,8);j._resizeHandler=function(){j.resize()};j._initPanes();j.resizing=new b(j);j.element.triggerHandler("init"+f)},events:[D,g,Z,N,W,S],_attachEvents:function(){var j=this,i=j.options.orientation;j.element.children(".k-splitbar-draggable-"+i).on("keydown"+f,R.proxy(j._keydown,j)).on("mousedown"+f,function(k){k.currentTarget.focus()}).on("focus"+f,function(k){R(k.currentTarget).addClass(B)}).on("blur"+f,function(k){R(k.currentTarget).removeClass(B);if(j.resizing){j.resizing.end()}}).on(P+f,function(){R(this).addClass("k-splitbar-"+j.orientation+"-hover")}).on(V+f,function(){R(this).removeClass("k-splitbar-"+j.orientation+"-hover")}).on("mousedown"+f,function(){j._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+f,function(){j._panes().children(".k-splitter-overlay").remove()}).end().children(".k-splitbar").on("dblclick"+f,h(j._togglePane,j)).children(".k-collapse-next, .k-collapse-prev").on(M+f,j._arrowClick(g)).end().children(".k-expand-next, .k-expand-prev").on(M+f,j._arrowClick(D)).end().end();R(window).on("resize",j._resizeHandler)},_detachEvents:function(){var i=this;i.element.children(".k-splitbar-draggable-"+i.orientation).off(f).end().children(".k-splitbar").off("dblclick"+f).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(f);R(window).off("resize",i._resizeHandler)},options:{name:"Splitter",orientation:C,panes:[]},destroy:function(){var i=this;I.fn.destroy.call(i);i._detachEvents();if(i.resizing){i.resizing.destroy()}L.destroy(i.element)},_keydown:function(i){var k=this,o=i.keyCode,j=k.resizing,n=R(i.currentTarget),l=k._keys,q=o===l.increase,m=o===l.decrease,p;if(q||m){if(i.ctrlKey){p=n[m?"next":"prev"]();if(j&&j.isResizing()){j.end()}if(!p[k._dimension]()){k._triggerAction(D,p)}else{k._triggerAction(g,n[m?"prev":"next"]())}}else{if(j){j.move((m?-1:1)*k._resizeStep,n)}}i.preventDefault()}else{if(o===K.ENTER&&j){j.end();i.preventDefault()}}},_initPanes:function(){var j=this,i=j.options.panes||[];j.element.addClass("k-widget").addClass("k-splitter").children(":not(script)").each(function(m,k){var l=i&&i[m];j._initPane(k,l)}).end();j.resize()},_initPane:function(i,j){i=R(i).attr("role","group").addClass(c);i.data(J,j?j:{}).toggleClass("k-scrollable",j?j.scrollable!==false:true);this.ajaxRequest(i)},ajaxRequest:function(i,j,m){var k=this,l;i=k.element.find(i);l=i.data(J);j=j||l.contentUrl;if(j){i.append("<span class='k-icon k-loading k-pane-loading' />");if(L.isLocalUrl(j)){jQuery.ajax({url:j,data:m||{},type:"GET",dataType:"html",success:function(n){i.html(n);k.trigger(Z,{pane:i[0]})},error:function(o,n){k.trigger(N,{pane:i[0],status:n,xhr:o})}})}else{i.removeClass("k-scrollable").html("<iframe src='"+j+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>")}}},_triggerAction:function(i,j){if(!this.trigger(i,{pane:j[0]})){this[i](j[0])}},_togglePane:function(j){var k=this,l=R(j.target),i;if(l.closest(".k-splitter")[0]!=k.element[0]){return}i=l.children(".k-icon:not(.k-resize-handle)");if(i.length!==1){return}if(i.is(".k-collapse-prev")){k._triggerAction(g,l.prev())}else{if(i.is(".k-collapse-next")){k._triggerAction(g,l.next())}else{if(i.is(".k-expand-prev")){k._triggerAction(D,l.prev())}else{if(i.is(".k-expand-next")){k._triggerAction(D,l.next())}}}}},_arrowClick:function(i){var j=this;return function(l){var m=R(l.target),k;if(m.closest(".k-splitter")[0]!=j.element[0]){return}if(m.is(".k-"+i+"-prev")){k=m.parent().prev()}else{k=m.parent().next()}j._triggerAction(i,k)}},_updateSplitBar:function(m,q,n){var i=function(t,s){return s?"<div class='k-icon "+t+"' />":""},p=this.orientation,l=(q.resizable!==false)&&(n.resizable!==false),r=q.collapsible,k=q.collapsed,o=n.collapsible,j=n.collapsed;m.addClass("k-splitbar k-state-default k-secondary k-splitbar-"+p).attr("role","separator").attr("aria-expanded",!(k||j)).removeClass("k-splitbar-"+p+"-hover").toggleClass("k-splitbar-draggable-"+p,l&&!k&&!j).toggleClass("k-splitbar-static-"+p,!l&&!r&&!o).html(i("k-collapse-prev",r&&!k&&!j)+i("k-expand-prev",r&&k&&!j)+i("k-resize-handle",l)+i("k-collapse-next",o&&!j&&!k)+i("k-expand-next",o&&j&&!k))},_updateSplitBars:function(){var i=this;this.element.children(".k-splitbar").each(function(){var k=R(this),l=k.prevAll(H).first().data(J),j=k.nextAll(H).first().data(J);if(!j){return}i._updateSplitBar(k,l,j)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){return this.element.children(H)},_resize:function(){var x=this,t=x.element,n=t.children(H),r=x.orientation==C,v=t.children(".k-splitbar"),o=v.length,q=r?"width":"height",i=t[q]();if(o===0){o=n.length-1;n.slice(0,o).after("<div tabindex='0' class='k-splitbar' data-marker='"+x._marker+"' />");x._updateSplitBars();v=t.children(".k-splitbar")}else{x._updateSplitBars()}v.each(function(){i-=this[r?"offsetWidth":"offsetHeight"]});var z=0,y=0,w=R();n.css({position:"absolute",top:0})[q](function(){var Ab=R(this).data(J)||{},Aa;if(Ab.collapsed){Aa=0;R(this).css("overflow","hidden")}else{if(d(Ab.size)){w=w.add(this);return}else{Aa=parseInt(Ab.size,10);if(U(Ab.size)){Aa=Math.floor(Aa*i/100)}}}y++;z+=Aa;return Aa});i-=z;var m=w.length,l=Math.floor(i/m);w.slice(0,m-1).css(q,l).end().eq(m-1).css(q,i-(m-1)*l);var p=0,s=r?"height":"width",u=r?"left":"top",j=r?"offsetWidth":"offsetHeight";if(m===0){var k=n.filter(function(){return !((R(this).data(J)||{}).collapsed)}).last();k[q](i+k[0][j])}t.children(":not(script)").css(s,t[s]()).each(function(Aa,Ab){Ab.style[u]=Math.floor(p)+"px";p+=Ab[j]});x._detachEvents();x._attachEvents();L.resize(n);x.trigger(S)},toggle:function(j,l){var k=this,i;j=k.element.find(j);i=j.data(J);if(!l&&!i.collapsible){return}if(arguments.length==1){l=i.collapsed===T?false:i.collapsed}i.collapsed=!l;if(i.collapsed){j.css("overflow","hidden")}else{j.css("overflow","")}k.resize(true)},collapse:function(i){this.toggle(i,false)},expand:function(i){this.toggle(i,true)},_addPane:function(j,k,l){var i=this;if(l.length){i.options.panes.splice(k,0,j);i._initPane(l,j);i._removeSplitBars();i.resize()}return l},append:function(j){j=j||{};var i=this,k=R("<div />").appendTo(i.element);return i._addPane(j,i.options.panes.length,k)},insertBefore:function(j,k){k=R(k);j=j||{};var i=this,m=k.index(".k-pane"),l=R("<div />").insertBefore(R(k));return i._addPane(j,m,l)},insertAfter:function(j,k){k=R(k);j=j||{};var i=this,m=k.index(".k-pane"),l=R("<div />").insertAfter(R(k));return i._addPane(j,m+1,l)},remove:function(i){i=R(i);var j=this;if(i.length){L.destroy(i);i.each(function(k,l){j.options.panes.splice(R(l).index(".k-pane"),1);R(l).remove()});j._removeSplitBars();if(j.options.panes.length){j.resize()}}return j},size:O("size",true),min:O("min"),max:O("max")});X.plugin(E);var a={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"};var Y={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};function b(k){var j=this,i=k.orientation;j.owner=k;j._element=k.element;j.orientation=i;e(j,i===C?Y:a);j._resizable=new L.ui.Resizable(k.element,{orientation:i,handle:".k-splitbar-draggable-"+i+"[data-marker="+k._marker+"]",hint:h(j._createHint,j),start:h(j._start,j),max:h(j._max,j),min:h(j._min,j),invalidClass:"k-restricted-size-"+i,resizeend:h(j._stop,j)})}b.prototype={press:function(i){this._resizable.press(i)},move:function(i,j){if(!this.pressed){this.press(j);this.pressed=true}if(!this._resizable.target){this._resizable.press(j)}this._resizable.move(i)},end:function(){this._resizable.end();this.pressed=false},destroy:function(){this._resizable.destroy()},isResizing:function(){return this._resizable.resizing},_createHint:function(i){var j=this;return R("<div class='k-ghost-splitbar k-ghost-splitbar-"+j.orientation+" k-state-default' />").css(j.alternateSizingProperty,i[j.alternateSizingProperty]())},_start:function(m){var r=this,p=R(m.currentTarget),t=p.prev(),q=p.next(),i=t.data(J),j=q.data(J),w=parseInt(t[0].style[r.positioningProperty],10),n=parseInt(q[0].style[r.positioningProperty],10)+q[0][r.sizingDomProperty]-p[0][r.sizingDomProperty],o=parseInt(r._element.css(r.sizingProperty),10),l=function(x){var y=parseInt(x,10);return(A(x)?y:(o*y)/100)||0},u=l(i.min),k=l(i.max)||n-w,v=l(j.min),s=l(j.max)||n-w;r.previousPane=t;r.nextPane=q;r._maxPosition=Math.min(n-v,w+k);r._minPosition=Math.max(w+u,n-s)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(i){var p=this,n=R(i.currentTarget),k=p.owner;k._panes().children(".k-splitter-overlay").remove();if(i.keyCode!==L.keys.ESC){var r=i.position,q=n.prev(),o=n.next(),t=q.data(J),j=o.data(J),l=r-parseInt(q[0].style[p.positioningProperty],10),m=parseInt(o[0].style[p.positioningProperty],10)+o[0][p.sizingDomProperty]-r-n[0][p.sizingDomProperty],s=p._element.children(H).filter(function(){return d(R(this).data(J).size)}).length;if(!d(t.size)||s>1){if(d(t.size)){s--}t.size=l+"px"}if(!d(j.size)||s>1){j.size=m+"px"}k.resize(true)}return false}}})(window.kendo.jQuery);kendo_module({id:"upload",name:"Upload",category:"web",description:"The Upload widget uses progressive enhancement to deliver the best possible uploading experience to users.",depends:["core"]});(function(b,g){var N=window.kendo,Y=N.ui.Widget,K=N.logToConsole,V=/\.([^\.]+)$/,R=".kendoUpload",M="select",T="upload",A="success",B="error",Z="complete",L="cancel",S="progress",a="remove";var J=Y.extend({init:function(m,j){var i=this;Y.fn.init.call(i,m,j);i.name=m.name;i.multiple=i.options.multiple;i.localization=i.options.localization;var l=i.element;i.wrapper=l.closest(".k-upload");if(i.wrapper.length===0){i.wrapper=i._wrapInput(l)}i._activeInput(l);i.toggle(i.options.enabled);var h=i._ns=R+"-"+N.guid();l.closest("form").on("submit"+h,b.proxy(i._onParentFormSubmit,i)).on("reset"+h,b.proxy(i._onParentFormReset,i));if(i.options.async.saveUrl){i._module=i._supportsFormData()?new e(i):new U(i);i._async=true;var k=i.options.files;if(k.length>0){i._renderInitialFiles(k)}}else{i._module=new D(i)}if(i._supportsDrop()){i._setupDropZone()}i.wrapper.on("click",".k-upload-action",b.proxy(i._onFileAction,i)).on("click",".k-upload-selected",b.proxy(i._onUploadSelected,i))},events:[M,T,A,B,Z,L,S,a],options:{name:"Upload",enabled:true,multiple:true,showFileList:true,template:"",files:[],async:{removeVerb:"POST",autoUpload:true},localization:{"select":"Select files...","cancel":"Cancel","retry":"Retry","remove":"Remove","uploadSelectedFiles":"Upload files","dropFilesHere":"drop files here to upload","statusUploading":"uploading","statusUploaded":"uploaded","statusWarning":"warning","statusFailed":"failed","headerStatusUploading":"Uploading...","headerStatusUploaded":"Done"}},setOptions:function(i){var h=this,j=h.element;Y.fn.setOptions.call(h,i);h.multiple=h.options.multiple;j.attr("multiple",h._supportsMultiple()?h.multiple:false);h.toggle(h.options.enabled)},enable:function(h){h=typeof(h)==="undefined"?true:h;this.toggle(h)},disable:function(){this.toggle(false)},toggle:function(h){h=typeof(h)==="undefined"?h:!h;this.wrapper.toggleClass("k-state-disabled",h);this.element.prop("disabled",h)},destroy:function(){var h=this;b(document).add(b(".k-dropzone",h.wrapper)).add(h.wrapper.closest("form")).off(h._ns);b(h.element).off(R);Y.fn.destroy.call(h)},_addInput:function(h){if(!h[0].nodeType){return}var i=this,j=h.clone().val("");j.insertAfter(i.element).data("kendoUpload",i);b(i.element).hide().removeAttr("id").off(R);i._activeInput(j)},_activeInput:function(j){var i=this,h=i.wrapper;i.element=j;j.attr("multiple",i._supportsMultiple()?i.multiple:false).attr("autocomplete","off").on("click"+R,function(k){if(h.hasClass("k-state-disabled")){k.preventDefault()}}).on("focus"+R,function(){b(this).parent().addClass("k-state-focused")}).on("blur"+R,function(){b(this).parent().removeClass("k-state-focused")}).on("change"+R,b.proxy(i._onInputChange,i))},_onInputChange:function(h){var j=this,k=b(h.target),i=j.trigger(M,{files:Q(k)});if(i){j._addInput(k);k.remove()}else{j._module.onSelect(h)}},_onDrop:function(i){var h=i.originalEvent.dataTransfer,j=this,k=h.files;O(i);if(k.length>0){var l=j.trigger(M,{files:E(k)});if(!l){j._module.onSelect({target:b(".k-dropzone",j.wrapper)},k)}}},_renderInitialFiles:function(k){var i=this;var j=0;for(j=0;j<k.length;j++){var l=k[j];var h=i._enqueueFile(l.name,{fileNames:[l]});h.addClass("k-file-success").data("files",[k[j]]);b(".k-progress",h).width("100%");b(".k-upload-status",h).prepend("<span class='k-upload-pct'>100%</span>");i._fileAction(h,a)}},_prepareTemplateData:function(i,m){var h=m.fileNames,l={},j=0,k=0;for(k=0;k<h.length;k++){j+=h[k].size}l.name=i;l.size=j;l.files=m.fileNames;return l},_prepareDefaultFileEntryTemplate:function(i,k){var h="";var j=b("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+i+"'>"+i+"</span><strong class='k-upload-status'></strong></li>");if(k.fileNames.length==1&&!!k.fileNames[0].extension){h=k.fileNames[0].extension.substring(1);b(".k-icon",j).addClass("k-i-"+h)}return j},_enqueueFile:function(i,j){var n=this;var l;var p;var h=b(".k-upload-files",n.wrapper);var o=n.options;var k=o.template;var m;if(h.length===0){h=b("<ul class='k-upload-files k-reset'></ul>").appendTo(n.wrapper);if(!n.options.showFileList){h.hide()}n.wrapper.removeClass("k-upload-empty")}l=b(".k-file",h);if(!k){p=n._prepareDefaultFileEntryTemplate(i,j)}else{m=n._prepareTemplateData(i,j);k=N.template(k);p=b("<li class='k-file'>"+k(m)+"</li>");p.find(".k-upload-action").addClass("k-button k-button-bare")}p.appendTo(h).data(j);if(!n._async){b(".k-progress",p).width("100%")}if(!n.multiple&&l.length>0){n._module.onRemove({target:b(l,n.wrapper)})}return p},_removeFileEntry:function(h){var i=this;var l=h.closest(".k-upload-files");var k;var j;h.remove();k=b(".k-file",l);j=b(".k-file-success, .k-file-error",l);if(j.length===k.length){this._hideUploadButton()}if(k.length===0){l.remove();i.wrapper.addClass("k-upload-empty");i._hideHeaderUploadstatus()}},_fileAction:function(k,j){var h={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"};var i={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};if(!h.hasOwnProperty(j)){return}this._clearFileAction(k);if(!this.options.template){k.find(".k-upload-status .k-upload-action").remove();k.find(".k-upload-status").append(this._renderAction(h[j],this.localization[j],i[j]))}else{k.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+i[j]+" "+h[j]+"' title='"+this.localization[j]+"'></span>").show()}},_fileState:function(i,k){var l=this.localization,h={uploading:{text:l.statusUploading},uploaded:{text:l.statusUploaded},failed:{text:l.statusFailed}},j=h[k];if(j){b(".k-icon:not(.k-delete, .k-cancel, .k-retry)",i).text(j.text)}},_renderAction:function(i,j,h){if(i!==""){return b("<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+h+" "+i+"' title='"+j+"'></span></button>")}else{return b("<button type='button' class='k-button'>"+j+"</button>")}},_clearFileAction:function(h){b(".k-upload-action",h).empty().hide()},_onFileAction:function(i){var j=this;if(!j.wrapper.hasClass("k-state-disabled")){var h=b(i.target).closest(".k-upload-action"),k=h.find(".k-icon"),m=h.closest(".k-file"),l={files:m.data("fileNames")};if(k.hasClass("k-delete")){if(!j.trigger(a,l)){j._module.onRemove({target:b(m,j.wrapper)},l.data)}}else{if(k.hasClass("k-cancel")){j.trigger(L,l);j._module.onCancel({target:b(m,j.wrapper)});this._checkAllComplete();j._updateHeaderUploadStatus()}else{if(k.hasClass("k-retry")){b(".k-warning",m).remove();j._module.onRetry({target:b(m,j.wrapper)})}}}}return false},_onUploadSelected:function(){this._module.onSaveSelected();return false},_onFileProgress:function(h,j){var i;if(!this.options.template){i=b(".k-upload-pct",h.target);if(i.length===0){b(".k-upload-status",h.target).prepend("<span class='k-upload-pct'></span>")}b(".k-upload-pct",h.target).text(j+"%");b(".k-progress",h.target).width(j+"%")}else{b(".k-progress",h.target).width(j+"%")}this.trigger(S,{files:P(h).data("fileNames"),percentComplete:j})},_onUploadSuccess:function(i,k,j){var h=P(i);this._fileState(h,"uploaded");h.removeClass("k-file-progress").addClass("k-file-success");this._updateHeaderUploadStatus();this.trigger(A,{files:h.data("fileNames"),response:k,operation:"upload",XMLHttpRequest:j});if(this._supportsRemove()){this._fileAction(h,a)}else{this._clearFileAction(h)}this._checkAllComplete()},_onUploadError:function(i,j){var h=P(i);var k=b(".k-upload-pct",h);this._fileState(h,"failed");h.removeClass("k-file-progress").addClass("k-file-error");b(".k-progress",h).width("100%");if(k.length>0){k.empty().removeClass("k-upload-pct").addClass("k-icon k-warning")}else{b(".k-upload-status",h).prepend("<span class='k-icon k-warning'></span>")}this._updateHeaderUploadStatus();this._fileAction(h,"retry");this.trigger(B,{operation:"upload",files:h.data("fileNames"),XMLHttpRequest:j});K("Server response: "+j.responseText);this._checkAllComplete()},_showUploadButton:function(){var h=b(".k-upload-selected",this.wrapper);if(h.length===0){h=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")}this.wrapper.append(h)},_hideUploadButton:function(){b(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var i=this.localization;var h=b(".k-dropzone",this.wrapper);var j=b(".k-upload-status-total",this.wrapper);if(j.length!==0){j.remove()}j='<strong class="k-upload-status k-upload-status-total">'+i.headerStatusUploading+'<span class="k-icon k-loading">'+i.statusUploading+"</span></strong>";if(h.length>0){h.append(j)}else{b(".k-upload-button",this.wrapper).after(j)}},_updateHeaderUploadStatus:function(){var i=this;var l=i.localization;var k=b(".k-file",i.wrapper).not(".k-file-success, .k-file-error");var j;var m;var h;if(k.length===0){j=b(".k-file.k-file-error",i.wrapper);m=b(".k-upload-status-total",i.wrapper);h=b(".k-icon",m).removeClass("k-loading").addClass((j.length!==0)?"k-warning":"k-i-tick").text((j.length!==0)?l.statusWarning:l.statusUploaded);m.text(i.localization.headerStatusUploaded).append(h)}},_hideHeaderUploadstatus:function(){b(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var h=this,j=h.element;if(typeof this._module.onAbort!=="undefined"){this._module.onAbort()}if(!j.value){var i=b(j);i.attr("disabled","disabled");window.setTimeout(function(){i.removeAttr("disabled")},0)}},_onParentFormReset:function(){b(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return typeof(FormData)!="undefined"},_supportsMultiple:function(){var h=this._userAgent().indexOf("Windows")>-1;return !N.support.browser.opera&&!(N.support.browser.safari&&h)},_supportsDrop:function(){var h=this._userAgent().toLowerCase(),i=/chrome/.test(h),k=!i&&/safari/.test(h),j=k&&/windows/.test(h);return !j&&this._supportsFormData()&&(this.options.async.saveUrl)},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var j=this;b(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var h=j._ns;var i=b(".k-dropzone",j.wrapper).append(b("<em>"+j.localization.dropFilesHere+"</em>")).on("dragenter"+h,O).on("dragover"+h,function(k){k.preventDefault()}).on("drop"+h,b.proxy(this._onDrop,this));c(i,h,function(){i.addClass("k-dropzone-hovered")},function(){i.removeClass("k-dropzone-hovered")});c(b(document),h,function(){i.addClass("k-dropzone-active");i.closest(".k-upload").removeClass("k-upload-empty")},function(){i.removeClass("k-dropzone-active");if(b("li.k-file",i.closest(".k-upload")).length===0){i.closest(".k-upload").addClass("k-upload-empty")}})},_supportsRemove:function(){return !!this.options.async.removeUrl},_submitRemove:function(h,n,l,m){var k=this,j=k.options.async.removeField||"fileNames",i=b.extend(n,I());i[j]=h;jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:C,url:this.options.async.removeUrl,traditional:true,data:i,success:l,error:m})},_wrapInput:function(j){var h=this;var i=h.options;j.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>");if(!i.async.saveUrl){j.closest(".k-upload").addClass("k-upload-sync")}j.closest(".k-upload").addClass("k-upload-empty");j.closest(".k-button").append("<span>"+this.localization.select+"</span>");return j.closest(".k-upload")},_checkAllComplete:function(){if(b(".k-file.k-file-progress",this.wrapper).length===0){this.trigger(Z)}}});var D=function(h){this.name="syncUploadModule";this.element=h.wrapper;this.upload=h;this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};D.prototype={onSelect:function(i){var j=this.upload;var h=b(i.target);j._addInput(h);var k=j._enqueueFile(d(h),{"relatedInput":h,"fileNames":Q(h)});j._fileAction(k,a)},onRemove:function(i){var h=P(i);h.data("relatedInput").remove();this.upload._removeFileEntry(h)}};var U=function(h){this.name="iframeUploadModule";this.element=h.wrapper;this.upload=h;this.iframes=[]};J._frameId=0;U.prototype={onSelect:function(j){var k=this.upload,h=b(j.target);var i=this.prepareUpload(h);if(k.options.async.autoUpload){this.performUpload(i)}else{if(k._supportsRemove()){this.upload._fileAction(i,a)}k._showUploadButton()}},prepareUpload:function(h){var k=this.upload;var j=b(k.element);var l=k.options.async.saveField||h.attr("name");k._addInput(h);h.attr("name",l);var i=this.createFrame(k.name+"_"+J._frameId++);this.registerFrame(i);var m=this.createForm(k.options.async.saveUrl,i.attr("name")).append(j);var n=k._enqueueFile(d(h),{"frame":i,"relatedInput":j,"fileNames":Q(h)});i.data({"form":m,"file":n});return n},performUpload:function(i){var j={files:i.data("fileNames")},h=i.data("frame"),m=this.upload;if(!m.trigger(T,j)){m._hideUploadButton();m._showHeaderUploadStatus();h.appendTo(document.body);var k=h.data("form").attr("action",m.options.async.saveUrl).appendTo(document.body);j.data=b.extend({},j.data,I());for(var n in j.data){var l=k.find("input[name='"+n+"']");if(l.length===0){l=b("<input>",{type:"hidden",name:n}).appendTo(k)}l.val(j.data[n])}m._fileAction(i,L);m._fileState(i,"uploading");b(i).addClass("k-file-progress");h.one("load",b.proxy(this.onIframeLoad,this));k[0].submit()}else{m._removeFileEntry(h.data("file"));this.cleanupFrame(h);this.unregisterFrame(h)}},onSaveSelected:function(){var h=this;b(".k-file",this.element).each(function(){var i=b(this),j=f(i);if(!j){h.performUpload(i)}})},onIframeLoad:function(i){var h=b(i.target),k;try{k=h.contents().text()}catch(j){k="Error trying to get server response: "+j}this.processResponse(h,k)},processResponse:function(i,k){var l=i.data("file"),h=this,j={responseText:k};F(k,function(m){b.extend(j,{statusText:"OK",status:"200"});h.upload._onFileProgress({target:b(l,h.upload.wrapper)},100);h.upload._onUploadSuccess({target:b(l,h.upload.wrapper)},m,j);h.cleanupFrame(i);h.unregisterFrame(i)},function(){b.extend(j,{statusText:"error",status:"500"});h.upload._onUploadError({target:b(l,h.upload.wrapper)},j)})},onCancel:function(i){var h=b(i.target).data("frame");this.stopFrameSubmit(h);this.cleanupFrame(h);this.unregisterFrame(h);this.upload._removeFileEntry(h.data("file"))},onRetry:function(i){var h=P(i);this.performUpload(h)},onRemove:function(j,k){var i=P(j);var h=i.data("frame");if(h){this.unregisterFrame(h);this.upload._removeFileEntry(i);this.cleanupFrame(h)}else{W(i,this.upload,k)}},onAbort:function(){var i=this.element,h=this;b.each(this.iframes,function(){b("input",this.data("form")).appendTo(i);h.stopFrameSubmit(this[0]);this.data("form").remove();this.remove()});this.iframes=[]},createFrame:function(h){return b("<iframe name='"+h+"' id='"+h+"' style='display:none;' />")},createForm:function(h,i){return b("<form enctype='multipart/form-data' method='POST' action='"+h+"' target='"+i+"'/>")},stopFrameSubmit:function(h){if(typeof(h.stop)!="undefined"){h.stop()}else{if(h.document){h.document.execCommand("Stop")}}},registerFrame:function(h){this.iframes.push(h)},unregisterFrame:function(h){this.iframes=b.grep(this.iframes,function(i){return i.attr("name")!=h.attr("name")})},cleanupFrame:function(i){var h=i.data("form");i.data("file").data("frame",null);setTimeout(function(){h.remove();i.remove()},1)}};var e=function(h){this.name="formDataUploadModule";this.element=h.wrapper;this.upload=h};e.prototype={onSelect:function(j,k){var l=this.upload,h=this,n=b(j.target),m=k?E(k):this.inputFiles(n),i=this.prepareUpload(n,m);b.each(i,function(){if(l.options.async.autoUpload){h.performUpload(this)}else{if(l._supportsRemove()){l._fileAction(this,a)}l._showUploadButton()}})},prepareUpload:function(i,j){var h=this.enqueueFiles(j);if(i.is("input")){b.each(h,function(){b(this).data("relatedInput",i)});i.data("relatedFileEntries",h);this.upload._addInput(i)}return h},enqueueFiles:function(h){var l=this.upload,j,m,n=h.length,k,o,p=[];if(l.options.async.batch===true){j=b.map(h,function(i){return i.name}).join(", ");o=l._enqueueFile(j,{fileNames:h});o.data("files",h);p.push(o)}else{for(m=0;m<n;m++){k=h[m];j=k.name;o=l._enqueueFile(j,{fileNames:[k]});o.data("files",[k]);p.push(o)}}return p},inputFiles:function(h){return Q(h)},performUpload:function(i){var l=this.upload,k=this.createFormData(i.data("files")),m=new XMLHttpRequest(),j={files:i.data("fileNames"),XMLHttpRequest:m};if(!l.trigger(T,j)){l._fileAction(i,L);l._hideUploadButton();l._showHeaderUploadStatus();j.data=b.extend({},j.data,I());for(var h in j.data){k.append(h,j.data[h])}l._fileState(i,"uploading");b(i).addClass("k-file-progress");this.postFormData(l.options.async.saveUrl,k,i,m)}else{this.removeFileEntry(i)}},onSaveSelected:function(){var h=this;b(".k-file",this.element).each(function(){var i=b(this),j=f(i);if(!j){h.performUpload(i)}})},onCancel:function(i){var h=P(i);this.stopUploadRequest(h);this.removeFileEntry(h)},onRetry:function(i){var h=P(i);this.performUpload(h)},onRemove:function(i,j){var h=P(i);if(h.hasClass("k-file-success")){W(h,this.upload,j)}else{this.removeFileEntry(h)}},postFormData:function(i,l,h,k){var j=this;h.data("request",k);k.addEventListener("load",function(m){j.onRequestSuccess.call(j,m,h)},false);k.addEventListener(B,function(m){j.onRequestError.call(j,m,h)},false);k.upload.addEventListener("progress",function(m){j.onRequestProgress.call(j,m,h)},false);k.open("POST",i,true);k.withCredentials="true";k.send(l)},createFormData:function(m){var k=new FormData(),l=this.upload,h,j=m.length;for(h=0;h<j;h++){k.append(l.options.async.saveField||l.name,m[h].rawFile)}return k},onRequestSuccess:function(i,h){var k=i.target,j=this;function l(){j.upload._onUploadError({target:b(h,j.upload.wrapper)},k)}if(k.status>=200&&k.status<=299){F(k.responseText,function(m){j.upload._onFileProgress({target:b(h,j.upload.wrapper)},100);j.upload._onUploadSuccess({target:b(h,j.upload.wrapper)},m,k);j.cleanupFileEntry(h)},l)}else{l()}},onRequestError:function(i,h){var j=i.target;this.upload._onUploadError({target:b(h,this.upload.wrapper)},j)},cleanupFileEntry:function(h){var i=h.data("relatedInput"),j=true;if(i){b.each(i.data("relatedFileEntries")||[],function(){if(this.parent().length>0&&this[0]!=h[0]){j=j&&this.hasClass("k-file-success")}});if(j){i.remove()}}},removeFileEntry:function(h){this.cleanupFileEntry(h);this.upload._removeFileEntry(h)},onRequestProgress:function(i,h){var j=Math.round(i.loaded*100/i.total);this.upload._onFileProgress({target:b(h,this.upload.wrapper)},j)},stopUploadRequest:function(h){h.data("request").abort()}};function d(h){return b.map(Q(h),function(i){return i.name}).join(", ")}function Q(h){var i=h[0];if(i.files){return E(i.files)}else{return[{name:X(i.value),extension:G(i.value),size:null}]}}function E(h){return b.map(h,function(i){return H(i)})}function H(i){var h=i.name||i.fileName;return{name:N.htmlEncode(h),extension:G(h),size:i.size||i.fileSize,rawFile:i}}function G(h){var i=h.match(V);return i?i[0]:""}function X(i){var h=i.lastIndexOf("\\");return(h!=-1)?i.substr(h+1):i}function W(i,k,n){if(!k._supportsRemove()){return}var l=i.data("fileNames");var h=b.map(l,function(o){return o.name});k._submitRemove(h,n,function j(q,o,p){k._removeFileEntry(i);k.trigger(A,{operation:"remove",files:l,response:q,XMLHttpRequest:p})},function m(o){k.trigger(B,{operation:"remove",files:l,XMLHttpRequest:o});K("Server response: "+o.responseText)})}function F(k,l,m){var h=false,j="";try{j=b.parseJSON(C(k));h=true}catch(i){m()}if(h){l(j)}}function C(h){if(typeof h==="undefined"||h===""){h="{}"}return h}function O(h){h.stopPropagation();h.preventDefault()}function c(k,h,m,j){var l,i;k.on("dragenter"+h,function(){m();i=new Date();if(!l){l=setInterval(function(){var n=new Date()-i;if(n>100){j();clearInterval(l);l=null}},100)}}).on("dragover"+h,function(){i=new Date()})}function f(h){return h.is(".k-file-progress, .k-file-success, .k-file-error")}function P(h){return b(h.target).closest(".k-file")}function I(){var i={},j=b("meta[name=csrf-token]").attr("content"),h=b("meta[name=csrf-param]").attr("content");b("input[name^='__RequestVerificationToken']").each(function(){i[this.name]=this.value});if(h!==g&&j!==g){i[h]=j}return i}N.ui.plugin(J)})(window.kendo.jQuery);kendo_module({id:"window",name:"Window",category:"web",description:"The Window widget displays content in a modal or non-modal HTML window.",depends:["draganddrop"]});(function(e,f){var U=window.kendo,P=U.ui.Widget,V=U.ui.Draggable,X=e.isPlainObject,Y=U._activeElement,y=e.proxy,a=e.extend,N=e.each,i=U.template,H="body",n,w=".kendoWindow",W=".k-window",A=".k-window-title",C=A+"bar",d=".k-window-content",G=".k-resize-handle",I=".k-overlay",v="k-content-frame",p="k-loading",u="k-state-hover",S="k-state-focused",m="k-window-maximized",j=":visible",o="hidden",T="cursor",B="open",q="activate",t="deactivate",Q="close",M="refresh",k="resize",b="dragstart",Z="dragend",h="error",g="overflow",D="zIndex",r=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",O=".k-i-pin",l=".k-i-unpin",F=O+","+l,K=".k-window-titlebar .k-window-action",R=U.isLocalUrl;function x(z){return(typeof z!="undefined")}function J(Aa,z,Ab){return Math.max(Math.min(parseInt(Aa,10),Ab===Infinity?Ab:parseInt(Ab,10)),parseInt(z,10))}function c(z,Aa){return function(){var Ac=this,Ab=Ac.wrapper,Ae=Ab[0].style,Ad=Ac.options;if(Ad.isMaximized||Ad.isMinimized){return}Ac.restoreOptions={width:Ae.width,height:Ae.height};Ab.children(G).hide().end().children(C).find(r).parent().hide().eq(0).before(n.action({name:"Restore"}));Aa.call(Ac);if(z=="maximize"){Ac.wrapper.children(C).find(F).parent().hide()}else{Ac.wrapper.children(C).find(F).parent().show()}return Ac}}var L=P.extend({init:function(Aa,Ae){var Ah=this,Ai,Ab={},Ad,Aj,Af,Ak=false,Al,z,Ac=Ae&&Ae.actions&&!Ae.actions.length,Ag;P.fn.init.call(Ah,Aa,Ae);Ae=Ah.options;Af=Ae.position;Aa=Ah.element;Al=Ae.content;if(Ac){Ae.actions=[]}Ah.appendTo=e(e(Ae.appendTo)[0]||document.body);Ah._animations();if(Al&&!X(Al)){Al=Ae.content={url:Al}}Aa.find("script").filter(function(){return !this.type||this.type.toLowerCase().indexOf("script")>=0}).remove();if(!Aa.parent().is(Ah.appendTo)&&(Ae.position.top===f||Ae.position.left===f)){if(Aa.is(j)){Ab=Aa.offset();Ak=true}else{Ad=Aa.css("visibility");Aj=Aa.css("display");Aa.css({visibility:o,display:""});Ab=Aa.offset();Aa.css({visibility:Ad,display:Aj})}}if(!x(Ae.visible)||Ae.visible===null){Ae.visible=Aa.is(j)}Ai=Ah.wrapper=Aa.closest(W);if(!Aa.is(".k-content")||!Ai[0]){Aa.addClass("k-window-content k-content");Ah._createWindow(Aa,Ae);Ai=Ah.wrapper=Aa.closest(W);Ah._dimensions()}if(Af.top!==f){Af.top=Af.top.toString()}if(Af.left!==f){Af.left=Af.left.toString()}Ai.css({top:Af.top||Ab.top||"",left:Af.left||Ab.left||""});if(Ae.pinned){Ah.pin(true)}if(Al){Ah.refresh(Al)}if(Ae.visible){Ah.toFront()}z=Ai.children(d);Ah._tabindex(z);if(Ae.visible&&Ae.modal){Ah._overlay(Ai.is(j)).css({opacity:0.5})}Ai.on("mouseenter"+w,K,function(){e(this).addClass(u)}).on("mouseleave"+w,K,function(){e(this).removeClass(u)}).on("click"+w,"> "+K,y(Ah._windowActionHandler,Ah));z.on("keydown"+w,y(Ah._keydown,Ah)).on("focus"+w,function(){Ai.addClass(S)}).on("blur"+w,function(){Ai.removeClass(S)});this._resizable();this._draggable();Ag=Aa.attr("id");if(Ag){Ag=Ag+"_wnd_title";Ai.children(C).children(A).attr("id",Ag);z.attr({"role":"dialog","aria-labelledby":Ag})}Ai.add(Ai.children(".k-resize-handle,"+C)).on("mousedown"+w,y(Ah.toFront,Ah));Ah.touchScroller=U.touchScroller(Aa);Ah._resizeHandler=function(Am){return Ah._onDocumentResize(Am)};e(window).on("resize",Ah._resizeHandler);if(Ae.visible){Ah.trigger(B);Ah.trigger(q)}U.notify(Ah)},_dimensions:function(){var Ab=this,Aa=Ab.wrapper,Ac=Ab.options,Ad=Ac.width,z=Ac.height,Ae=Ac.maxHeight;Ab.title(Ac.title);N(["minWidth","minHeight","maxWidth","maxHeight"],function(Ah,Af){var Ag=Ac[Af];if(Ag&&Ag!=Infinity){Aa.css(Af,Ag)}});if(Ae&&Ae!=Infinity){Ab.element.css("maxHeight",Ae)}if(Ad){if(Ad.toString().indexOf("%")>0){Aa.width(Ad)}else{Aa.width(J(Ad,Ac.minWidth,Ac.maxWidth))}}if(z){if(z.toString().indexOf("%")>0){Aa.height(z)}else{Aa.height(J(z,Ac.minHeight,Ac.maxHeight))}}if(!Ac.visible){Aa.hide()}},_animations:function(){var z=this.options;if(z.animation===false){z.animation={open:{effects:{}},close:{hide:true,effects:{}}}}},_resize:function(){U.resize(this.element.children())},_resizable:function(){var z=this.options.resizable;var Aa=this.wrapper;if(z){Aa.on("dblclick"+w,C,y(function(Ab){if(!e(Ab.target).closest(".k-window-action").length){this.toggleMaximization()}},this));N("n e s w se sw ne nw".split(" "),function(Ac,Ab){Aa.append(n.resizeHandle(Ab))});this.resizing=new s(this)}else{if(this.resizing){Aa.off("dblclick"+w).children(G).remove();this.resizing.destroy();this.resizing=null}}},_draggable:function(){var z=this.options.draggable;if(z){this.dragging=new E(this,z.dragHandle||C)}else{if(this.dragging){this.dragging.destroy();this.dragging=null}}},setOptions:function(z){P.fn.setOptions.call(this,z);this._animations();this._dimensions();this._resizable();this._draggable()},events:[B,q,t,Q,M,k,b,Z,h],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:0.7}},fade:{direction:"out"}},duration:350,hide:true}},title:"",actions:["Close"],autoFocus:true,modal:false,resizable:true,draggable:true,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,pinned:false,position:{},content:null,visible:null,height:null,width:null},_closable:function(){return e.inArray("close",e.map(this.options.actions,function(z){return z.toLowerCase()}))>-1},_keydown:function(z){var Ag=this,Ah=Ag.options,Ai=U.keys,Am=z.keyCode,Ak=Ag.wrapper,Ab,Ae,Al=10,Aj=Ag.options.isMaximized,Af,Ad,Ac,Aa;if(z.target!=z.currentTarget||Ag._closing){return}if(Am==Ai.ESC&&Ag._closable()){Ag._close(true)}if(Ah.draggable&&!z.ctrlKey&&!Aj){Ab=U.getOffset(Ak);if(Am==Ai.UP){Ae=Ak.css("top",Ab.top-Al)}else{if(Am==Ai.DOWN){Ae=Ak.css("top",Ab.top+Al)}else{if(Am==Ai.LEFT){Ae=Ak.css("left",Ab.left-Al)}else{if(Am==Ai.RIGHT){Ae=Ak.css("left",Ab.left+Al)}}}}}if(Ah.resizable&&z.ctrlKey&&!Aj){if(Am==Ai.UP){Ae=true;Ad=Ak.height()-Al}else{if(Am==Ai.DOWN){Ae=true;Ad=Ak.height()+Al}}if(Am==Ai.LEFT){Ae=true;Af=Ak.width()-Al}else{if(Am==Ai.RIGHT){Ae=true;Af=Ak.width()+Al}}if(Ae){Ac=J(Af,Ah.minWidth,Ah.maxWidth);Aa=J(Ad,Ah.minHeight,Ah.maxHeight);if(!isNaN(Ac)){Ak.width(Ac);Ag.options.width=Ac+"px"}if(!isNaN(Aa)){Ak.height(Aa);Ag.options.height=Aa+"px"}Ag.resize()}}if(Ae){z.preventDefault()}},_overlay:function(Aa){var Ab=this.appendTo.children(I),z=this.wrapper;if(!Ab.length){Ab=e("<div class='k-overlay' />")}Ab.insertBefore(z[0]).toggle(Aa).css(D,parseInt(z.css(D),10)-1);return Ab},_windowActionHandler:function(z){var Ab=e(z.target).closest(".k-window-action").find(".k-icon"),Aa=this;if(Aa._closing){return}N({"k-i-close":function(){Aa._close(true)},"k-i-maximize":Aa.maximize,"k-i-minimize":Aa.minimize,"k-i-restore":Aa.restore,"k-i-refresh":Aa.refresh,"k-i-pin":Aa.pin,"k-i-unpin":Aa.unpin},function(Ac,Ad){if(Ab.hasClass(Ac)){z.preventDefault();Ad.call(Aa);return false}})},_modals:function(){var z=this;return e(W).filter(function(){var Aa=e(this);var Ab=z._object(Aa).options;return Ab.modal&&Ab.visible&&Aa.is(j)}).sort(function(Ab,Aa){return +e(Ab).css("zIndex")-+e(Aa).css("zIndex")})},_object:function(Aa){var z=Aa.children(d);return z.data("kendoWindow")||z.data("kendo"+this.options.name)},center:function(){var Aa=this,z=Aa.wrapper,Ab=e(window);if(Aa.options.isMaximized){return Aa}z.css({left:Ab.scrollLeft()+Math.max(0,(Ab.width()-z.width())/2),top:Ab.scrollTop()+Math.max(0,(Ab.height()-z.height())/2)});return Aa},title:function(Ae){var Ac=this,Ab=Ac.wrapper,Ad=Ac.options,z=Ab.children(C),Af=z.children(A),Aa=z.outerHeight();if(!arguments.length){return Af.text()}if(Ae===false){Ab.addClass("k-window-titleless");z.remove()}else{if(!z.length){Ab.prepend(n.titlebar(a(n,Ad)))}Ab.css("padding-top",Aa);z.css("margin-top",-Aa)}Af.text(Ae);Ac.options.title=Ae;return Ac},content:function(z){var Ab=this.wrapper.children(d),Aa=Ab.children(".km-scroll-container");Ab=Aa[0]?Aa:Ab;if(!z){return Ab.html()}U.destroy(this.element.children());Ab.html(z);return this},open:function(){var Ad=this,Ag=Ad.wrapper,Ae=Ad.options,Ac=Ae.animation.open,Af=Ag.children(d),z=Af.css(g),Aa;if(!Ad.trigger(B)){if(Ad._closing){Ag.kendoStop(true,true)}Ad._closing=false;Ad.toFront();if(Ae.autoFocus){Ad.element.focus()}Ae.visible=true;if(Ae.modal){Aa=Ad._overlay(false);Aa.kendoStop(true,true);if(Ac.duration&&U.effects.Fade){var Ab=U.fx(Aa).fadeIn();Ab.duration(Ac.duration||0);Ab.endValue(0.5);Ab.play()}else{Aa.css("opacity",0.5)}Aa.show()}if(!Ag.is(j)){Af.css(g,o);Ag.show().kendoStop().kendoAnimate({effects:Ac.effects,duration:Ac.duration,complete:function(){if(Ae.autoFocus){Ad.element.focus()}Ad.trigger(q);Af.css(g,z)}})}}if(Ae.isMaximized){Ad._documentScrollTop=e(document).scrollTop();e("html, body").css(g,o)}return Ad},_removeOverlay:function(Aa){var Ae=this._modals();var Ac=this.options;var Ab=Ac.modal&&!Ae.length;var Ad=Ac.modal?this._overlay(true):e(f);var Af=Ac.animation.close;if(Ab){if(!Aa&&Af.duration&&U.effects.Fade){var z=U.fx(Ad).fadeOut();z.duration(Af.duration||0);z.startValue(0.5);z.play()}else{this._overlay(false).remove()}}else{if(Ae.length){this._object(Ae.last())._overlay(true)}}},_close:function(Ae){var Aa=this,z=Aa.wrapper,Ab=Aa.options,Ac=Ab.animation.open,Ad=Ab.animation.close;if(z.is(j)&&!Aa.trigger(Q,{userTriggered:!!Ae})){Aa._closing=true;Ab.visible=false;e(W).each(function(Af,Ah){var Ag=e(Ah).children(d);if(Ah!=z&&Ag.find("> ."+v).length>0){Ag.children(I).remove()}});this._removeOverlay();z.kendoStop().kendoAnimate({effects:Ad.effects||Ac.effects,reverse:Ad.reverse===true,duration:Ad.duration,complete:function(){z.hide().css("opacity","");Aa.trigger(t);var Af=Aa._object(Aa._modals().last());if(Af){Af.toFront()}}})}if(Aa.options.isMaximized){e("html, body").css(g,"");if(Aa._documentScrollTop&&Aa._documentScrollTop>0){e(document).scrollTop(Aa._documentScrollTop)}}},close:function(){this._close(false);return this},_actionable:function(z){return e(z).is(K+","+K+" .k-icon,:input,a")},_shouldFocus:function(Aa){var z=Y(),Ab=this.element;return this.options.autoFocus&&!e(z).is(Ab)&&!this._actionable(Aa)&&(!Ab.find(z).length||!Ab.find(Aa).length)},toFront:function(Aa){var Ad=this,Ag=Ad.wrapper,z=Ag[0],Ae=+Ag.css(D),Ah=Ae,Af=(Aa&&Aa.target)||null;e(W).each(function(Ai,Am){var Ak=e(Am),Aj=Ak.css(D),Al=Ak.children(d);if(!isNaN(Aj)){Ae=Math.max(+Aj,Ae)}if(Am!=z&&Al.find("> ."+v).length>0){Al.append(n.overlay)}});if(!Ag[0].style.zIndex||Ah<Ae){Ag.css(D,Ae+2)}Ad.element.find("> .k-overlay").remove();if(Ad._shouldFocus(Af)){Ad.element.focus();var Ab=e(window).scrollTop(),Ac=parseInt(Ag.position().top,10);if(Ac>0&&Ac<Ab){if(Ab>0){e(window).scrollTop(Ac)}else{Ag.css("top",Ab)}}}return Ad},toggleMaximization:function(){if(this._closing){return this}return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var z=this;var Aa=z.options;var Ab=Aa.minHeight;var Ac=z.restoreOptions;if(!Aa.isMaximized&&!Aa.isMinimized){return z}if(Ab&&Ab!=Infinity){z.wrapper.css("min-height",Ab)}z.wrapper.css({position:Aa.pinned?"fixed":"absolute",left:Ac.left,top:Ac.top,width:Ac.width,height:Ac.height}).removeClass(m).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(r).parent().show().end().end().find(F).parent().show();z.options.width=Ac.width;z.options.height=Ac.height;e("html, body").css(g,"");if(this._documentScrollTop&&this._documentScrollTop>0){e(document).scrollTop(this._documentScrollTop)}Aa.isMaximized=Aa.isMinimized=false;z.resize();return z},maximize:c("maximize",function(){var Aa=this,z=Aa.wrapper,Ab=z.position();a(Aa.restoreOptions,{left:Ab.left,top:Ab.top});z.css({left:0,top:0,position:"fixed"}).addClass(m);this._documentScrollTop=e(document).scrollTop();e("html, body").css(g,o);Aa.options.isMaximized=true;Aa._onDocumentResize()}),minimize:c("minimize",function(){var z=this;z.wrapper.css({height:"",minHeight:""});z.element.hide();z.options.isMinimized=true}),pin:function(Ad){var Aa=this,Ae=e(window),z=Aa.wrapper,Ac=parseInt(z.css("top"),10),Ab=parseInt(z.css("left"),10);if(Ad||!Aa.options.pinned&&!Aa.options.isMaximized){z.css({position:"fixed",top:Ac-Ae.scrollTop(),left:Ab-Ae.scrollLeft()});z.children(C).find(O).addClass("k-i-unpin").removeClass("k-i-pin");Aa.options.pinned=true}},unpin:function(){var Aa=this,Ad=e(window),z=Aa.wrapper,Ac=parseInt(z.css("top"),10),Ab=parseInt(z.css("left"),10);if(Aa.options.pinned&&!Aa.options.isMaximized){z.css({position:"",top:Ac+Ad.scrollTop(),left:Ab+Ad.scrollLeft()});z.children(C).find(l).addClass("k-i-pin").removeClass("k-i-unpin");Aa.options.pinned=false}},_onDocumentResize:function(){var Ac=this,Ab=Ac.wrapper,z=e(window),Ad,Aa;if(!Ac.options.isMaximized){return}Ad=z.width();Aa=z.height()-parseInt(Ab.css("padding-top"),10);Ab.css({width:Ad,height:Aa});Ac.options.width=Ad;Ac.options.height=Aa;Ac.resize()},refresh:function(Ad){var Ac=this,z=Ac.options,Ae=e(Ac.element),Aa,Af,Ab;if(!X(Ad)){Ad={url:Ad}}Ad=a({},z.content,Ad);Af=x(z.iframe)?z.iframe:Ad.iframe;Ab=Ad.url;if(Ab){if(!x(Af)){Af=!R(Ab)}if(!Af){Ac._ajaxRequest(Ad)}else{Aa=Ae.find("."+v)[0];if(Aa){Aa.src=Ab||Aa.src}else{Ae.html(n.contentFrame(a({},z,{content:Ad})))}Ae.find("."+v).unbind("load"+w).on("load"+w,function(){Ac.trigger(M)})}}else{if(Ad.template){Ac.content(i(Ad.template)({}))}Ac.trigger(M)}return Ac},_ajaxRequest:function(Ac){var Ab=this,Aa=Ac.template,Ad=Ab.wrapper.find(".k-window-titlebar .k-i-refresh"),z=setTimeout(function(){Ad.addClass(p)},100);e.ajax(a({type:"GET",dataType:"html",cache:false,error:function(Af,Ae){Ab.trigger(h,{status:Ae,xhr:Af})},complete:function(){clearTimeout(z);Ad.removeClass(p)},success:function(Ae){if(Aa){Ae=i(Aa)(Ae||{})}Ab.content(Ae);Ab.element.prop("scrollTop",0);Ab.trigger(M)}},Ac))},destroy:function(){var z=this.wrapper;P.fn.destroy.call(this);U.destroy(z);if(this.resizing){this.resizing.destroy()}if(this.dragging){this.dragging.destroy()}this.element.children("iframe").remove();z.find(".k-resize-handle,.k-window-titlebar").off(w);z.remove().off(w);e(window).off("resize",this._resizeHandler);this._removeOverlay(true)},_createWindow:function(){var Ab=this,Ad=Ab.element,Ac=Ab.options,Ae,Aa,z=U.support.isRtl(Ad);if(Ac.scrollable===false){Ad.attr("style","overflow:hidden;")}Aa=e(n.wrapper(Ac));if(Ac.title!==false){Aa.append(n.titlebar(a(n,Ac)))}Ae=Ad.find("iframe:not(.k-content)").map(function(){var Af=this.getAttribute("src");this.src="";return Af});Aa.toggleClass("k-rtl",z).appendTo(Ab.appendTo).append(Ad).find("iframe:not(.k-content)").each(function(Af){this.src=Ae[Af]});Aa.find(".k-window-title").css(z?"left":"right",Aa.find(".k-window-actions").outerWidth()+10);Ad.show();Ad.find("[data-role=editor]").each(function(){var Af=e(this).data("kendoEditor");if(Af){Af.refresh()}})}});n={wrapper:i("<div class='k-widget k-window' />"),action:i("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:i("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:i("<iframe frameborder='0' title='#= title #' class='"+v+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:i("<div class='k-resize-handle k-resize-#= data #'></div>")};function s(z){var Aa=this;Aa.owner=z;Aa._draggable=new V(z.wrapper,{filter:G,group:z.wrapper.id+"-resizing",dragstart:y(Aa.dragstart,Aa),drag:y(Aa.drag,Aa),dragend:y(Aa.dragend,Aa)})}s.prototype={dragstart:function(Aa){var Ab=this,z=Ab.owner,Ac=z.wrapper;Ab.elementPadding=parseInt(z.wrapper.css("padding-top"),10);Ab.initialCursorPosition=U.getOffset(Ac,"position");Ab.resizeDirection=Aa.currentTarget.prop("className").replace("k-resize-handle k-resize-","");Ab.initialSize={width:Ac.width(),height:Ac.height()};Ab.containerOffset=U.getOffset(z.appendTo);Ac.append(n.overlay).children(G).not(Aa.currentTarget).hide();e(H).css(T,Aa.currentTarget.css(T))},drag:function(z){var Af=this,Al=Af.owner,Aj=Al.wrapper,Ag=Al.options,Aa=Af.resizeDirection,Ak=Af.containerOffset,Ae=Af.initialCursorPosition,Ah=Af.initialSize,An,Ab,Ad,Ac,Ai=Math.max(z.x.location,Ak.left),Am=Math.max(z.y.location,Ak.top);if(Aa.indexOf("e")>=0){An=Ai-Ae.left;Aj.width(J(An,Ag.minWidth,Ag.maxWidth))}else{if(Aa.indexOf("w")>=0){Ac=Ae.left+Ah.width;An=J(Ac-Ai,Ag.minWidth,Ag.maxWidth);Aj.css({left:Ac-An-Ak.left,width:An})}}if(Aa.indexOf("s")>=0){Ab=Am-Ae.top-Af.elementPadding;Aj.height(J(Ab,Ag.minHeight,Ag.maxHeight))}else{if(Aa.indexOf("n")>=0){Ad=Ae.top+Ah.height;Ab=J(Ad-Am,Ag.minHeight,Ag.maxHeight);Aj.css({top:Ad-Ab-Ak.top,height:Ab})}}if(An){Al.options.width=An+"px"}if(Ab){Al.options.height=Ab+"px"}Al.resize()},dragend:function(Aa){var Ab=this,z=Ab.owner,Ac=z.wrapper;Ac.find(I).remove().end().children(G).not(Aa.currentTarget).show();e(H).css(T,"");if(z.touchScroller){z.touchScroller.reset()}if(Aa.keyCode==27){Ac.css(Ab.initialCursorPosition).css(Ab.initialSize)}return false},destroy:function(){this._draggable.destroy()}};function E(z,Ab){var Aa=this;Aa.owner=z;Aa._draggable=new V(z.wrapper,{filter:Ab,group:z.wrapper.id+"-moving",dragstart:y(Aa.dragstart,Aa),drag:y(Aa.drag,Aa),dragend:y(Aa.dragend,Aa),dragcancel:y(Aa.dragcancel,Aa)});Aa._draggable.userEvents.stopPropagation=false}E.prototype={dragstart:function(Aa){var z=this.owner,Ac=z.element,Ab=Ac.find(".k-window-actions"),Ad=U.getOffset(z.appendTo);z.trigger(b);z.initialWindowPosition=U.getOffset(z.wrapper,"position");z.startPosition={left:Aa.x.client-z.initialWindowPosition.left,top:Aa.y.client-z.initialWindowPosition.top};if(Ab.length>0){z.minLeftPosition=Ab.outerWidth()+parseInt(Ab.css("right"),10)-Ac.outerWidth()}else{z.minLeftPosition=20-Ac.outerWidth()}z.minLeftPosition-=Ad.left;z.minTopPosition=-Ad.top;z.wrapper.append(n.overlay).children(G).hide();e(H).css(T,Aa.currentTarget.css(T))},drag:function(Aa){var z=this.owner,Ab={left:Math.max(Aa.x.client-z.startPosition.left,z.minLeftPosition),top:Math.max(Aa.y.client-z.startPosition.top,z.minTopPosition)};e(z.wrapper).css(Ab)},_finishDrag:function(){var z=this.owner;z.wrapper.children(G).toggle(!z.options.isMinimized).end().find(I).remove();e(H).css(T,"")},dragcancel:function(z){this._finishDrag();z.currentTarget.closest(W).css(this.owner.initialWindowPosition)},dragend:function(){this._finishDrag();this.owner.trigger(Z);return false},destroy:function(){this._draggable.destroy()}};U.ui.plugin(L)})(window.kendo.jQuery);kendo_module({id:"scheduler.view",name:"Scheduler View",category:"web",description:"The Scheduler Common View",depends:["core"],hidden:true});(function(W){var P=window.kendo,a=P.ui,M=a.Widget,O=P.keys,j=".kendoSchedulerView",X=Math;function g(o,m){var n=[];function l(q,s){s=s[m];if(s){var p=n[q]=n[q]||[];for(var r=0;r<s.length;r++){p.push(s[r]);l(q+1,s[r])}}}l(0,o);return n}function c(){if(P.support.cssBorderSpacing){return""}return'cellspacing="0"'}function R(m,l){if(!m.length){return""}return"<table "+c()+' class="'+W.trim("k-scheduler-table "+(l||""))+'"><tr>'+m.join("</tr><tr>")+"</tr></table>"}function f(m,l){if(!m.length){return""}return"<div style='position:relative'>"+R(m,l)+"</div>"}function Q(p,n,m){var l=[];if(m>0){for(var o=0;o<p;o++){l.push("<th></th>")}}if(n){l.push('<th class="k-scheduler-times-all-day">'+n.text+"</th>")}if(m<1){return W()}return W('<div class="k-scheduler-times">'+R(l)+"</div>")}function H(n,o,v){var s=[];var l;for(var x=0;x<n.length;x++){var p=n[x];var r=[];var m=o/p.length;for(l=0;l<p.length;l++){r.push('<th colspan="'+m+'" class="'+(p[l].className||"")+'">'+p[l].text+"</th>")}s.push(r.join(""))}var w=[];if(v){var u=n[n.length-1];var t=[];var q=v.cellContent;for(l=0;l<u.length;l++){t.push('<td class="'+(u[l].className||"")+'">'+(q?q(l):"&nbsp;")+"</th>")}w.push(t.join(""))}return W('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+R(s)+f(w,"k-scheduler-header-all-day")+"</div></div>")}function b(o,t){var l=new Array(t).join().split(",");var p=[];var m;for(var n=0;n<o.length;n++){var q=o[n];var s=t/q.length;var r;for(m=0;m<q.length;m++){r=q[m].className||"";if(q[m].allDay){r="k-scheduler-times-all-day"}l[s*m]+='<th class="'+r+'" rowspan="'+s+'">'+q[m].text+"</th>"}}for(m=0;m<t;m++){p.push(l[m])}if(t<1){return W()}return W('<div class="k-scheduler-times">'+R(p)+"</div>")}function L(){return W('<div class="k-scheduler-content"><table '+c()+' class="k-scheduler-table"/></div>')}var I='<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';P.ui.scheduler={};var B=P.Class.extend({init:function(l){this._index=l;this._timeSlotCollections=[];this._daySlotCollections=[]},addTimeSlotCollection:function(m,l){return this._addCollection(m,l,this._timeSlotCollections)},addDaySlotCollection:function(m,l){return this._addCollection(m,l,this._daySlotCollections)},_addCollection:function(o,l,n){var m=new V(o,l,this._index,n.length);n.push(m);return m},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(l,m){return this._slotByPosition(l,m,this._daySlotCollections)},timeSlotByPosition:function(l,m){return this._slotByPosition(l,m,this._timeSlotCollections)},_slotByPosition:function(p,q,o){for(var m=0;m<o.length;m++){var n=o[m];for(var l=0;l<n.count();l++){var r=n.at(l);if(p>=r.offsetLeft&&p<r.offsetLeft+r.clientWidth&&q>=r.offsetTop&&q<r.offsetTop+r.clientHeight){return r}}}},refresh:function(){var l;for(l=0;l<this._daySlotCollections.length;l++){this._daySlotCollections[l].refresh()}for(l=0;l<this._timeSlotCollections.length;l++){this._timeSlotCollections[l].refresh()}},timeSlotRanges:function(m,o){var l=this._timeSlotCollections;var p=this._startSlot(m,l);var n=p;if(m<o){n=this._endSlot(o,l)}return this._continuousRange(C,l,p,n)},daySlotRanges:function(n,p,l){var m=this._daySlotCollections;var q=this._startSlot(n,m,l);var o=q;if(n<p){o=this._endSlot(p,m,l)}return this._continuousRange(T,m,q,o)},_continuousRange:function(w,x,n,p){var q=n.slot;var o=p.slot;var l=q.collectionIndex;var r=o.collectionIndex;var s=[];for(var u=l;u<=r;u++){var z=x[u];var v=z.first();var t=z.last();var y=false;var m=false;if(u==l){m=!n.inRange}if(u==r){y=!p.inRange}if(v.start<q.start){v=q}if(t.start>o.start){t=o}if(l<r){if(u==l){y=true}else{if(u==r){m=true}else{y=m=true}}}s.push(new w({start:v,end:t,collection:z,head:y,tail:m}))}return s},slotRanges:function(n,l){var m=P.date.toUtcTime(n.start);var o=P.date.toUtcTime(n.end);if(l===undefined){l=n.isMultiDay()}if(l){return this.daySlotRanges(m,o,n.isAllDay)}if(n.startTime){m=P.date.getMilliseconds(n.startTime)+P.date.toUtcTime(P.date.getDate(n.start))}if(n.endTime){o=P.date.getMilliseconds(n.endTime)+P.date.toUtcTime(P.date.getDate(n.end))}return this.timeSlotRanges(m,o)},ranges:function(n,o,l,m){if(typeof n!="number"){n=P.date.toUtcTime(n)}if(typeof o!="number"){o=P.date.toUtcTime(o)}if(l){return this.daySlotRanges(n,o,m)}return this.timeSlotRanges(n,o)},_startCollection:function(o,m){for(var n=0;n<m.length;n++){var l=m[n];if(l.startInRange(o)){return l}}return null},_endCollection:function(o,m){for(var n=0;n<m.length;n++){var l=m[n];if(l.endInRange(o)){return l}}return null},_getCollections:function(l){return l?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(l,m){var o=m?-1:1;var n=this._getCollections(l.isDaySlot);var p=n[l.collectionIndex+o];return p?p[m?"last":"first"]():undefined},firstSlot:function(){var l=this._getCollections(this.daySlotCollectionCount());return l[0].first()},lastSlot:function(){var l=this._getCollections(this.daySlotCollectionCount());return l[l.length-1].last()},upSlot:function(l,o){var m=this;var n=function(q,r,s){var p=s===0;if(!o&&!q&&p&&m.daySlotCollectionCount()){return m._daySlotCollections[0].at(r)}};if(!this.timeSlotCollectionCount()){o=true}return this._verticalSlot(l,-1,n)},downSlot:function(m,o){var n=this;var l=function(p,q,r){if(!o&&p&&n.timeSlotCollectionCount()){return n._timeSlotCollections[r].at(0)}};if(!this.timeSlotCollectionCount()){o=true}return this._verticalSlot(m,1,l)},leftSlot:function(l){return this._horizontalSlot(l,-1)},rightSlot:function(l){return this._horizontalSlot(l,1)},_horizontalSlot:function(m,l){var q=m.index;var n=m.isDaySlot;var r=m.collectionIndex;var p=this._getCollections(n);if(n){q+=l}else{r+=l}var o=p[r];return o?o.at(q):undefined},_verticalSlot:function(p,q,o){var l=p.index;var n=p.isDaySlot;var r=p.collectionIndex;var s=this._getCollections(n);p=o(n,r,l);if(p){return p}if(n){r+=q}else{l+=q}var m=s[r];return m?m.at(l):undefined},_collection:function(n,l){var m=l?this._daySlotCollections:this._timeSlotCollections;return m[n]},_startSlot:function(o,n,m){var q=this._startCollection(o,n);var l=true;if(!q){q=n[0];l=false}var p=q.slotByStartDate(o,m);if(!p){p=q.first();l=false}return{slot:p,inRange:l}},_endSlot:function(o,n,m){var q=this._endCollection(o,n);var l=true;if(!q){q=n[n.length-1];l=false}var p=q.slotByEndDate(o,m);if(!p){p=q.last();l=false}return{slot:p,inRange:l}},getSlotCollection:function(m,l){return this[l?"getDaySlotCollection":"getTimeSlotCollection"](m)},getTimeSlotCollection:function(l){return this._timeSlotCollections[l]},getDaySlotCollection:function(l){return this._daySlotCollections[l]}});var d=P.Class.extend({init:function(l){W.extend(this,l)},innerHeight:function(){var n=this.collection;var o=this.start.index;var p=this.end.index;var m=0;for(var l=o;l<=p;l++){m+=n.at(l).offsetHeight}return m},events:function(){return this.collection.events()},addEvent:function(l){this.events().push(l)},startSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.end}return this.start},endSlot:function(){if(this.start.offsetLeft>this.end.offsetLeft){return this.start}return this.end}});var C=d.extend({innerHeight:function(){var n=this.collection;var o=this.start.index;var p=this.end.index;var m=0;for(var l=o;l<=p;l++){m+=n.at(l).offsetHeight}return m},outerRect:function(n,m,l){return this._rect("offset",n,m,l)},_rect:function(t,m,o,l){var r;var u;var q=this.start;var n=this.end;if(typeof m!="number"){m=P.date.toUtcTime(m)}if(typeof o!="number"){o=P.date.toUtcTime(o)}if(l){r=q.offsetTop;u=n.offsetTop+n[t+"Height"]}else{var w=m-q.start;if(w<0){w=0}var s=q.end-q.start;r=q.offsetTop+q[t+"Height"]*w/s;var v=n.end-o;if(v<0){v=0}var p=n.end-n.start;u=n.offsetTop+n[t+"Height"]-n[t+"Height"]*v/p}return{top:r,bottom:u}},innerRect:function(n,m,l){return this._rect("client",n,m,l)}});var T=d.extend({innerWidth:function(){var n=this.collection;var o=this.start.index;var p=this.end.index;var m=0;var q=o!==p?"offsetWidth":"clientWidth";for(var l=o;l<=p;l++){m+=n.at(l)[q]}return m}});var V=P.Class.extend({init:function(m,l,o,n){this._slots=[];this._events=[];this._start=P.date.toUtcTime(m);this._end=P.date.toUtcTime(l);this._groupIndex=o;this._collectionIndex=n},refresh:function(){var m=[];for(var o=0;o<this._slots.length;o++){var p=this._slots[o];var n=p.offsetTop;p.refresh();m[o]=p.offsetTop-n}for(var l=0;l<this._events.length;l++){var q=this._events[l];q.element.css({top:q.element[0].offsetTop+m[q.slotIndex]})}},startInRange:function(l){return this._start<=l&&l<this._end},endInRange:function(l){return this._start<=l&&l<=this._end},slotByStartDate:function(o){var m=o;if(typeof m!="number"){m=P.date.toUtcTime(o)}for(var n=0;n<this._slots.length;n++){var l=this._slots[n];if(l.startInRange(m)){return l}}return null},slotByEndDate:function(o,p){var m=o;if(typeof m!="number"){m=P.date.toUtcTime(o)}if(p){return this.slotByStartDate(o,false)}for(var n=0;n<this._slots.length;n++){var l=this._slots[n];if(l.endInRange(m)){return l}}return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(n,o,m){var l=new F(n,o,m,this._groupIndex,this._collectionIndex,this._slots.length);this._slots.push(l)},addDaySlot:function(o,p,n,l){var m=new U(o,p,n,this._groupIndex,this._collectionIndex,this._slots.length,l);this._slots.push(m)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(l){return this._slots[l]}});var E=P.Class.extend({init:function(p,q,o,n,l,m){this.element=p;this.clientWidth=p.clientWidth;this.clientHeight=p.clientHeight;this.offsetWidth=p.offsetWidth;this.offsetHeight=p.offsetHeight;this.offsetTop=p.offsetTop;this.offsetLeft=p.offsetLeft;this.start=q;this.end=o;this.element=p;this.groupIndex=n;this.collectionIndex=l;this.index=m;this.isDaySlot=false},startDate:function(){return P.timezone.toLocalDate(this.start)},endDate:function(){return P.timezone.toLocalDate(this.end)},startInRange:function(l){return this.start<=l&&l<this.end},endInRange:function(l){return this.start<l&&l<=this.end},startOffset:function(){return this.start},endOffset:function(){return this.end}});var F=E.extend({refresh:function(){this.offsetTop=this.element.offsetTop},offsetX:function(m,l){if(m){return this.offsetLeft+l}else{return this.offsetLeft+l}},startInRange:function(l){return this.start<=l&&l<this.end},endInRange:function(l){return this.start<l&&l<=this.end},startOffset:function(o,p,q){if(q){return this.start}var l=W(this.element).offset();var n=p-l.top;var r=this.end-this.start;var m=Math.floor(r*(n/this.offsetHeight));return this.start+m},endOffset:function(o,p,q){if(q){return this.end}var l=W(this.element).offset();var n=p-l.top;var r=this.end-this.start;var m=Math.floor(r*(n/this.offsetHeight));return this.start+m}});var U=E.extend({init:function(q,r,p,o,m,n,l){E.fn.init.apply(this,arguments);this.eventCount=l;this.isDaySlot=true;this.firstChildHeight=this.element.firstChild.offsetHeight+3;this.firstChildTop=this.element.firstChild.offsetTop},refresh:function(){this.clientHeight=this.element.clientHeight;this.offsetTop=this.element.offsetTop},startDate:function(){var l=new Date(this.start);return P.timezone.apply(l,"Etc/UTC")},endDate:function(){var l=new Date(this.end);return P.timezone.apply(l,"Etc/UTC")},startInRange:function(l){return this.start<=l&&l<this.end},endInRange:function(l){return this.start<l&&l<=this.end}});var S;function J(){S=S?S:P.support.scrollbar();return S}P.ui.SchedulerView=M.extend({init:function(m,l){M.fn.init.call(this,m,l);this._scrollbar=J();this._isRtl=P.support.isRtl(m);this._resizeHint=W();this._moveHint=W();this._cellId=P.guid();this._resourcesForGroups();this._selectedSlots=[]},_isMobile:function(){var l=this.options;return(l.mobile===true&&P.support.mobileOS)||l.mobile==="phone"||l.mobile==="tablet"},_isMobilePhoneView:function(){var l=this.options;return(l.mobile===true&&P.support.mobileOS&&!P.support.mobileOS.tablet)||l.mobile==="phone"},_addResourceView:function(){var l=new B(this.groups.length);this.groups.push(l);return l},dateForTitle:function(){return P.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},_changeGroup:function(o,n){var m=n?"prevGroupSlot":"nextGroupSlot";var l=this[m](o.start,o.groupIndex,o.isAllDay);if(l){o.groupIndex+=n?-1:1}return l},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return false},_horizontalSlots:function(q,r,s,m){var t=m?"leftSlot":"rightSlot";var o=r[0].start;var l=r[r.length-1].end;var p=this.groups[q.groupIndex];if(!s){var u=this._normalizeHorizontalSelection(q,r,m);if(u){o=l=u}}o=p[t](o);l=p[t](l);if(!s&&!this._isVerticallyGrouped()&&(!o||!l)){o=l=this._changeGroup(q,m)}var n;if(!o||!l){n=this._continuousSlot(q,r,m);n=this._changeGroupContinuously(q,n,s,m);if(n){o=l=n}}return{startSlot:o,endSlot:l}},_verticalSlots:function(p,q,r,m){var n=q[0].start;var l=q[q.length-1].end;var o=this.groups[p.groupIndex];if(!r){var t=this._normalizeVerticalSelection(p,q,m);if(t){n=l=t}}var s=m?"upSlot":"downSlot";n=o[s](n,r);l=o[s](l,r);if(!r&&this._isVerticallyGrouped()&&(!n||!l)){n=l=this._changeGroup(p,m)}return{startSlot:n,endSlot:l}},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(o,n,l){var m;if(l){m=n[0].start}else{m=n[n.length-1].end}return m},_continuousSlot:function(){return null},constrainSelection:function(m){if(!this.inRange(m)){var l=this.groups[0].firstSlot();m.isAllDay=l.isDaySlot;m.start=l.startDate();m.end=l.endDate()}},move:function(r,u,p){var v=false;var q=this.groups[r.groupIndex];if(!q.timeSlotCollectionCount()){r.isAllDay=true}var s=q.ranges(r.start,r.end,r.isAllDay,false);var l,m,n,t;if(u===O.DOWN||u===O.UP){v=true;n=u===O.UP;this._updateDirection(r,s,p,n,true);t=this._verticalSlots(r,s,p,n);if(!t.startSlot&&!p&&this._changeViewPeriod(r,n,true)){return v}}else{if(u===O.LEFT||u===O.RIGHT){v=true;n=u===O.LEFT;this._updateDirection(r,s,p,n,false);t=this._horizontalSlots(r,s,p,n);if(!t.startSlot&&!p&&this._changeViewPeriod(r,n,false)){return v}}}if(v){l=t.startSlot;m=t.endSlot;if(p){var o=r.backward;if(o&&l){r.start=l.startDate()}else{if(!o&&m){r.end=m.endDate()}}}else{if(l&&m){r.isAllDay=l.isDaySlot;r.start=l.startDate();r.end=m.endDate()}}r.events=[]}return v},moveToEventInGroup:function(r,u,s,q){var t=r._continuousEvents||[];var m,o;var l=q?-1:1;var p=t.length;var n=q?p-1:0;while(n<p&&n>-1){o=t[n];if((!q&&o.start.startDate()>=u.startDate())||(q&&o.start.startDate()<=u.startDate())){if(s.length){o=t[n+l]}if(o&&W.inArray(o.uid,s)===-1){m=!!o;break}}n+=l}return o},moveToEvent:function(q,p){var l=q.groupIndex;var r=this.groups[l];var t=r.ranges(q.start,q.end,q.isAllDay,false)[0].start;var o=this.groups.length;var m=p?-1:1;var s=q.events;var n;while(l<o&&l>-1){n=this.moveToEventInGroup(r,t,s,p);l+=m;r=this.groups[l];if(!r||n){break}s=[];if(p){t=r.lastSlot()}else{t=r.firstSlot(true)}}if(n){q.events=[n.uid];q.start=n.start.startDate();q.end=n.end.endDate();q.isAllDay=n.start.isDaySlot;q.groupIndex=n.start.groupIndex}return !!n},current:function(l){if(l!==undefined){this._current=l;this._scrollTo(l,this.content[0])}else{return this._current}},select:function(l){this.clearSelection();if(!this._selectEvents(l)){this._selectSlots(l)}},_selectSlots:function(q){var u=q.isAllDay;var s=this.groups[q.groupIndex];if(!s.timeSlotCollectionCount()){u=true}this._selectedSlots=[];var r=s.ranges(q.start,q.end,u,false);var n;var p;for(var l=0;l<r.length;l++){var t=r[l];var m=t.collection;for(var o=t.start.index;o<=t.end.index;o++){p=m.at(o);n=p.element;n.setAttribute("aria-selected",true);K(n);this._selectedSlots.push({start:p.startDate(),end:p.endDate(),element:n})}}if(q.backward){n=r[0].start.element}this.current(n)},_selectEvents:function(p){var q=false;var o=p.events;var r=this.groups[p.groupIndex]._continuousEvents||[];var n,m=r.length;if(!o[0]||!r[0]){return q}var l=W();for(n=0;n<m;n++){if(W.inArray(r[n].uid,o)>-1){l=l.add(r[n].element)}}if(l[0]){l.addClass("k-state-selected").attr("aria-selected",true);this.current(l.last()[0]);q=true}return q},inRange:function(m){var n=this.startDate();var l=P.date.addDays(this.endDate(),1);var p=m.start;var o=m.end;return n<=p&&p<l&&n<o&&o<=l},_scrollbarOffset:function(m,l){if(!this._isRtl||(l&&!this._isVerticallyGrouped())||!P.support.browser.webkit){return m}return this._scrollbarWidth+m},_resourceValue:function(m,l){if(m.valuePrimitive){l=P.getter(m.dataValueField)(l)}return l},_resourceBySlot:function(q){var s=this.groupedResources;var m={};if(s.length){var p=q.groupIndex;for(var n=s.length-1;n>=0;n--){var l=s[n];var o=this._resourceValue(l,l.dataSource.at(p%l.dataSource.total()));if(l.multiple){o=[o]}var r=P.setter(l.field);r(m,o);p=Math.floor(p/l.dataSource.total())}}return m},_createResizeHint:function(m,n,o,l){return W(I).css({left:m,top:n,width:o,height:l})},_removeResizeHint:function(){this._resizeHint.remove();this._resizeHint=W()},_removeMoveHint:function(){this._moveHint.remove();this._moveHint=W()},_scrollTo:function(l,q){var s=l.offsetTop,p=l.offsetHeight,o=q.scrollTop,r=q.clientHeight,m=s+p,n=0;if(o>s){n=s}else{if(m>(o+r)){if(p<=r){n=(m-r)}else{n=s}}else{n=o}}q.scrollTop=n},_shouldInverseResourceColor:function(m){var l=new G(m.color).isDark();var o=this.element.css("color");var n=new G(o).isDark();return(l==n)},eventResources:function(w){var x=[],r=this.options;if(!r.resources){return x}for(var o=0;o<r.resources.length;o++){var q=r.resources[o];var t=q.field;var s=P.getter(t)(w);if(!s){continue}if(!q.multiple){s=[s]}var n=q.dataSource.view();for(var v=0;v<s.length;v++){var u=null;var p=s[v];if(!q.valuePrimitive){p=P.getter(q.dataValueField)(p)}for(var m=0;m<n.length;m++){if(n[m].get(q.dataValueField)==p){u=n[m];break}}if(u!=null){var l=P.getter(q.dataColorField)(u);x.push({text:P.getter(q.dataTextField)(u),value:p,color:l})}}}return x},createLayout:function(q){var n=-1;if(!q.rows){q.rows=[]}for(var r=0;r<q.rows.length;r++){if(q.rows[r].allDay){n=r;break}}var p=q.rows[n];if(n>=0){q.rows.splice(n,1)}var m=this.columnLevels=g(q,"columns");var l=this.rowLevels=g(q,"rows");this.table=W("<table "+c()+' class="k-scheduler-layout k-scheduler-'+this.name+'view"/>');var o=l[l.length-1].length;this.table.append(this._topSection(m,p,o));this.table.append(this._bottomSection(m,l,o));this.element.append(this.table);this._scroller()},refreshLayout:function(){var r=this,p=r.element.find(">.k-scheduler-toolbar"),l=r.element.innerHeight(),q=this._scrollbar,n=0,t=this._isRtl?"left":"right";for(var o=0;o<p.length;o++){l-=p.eq(o).outerHeight()}if(r.datesHeader){n=r.datesHeader.outerHeight()}if(r.timesHeader&&r.timesHeader.outerHeight()>n){n=r.timesHeader.outerHeight()}if(r.datesHeader&&r.timesHeader){var m=r.datesHeader.find("table:first tr");r.timesHeader.find("tr").height(function(x){W(this).height(m.eq(x).height())})}if(n){l-=n}if(r.footer){l-=r.footer.outerHeight()}var s=function(x){var z,y;if(x[0].style.height){return true}else{z=x.height()}x.height("auto");y=x.height();if(z!=y){x.height("");return true}x.height("");return false};var v=r.content[0],u=!P.support.kineticScrollNeeded?q:0;this._scrollbarWidth=0;if(s(r.element)){if(l>q*2){r.content.height(l)}else{r.content.height(q*2+1)}r.times.height(v.clientHeight);var w=r.times.find("table");if(w.length){w.height(r.content.find("table")[0].clientHeight)}}if(v.offsetWidth-v.clientWidth>0){r.table.addClass("k-scrollbar-v");r.datesHeader.css("padding-"+t,u-parseInt(r.datesHeader.children().css("border-"+t+"-width"),10));this._scrollbarWidth=u}else{r.datesHeader.css("padding-"+t,"")}if(v.offsetHeight-v.clientHeight>0||v.clientHeight>r.content.children(".k-scheduler-table").height()){r.table.addClass("k-scrollbar-h")}else{r.table.removeClass("k-scrollbar-h")}},_topSection:function(l,o,m){this.timesHeader=Q(l.length,o,m);var n=l[l.length-1].length;this.datesHeader=H(l,n,o);return W("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(m,l,n){this.times=b(l,n);this.content=L(m[m.length-1],l[l.length-1]);return W("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var m=this;this.content.bind("scroll"+j,function(){m.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft);m.times.scrollTop(this.scrollTop)});var l=P.touchScroller(this.content,{avoidScrolling:function(n){return W(n.event.target).closest(".k-event.k-event-active").length>0}});if(l&&l.movable){this._touchScroller=l;this.content=l.scrollElement;l.movable.bind("change",function(n){m.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-n.sender.x);m.times.scrollTop(-n.sender.y)})}},_resourcesForGroups:function(){var n=[];var m=this.options.group;var o=this.options.resources;m=m&&m.resources?m.resources:[];if(o&&m.length){for(var q=0,l=o.length;q<l;q++){for(var r=0,p=m.length;r<p;r++){if(o[q].name===m[r]){n.push(o[q])}}}}this.groupedResources=n},_createColumnsLayout:function(l,m){return h("columns",l,m)},_groupOrientation:function(){var l=this.options.group;return l&&l.resources?l.orientation:"horizontal"},_isVerticallyGrouped:function(){return this.groupedResources.length&&this._groupOrientation()==="vertical"},_createRowsLayout:function(l,m){return h("rows",l,m)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},destroy:function(){var l=this;M.fn.destroy.call(this);if(l.table){P.destroy(l.table);l.table.remove()}},calendarInfo:function(){return P.getCulture().calendars.standard},prevGroupSlot:function(q,p,o){var n;var l=this.groups[p];var m=l.ranges(q,q,o,false)[0].start;if(p<=0){return}if(this._isVerticallyGrouped()){if(!l.timeSlotCollectionCount()){n=l._collection(l.daySlotCollectionCount()-1,true);return n.at(m.index)}else{n=l._collection(o?m.index:m.collectionIndex,false);return n.last()}}else{if(!l.timeSlotCollectionCount()){n=l._collection(m.collectionIndex,true);return n.last()}else{n=l._collection(o?0:l.timeSlotCollectionCount()-1,o);return o?n.last():n.at(m.index)}}},nextGroupSlot:function(q,p,o){var n;var l=this.groups[p];var m=l.ranges(q,q,o,false)[0].start;if(p>=this.groups.length-1){return}if(this._isVerticallyGrouped()){if(!l.timeSlotCollectionCount()){n=l._collection(0,true);return n.at(m.index)}else{n=l._collection(0,l.daySlotCollectionCount());return o?n.last():n.at(m.collectionIndex)}}else{if(!l.timeSlotCollectionCount()){n=l._collection(m.collectionIndex,true);return n.first()}else{n=l._collection(0,o);return o?n.first():n.at(m.index)}}}});function N(l,m,o){var p,n,r,s,q;for(p=l.length-1;p>=0;p--){n=D(l[p]);r=n.start;q=n.end;s=r<=m&&q>=m;if(s||(r>=m&&q<=o)||(m<=r&&o>=r)){if(r<m){m=r}if(q>o){o=q}}}return k(l,m,o)}function D(l){return{start:l.start,end:l.end}}function k(m,p,n){var o=[];for(var q=0;q<m.length;q++){var l=D(m[q]);if((l.start<p&&l.end>p)||(l.start>=p&&l.end<=n)){o.push(m[q])}}return o}function e(l){return Y(l)}function i(l){return Y(l)}var G=function(o){var m=this,r=G.formats,l,n,q,p,s;if(arguments.length===1){o=m.resolveColor(o);for(p=0;p<r.length;p++){l=r[p].re;n=r[p].process;q=l.exec(o);if(q){s=n(q);m.r=s[0];m.g=s[1];m.b=s[2]}}}else{m.r=arguments[0];m.g=arguments[1];m.b=arguments[2]}m.r=m.normalizeByte(m.r);m.g=m.normalizeByte(m.g);m.b=m.normalizeByte(m.b)};G.prototype={resolveColor:function(l){l=l||"#000";if(l.charAt(0)=="#"){l=l.substr(1,6)}l=l.replace(/ /g,"");l=l.toLowerCase();l=G.namedColors[l]||l;return l},normalizeByte:function(l){return(l<0||isNaN(l))?0:((l>255)?255:l)},percBrightness:function(){var l=this;return X.sqrt(0.241*l.r*l.r+0.691*l.g*l.g+0.068*l.b*l.b)},isDark:function(){var m=this;var l=m.percBrightness();return l<180}};G.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(l){return[parseInt(l[1],10),parseInt(l[2],10),parseInt(l[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}];G.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};function Y(p){var n=[];for(var o=0;o<p.length;o++){var t=p[o];var l=D(t);var m=null;for(var q=0,s=n.length;q<s;q++){var r=l.start>n[q].end;if(l.start<n[q].start||r){m=n[q];if(m.end<l.end){m.end=l.end}break}}if(!m){m={start:l.start,end:l.end,events:[]};n.push(m)}m.events.push(t)}return n}function h(m,s,l){var o=s[0];if(o){var r=[];var n=o.dataSource.view();for(var p=0;p<n.length;p++){var q={text:P.getter(o.dataTextField)(n[p]),className:"k-slot-cell"};q[m]=h(m,s.slice(1),l);r.push(q)}return r}return l}function Z(l){return function(m){if(W.isArray(m)||m instanceof P.data.ObservableArray){for(var n=0;n<m.length;n++){if(m[n]==l){return true}}return false}return m==l}}var A=/\s*k-state-selected/;function K(l){l.className=l.className.replace(A,"")+" k-state-selected"}W.extend(a.SchedulerView,{createColumns:e,createRows:i,rangeIndex:D,collidingEvents:N,groupEqFilter:Z})})(window.kendo.jQuery);kendo_module({id:"scheduler.dayview",name:"Scheduler Day View",category:"web",description:"The Scheduler Day View",depends:["scheduler.view"],hidden:true});(function(V,W){var S=window.kendo,B=S.ui,G=S.date.setTime,A=B.SchedulerView,I=V.extend,X=V.proxy,L=S.date.getDate,F=S.date.MS_PER_MINUTE,R=S.date.MS_PER_DAY,H=S.date.getMilliseconds,M=".kendoMultiDayView";var N=S.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),D=S.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),U=S.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),K='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',C='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>';function E(Z){var Y=new Date(1980,1,1,0,0,0);G(Y,H(Z));return Y}function T(b,Y,d){var c=Y.getTime(),a=d.getTime(),Z;Z=b.getTime();return Z>=c&&Z<=a}function J(a,Y,b,Z){Z=Z?a<=b:a<b;return a>Y&&Z}function Q(c,e,Y,f){var d=c._continuousEvents;var b=d[d.length-1];var a=L(e.start.startDate()).getTime();if(f&&b&&L(b.start.startDate()).getTime()==a){var Z=d.length-1;for(;Z>-1;Z--){if(d[Z].isAllDay||L(d[Z].start.startDate()).getTime()<a){break}}d.splice(Z+1,0,{element:Y,isAllDay:true,uid:Y.attr(S.attr("uid")),start:e.start,end:e.end})}else{d.push({element:Y,isAllDay:f,uid:Y.attr(S.attr("uid")),start:e.start,end:e.end})}}function O(Y){var a=[];var Z=Y.workWeekStart;a.push(Z);while(Y.workWeekEnd!=Z){if(Z>6){Z-=7}else{Z++}a.push(Z)}return a}var P=A.extend({init:function(a,Z){var Y=this;A.fn.init.call(Y,a,Z);Y.title=Y.options.title||Y.options.name;Y._workDays=O(Y.options);Y._templates();Y._editable();Y.calculateDateRange();Y._groups()},_updateResizeHint:function(g,Y,b,i){var m=g.isMultiDay();var f=this.groups[Y];var l=f.ranges(b,i,m,g.isAllDay);this._removeResizeHint();for(var d=0;d<l.length;d++){var Z=l[d];var o=Z.startSlot();var e=o.offsetWidth;var n=o.clientHeight;var h=o.offsetTop;if(m){e=Z.innerWidth()}else{var c=Z.outerRect(b,i,this.options.snap);h=c.top;n=c.bottom-c.top}var j=A.fn._createResizeHint.call(this,this._scrollbarOffset(o.offsetLeft,m),h,e,n);this._resizeHint=this._resizeHint.add(j)}var a="t";var k=this.content;if(m){a="M/dd";k=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!k.length){k=this.content}}this._resizeHint.appendTo(k);this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(S.toString(S.timezone.toLocalDate(b),a));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(S.toString(S.timezone.toLocalDate(i),a))},_updateMoveHint:function(f,Y,g){var l=f.isMultiDay();var h=this.groups[Y];var a=S.date.toUtcTime(f.start)+g;var d=a+f.duration();var i=h.ranges(a,d,l,f.isAllDay);a=S.timezone.toLocalDate(a);d=S.timezone.toLocalDate(d);this._removeMoveHint();if(!l&&(H(d)===0||H(d)<H(this.startTime()))){if(i.length>1){i.pop()}}for(var Z=0;Z<i.length;Z++){var k=i[Z];var m=k.start;var c=this._createEventElement(f.clone({start:a,startTime:a,end:d,endTime:d}),!l);c.addClass("k-event-drag-hint");var e={left:m.offsetLeft+2,top:m.offsetTop};if(this._isRtl){e.left=m.clientWidth*0.1+this._scrollbarOffset(m.offsetLeft)+2}if(l){e.width=k.innerWidth()-4}else{var b=k.outerRect(a,d,this.options.snap);e.top=b.top;e.height=b.bottom-b.top;e.width=m.clientWidth*0.9-4}c.css(e);this._moveHint=this._moveHint.add(c)}var j=this.content;if(l){j=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div");if(!j.length){j=this.content}}this._moveHint.appendTo(j)},_slotByPosition:function(b,c){var Z;var Y;if(this._isVerticallyGrouped()){Y=this.content.offset();c+=this.content[0].scrollTop;b+=this.content[0].scrollLeft}else{Y=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset()}if(Y){b-=Y.left;c-=Y.top}b=Math.ceil(b);c=Math.ceil(c);var d;var a;for(a=0;a<this.groups.length;a++){d=this.groups[a];Z=d.daySlotByPosition(b,c);if(Z){return Z}}if(Y){b+=Y.left;c+=Y.top}Y=this.content.offset();b-=Y.left;c-=Y.top;if(!this._isVerticallyGrouped()){c+=this.content[0].scrollTop;b+=this.content[0].scrollLeft}b=Math.ceil(b);c=Math.ceil(c);for(a=0;a<this.groups.length;a++){d=this.groups[a];Z=d.timeSlotByPosition(b,c);if(Z){return Z}}return null},_groupCount:function(){var Y=this.groupedResources;if(Y.length){if(this._groupOrientation()==="vertical"){return this._rowCountForLevel(Y.length-1)}else{return this._columnCountForLevel(Y.length)/this._columnOffsetForResource(Y.length)}}return 1},_columnCountInResourceView:function(){var Y=this.groupedResources;if(!Y.length||this._isVerticallyGrouped()){return this._columnCountForLevel(0)}return this._columnOffsetForResource(Y.length)},_timeSlotGroups:function(m,j){var g=this._timeSlotInterval();var e=this.content.find("tr:not(.k-scheduler-header-all-day)");e.attr("role","row");var p=e.length;if(this._isVerticallyGrouped()){p=Math.floor(p/m)}for(var f=0;f<m;f++){var o=0;if(this._isVerticallyGrouped()){o=f}var Y=o*p;var c;var b=0;if(!this._isVerticallyGrouped()){b=f}while(Y<(o+1)*p){var l=e[Y].children;var k=this.groups[f];if(Y%p===0){c=H(new Date(+this.startTime()))}for(var a=b*j;a<(b+1)*j;a++){var h=l[a];var i=a%j;var n=k.getTimeSlotCollection(i);var Z=this._dates[i];var r=Date.UTC(Z.getFullYear(),Z.getMonth(),Z.getDate());var q=r+c;var d=q+g;h.setAttribute("role","gridcell");h.setAttribute("aria-selected",false);n.addTimeSlot(h,q,d)}c+=g;Y++}}},_daySlotGroups:function(b,d){var j;if(this._isVerticallyGrouped()){j=this.element.find(".k-scheduler-header-all-day")}else{j=this.element.find(".k-scheduler-header-all-day tr")}j.attr("role","row");for(var Y=0;Y<b;Y++){var k=0;if(this._isVerticallyGrouped()){k=Y}var g=this.groups[Y];var c=g.getDaySlotCollection(0);var l=j[k].children;var f=0;if(!this._isVerticallyGrouped()){f=Y}var h=0;for(var a=f*d;a<(f+1)*d;a++){var e=l[a];if(a%d===0){h=0}var Z=S.date.addDays(this.startDate(),h);var i=Date.UTC(Z.getFullYear(),Z.getMonth(),Z.getDate());h++;e.setAttribute("role","gridcell");e.setAttribute("aria-selected",false);c.addDaySlot(e,i,i+S.date.MS_PER_DAY)}}},_groups:function(){var a=this._groupCount();var Y=this._columnCountInResourceView();this.groups=[];for(var b=0;b<a;b++){var Z=this._addResourceView(b);for(var c=0;c<Y;c++){Z.addTimeSlotCollection(this._dates[c],S.date.addDays(this._dates[c],1))}Z.addDaySlotCollection(this._dates[0],this._dates[this._dates.length-1])}this._timeSlotGroups(a,Y);if(this.options.allDaySlot){this._daySlotGroups(a,Y)}},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",allDaySlot:true,showWorkHours:false,title:"",startTime:S.date.today(),endTime:S.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&nbsp;",slotTemplate:"&nbsp;",allDaySlotTemplate:"&nbsp;",eventTemplate:N,allDayEventTemplate:D,dateHeaderTemplate:U,editable:true,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var Y=this.options,Z=I({},S.Template,Y.templateSettings);this.eventTemplate=this._eventTmpl(Y.eventTemplate,C);this.allDayEventTemplate=this._eventTmpl(Y.allDayEventTemplate,K);this.majorTimeHeaderTemplate=S.template(Y.majorTimeHeaderTemplate,Z);this.minorTimeHeaderTemplate=S.template(Y.minorTimeHeaderTemplate,Z);this.dateHeaderTemplate=S.template(Y.dateHeaderTemplate,Z);this.slotTemplate=S.template(Y.slotTemplate,Z);this.allDaySlotTemplate=S.template(Y.allDaySlotTemplate,Z)},_editable:function(){if(this.options.editable){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var Y=this;Y.element.on("click"+M,".k-event a:has(.k-si-close)",function(Z){Y.trigger("remove",{uid:V(this).closest(".k-event").attr(S.attr("uid"))});Z.preventDefault()});if(Y.options.editable.create!==false){Y.element.on("dblclick"+M,".k-scheduler-content td",function(Z){if(!V(this).parent().hasClass("k-scheduler-header-all-day")){var a=Y._slotByPosition(Z.pageX,Z.pageY);if(a){var b=Y._resourceBySlot(a);Y.trigger("add",{eventInfo:I({start:a.startDate(),end:a.endDate()},b)})}Z.preventDefault()}}).on("dblclick"+M,".k-scheduler-header-all-day td",function(Z){var a=Y._slotByPosition(Z.pageX,Z.pageY);if(a){var b=Y._resourceBySlot(a);Y.trigger("add",{eventInfo:I({},{isAllDay:true,start:S.date.getDate(a.startDate()),end:S.date.getDate(a.startDate())},b)})}Z.preventDefault()})}if(Y.options.editable.update!==false){Y.element.on("dblclick"+M,".k-event",function(Z){Y.trigger("edit",{uid:V(this).closest(".k-event").attr(S.attr("uid"))});Z.preventDefault()})}},_touchEditable:function(){var Y=this;if(Y.options.editable.create!==false){Y._addUserEvents=new S.UserEvents(Y.element,{filter:".k-scheduler-content td",tap:function(Z){if(!V(Z.target).parent().hasClass("k-scheduler-header-all-day")){var a=Y._slotByPosition(Z.x.location,Z.y.location);if(a){var b=Y._resourceBySlot(a);Y.trigger("add",{eventInfo:I({start:a.startDate(),end:a.endDate()},b)})}Z.preventDefault()}}});Y._allDayUserEvents=new S.UserEvents(Y.element,{filter:".k-scheduler-header-all-day td",tap:function(Z){var a=Y._slotByPosition(Z.x.location,Z.y.location);if(a){var b=Y._resourceBySlot(a);Y.trigger("add",{eventInfo:I({},{isAllDay:true,start:S.date.getDate(a.startDate()),end:S.date.getDate(a.startDate())},b)})}Z.preventDefault()}})}if(Y.options.editable.update!==false){Y._editUserEvents=new S.UserEvents(Y.element,{filter:".k-event",tap:function(a){var Z=V(a.target).closest(".k-event");if(!Z.hasClass("k-event-active")){Y.trigger("edit",{uid:Z.attr(S.attr("uid"))})}a.preventDefault()}})}},_layout:function(e){var a=[];var Y=[];var d=this.options;var c=this;for(var b=0;b<e.length;b++){var Z={};Z.text=c.dateHeaderTemplate({date:e[b]});if(S.date.isToday(e[b])){Z.className="k-today"}a.push(Z)}var f=this.groupedResources;if(d.allDaySlot){Y.push({text:d.messages.allDay,allDay:true,cellContent:function(g){g=f.length&&c._groupOrientation()!=="vertical"?g%e.length:g;return c.allDaySlotTemplate({date:e[g]})}})}this._forTimeRange(this.startTime(),this.endTime(),function(k,i,g,j){var l=i?c.majorTimeHeaderTemplate:c.minorTimeHeaderTemplate;var h={text:l({date:k}),className:j?"k-slot-cell":""};Y.push(h)});if(f.length){if(this._groupOrientation()==="vertical"){Y=this._createRowsLayout(f,Y)}else{a=this._createColumnsLayout(f,a)}}return{columns:a,rows:Y}},_footer:function(){var a=this.options;if(a.footer!==false){var Y='<div class="k-header k-scheduler-footer">';var b=a.footer.command;if(b&&b==="workDay"){Y+='<ul class="k-reset k-header k-toolbar">';Y+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>';Y+=(a.showWorkHours?a.messages.showFullDay:a.messages.showWorkDay)+"</a></li>";Y+="</ul>"}else{Y+="&nbsp;"}Y+="</div>";this.footer=V(Y).appendTo(this.element);var Z=this;this.footer.on("click"+M,".k-scheduler-fullday",function(c){c.preventDefault();Z.trigger("navigate",{view:Z.name||a.name,date:Z.startDate(),isWorkDay:!a.showWorkHours})})}},_forTimeRange:function(h,n,m,i){h=E(h);n=E(n);var b=this,l=H(h),q=H(n),Z=b.options.minorTickCount,o=b.options.majorTick*F,k=o/Z||1,r=new Date(+h),d=r.getDate(),c,p=0,Y,j="";Y=R/k;if(l!=q){if(l>q){q+=R}Y=((q-l)/k)}Y=Math.round(Y);for(;p<Y;p++){var e=p%(o/k),a=e===0,f=e<Z-1,g=e===Z-1;j+=m(r,a,f,g);G(r,k,false)}if(q){c=H(r);if(d<r.getDate()){c+=R}if(c>q){r=new Date(+n)}}if(i){j+=i(r)}return j},_content:function(f){var h=this;var g=h.options;var a=h.startTime();var c=this.endTime();var b=1;var n=1;var d=f.length;var l="";var m=this.groupedResources;var j="";var i=this.slotTemplate;if(m.length){if(h._groupOrientation()==="vertical"){n=this._rowCountForLevel(this.rowLevels.length-2);if(g.allDaySlot){j='<tr class="k-scheduler-header-all-day">';for(var Z=0,e=f.length;Z<e;Z++){j+="<td>"+this.allDaySlotTemplate({date:f[Z]})+"</td>"}j+="</tr>"}}else{b=this._columnCountForLevel(this.columnLevels.length-2)}}l+="<tbody>";var Y=function(v,o){var u="";var q;var r;var p="";var t;u="<tr"+(o?' class="k-middle-row"':"")+">";for(var s=0;s<b;s++){for(q=0,r=d;q<r;q++){p="";if(S.date.isToday(f[q])){p+="k-today"}if(S.date.getMilliseconds(v)<S.date.getMilliseconds(h.options.workDayStart)||S.date.getMilliseconds(v)>=S.date.getMilliseconds(h.options.workDayEnd)||!h._isWorkDay(f[q])){p+=" k-nonwork-hour"}u+="<td"+(p!==""?' class="'+p+'"':"")+">";t=S.date.getDate(f[q]);S.date.setTime(t,S.date.getMilliseconds(v));u+=i({date:t});u+="</td>"}}u+="</tr>";return u};for(var k=0;k<n;k++){l+=j;l+=this._forTimeRange(a,c,Y)}l+="</tbody>";this.content.find("table").append(l)},_isWorkDay:function(a){var Z=a.getDay();var b=this._workDays;for(var Y=0;Y<b.length;Y++){if(b[Y]===Z){return true}}return false},_render:function(Z){var Y=this;Z=Z||[];this._dates=Z;this._startDate=Z[0];this._endDate=Z[(Z.length-1)||0];this.createLayout(this._layout(Z));this._content(Z);this._footer();this.refreshLayout();var a=this.element.find(".k-scheduler-header-all-day td");if(a.length){this._allDayHeaderHeight=a.first()[0].clientHeight}Y.datesHeader.on("click"+M,".k-nav-day",function(c){var d=V(c.currentTarget).closest("th");var b=d.offset();var f=Y._slotByPosition(b.left,b.top+d.outerHeight());Y.trigger("navigate",{view:"day",date:f.startDate()})})},startTime:function(){var Y=this.options;return Y.showWorkHours?Y.workDayStart:Y.startTime},endTime:function(){var Y=this.options;return Y.showWorkHours?Y.workDayEnd:Y.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(Y){var Z=H(this.endTime())||R;if(Y){Z=0}return new Date(this._endDate.getTime()+Z)},nextDate:function(){return S.date.nextDay(this.endDate())},previousDate:function(){return S.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){var Y=this;if(Y.datesHeader){Y.datesHeader.off(M)}if(Y.element){Y.element.off(M)}A.fn.destroy.call(this);if(Y.footer){Y.footer.remove()}if(this._isMobile()){if(Y.options.editable.create!==false){Y._addUserEvents.destroy();Y._allDayUserEvents.destroy()}if(Y.options.editable.update!==false){Y._editUserEvents.destroy()}}},selectionByElement:function(Z){var Y=Z.offset();return this._slotByPosition(Y.left,Y.top)},_timeSlotInterval:function(){var Y=this.options;return(Y.majorTick/Y.minorTickCount)*F},_timeSlotIndex:function(c){var a=this.options;var Y=H(c);var b=H(this.startTime());var Z=((a.majorTick/a.minorTickCount)*F);return(Y-b)/(Z)},_slotIndex:function(Z,Y){if(Y){return this._dateSlotIndex(Z)}return this._timeSlotIndex(Z)},_dateSlotIndex:function(Z,f){var a;var e;var c=this._dates||[];var b;var d;var Y=1;for(a=0,e=c.length;a<e;a++){b=S.date.getDate(c[a]);d=new Date(S.date.getDate(c[a]).getTime()+R-(f?0:1));if(T(Z,b,d)){return a*Y}}return -1},_positionAllDayEvent:function(k,f){var q=f.innerWidth();var a=f.start.index;var e=f.end.index;var i=A.collidingEvents(f.events(),a,e);var c=this._headerColumnCount||0;var b=2;var g=a!==e?5:4;var m=this._allDayHeaderHeight;var p=f.startSlot();k.css({left:this._scrollbarOffset(p.offsetLeft+b,true),width:q-g});f.addEvent({slotIndex:a,start:a,end:e,element:k});i.push({slotIndex:a,start:a,end:e,element:k});var n=A.createRows(i);if(n.length&&n.length>c){this._updateAllDayHeaderHeight(m*n.length+m);this._headerColumnCount=n.length}var l=f.start.offsetTop;for(var o=0,Y=n.length;o<Y;o++){var d=n[o].events;for(var Z=0,h=d.length;Z<h;Z++){V(d[Z].element).css({top:l+o*m})}}},_arrangeColumns:function(a,g,b,Y){var f=Y.start;a={element:a,slotIndex:f.index,start:g,end:g+b};var e,o=f.clientWidth,Z=o*0.1,m,h=Y.events(),l=A.collidingEvents(h,a.start,a.end);Y.addEvent(a);l.push(a);e=A.createColumns(l);var d=(o-Z)/e.length;for(var c=0,n=e.length;c<n;c++){m=e[c].events;for(var i=0,k=m.length;i<k;i++){m[i].element[0].style.width=d-4+"px";m[i].element[0].style.left=(this._isRtl?this._scrollbarOffset(Z):0)+f.offsetLeft+c*d+2+"px"}}},_positionEvent:function(b,d,Z){var e=b.start;var c=b.end;if(b.startTime){e=S.date.getMilliseconds(b.startTime)+S.date.toUtcTime(S.date.getDate(b.start))}if(b.endTime){c=S.date.getMilliseconds(b.endTime)+S.date.toUtcTime(S.date.getDate(b.end))}var a=Z.innerRect(e,c,false);var Y=a.bottom-a.top-2;if(Y<0){Y=0}d.css({top:a.top,height:Y});this._arrangeColumns(d,a.top,d[0].clientHeight,Z)},_eventTmpl:function(Z,e){var c=this.options,g=I({},S.Template,c.templateSettings),Y=g.paramName,b="",d=typeof Z,f={storage:{},count:0};if(d==="function"){f.storage["tmpl"+f.count]=Z;b+="#=this.tmpl"+f.count+"("+Y+")#";f.count++}else{if(d==="string"){b+=Z}}var a=S.template(S.format(e,b),g);if(f.count>0){a=X(a,f.storage)}return a},_createEventElement:function(k,n,d,Y){var q=n?this.eventTemplate:this.allDayEventTemplate;var f=this.options;var o=f.editable;var l=this._isMobile();var j=o&&o.destroy!==false&&!l;var e=o&&o.resize!==false;var p=L(this.startDate());var Z=L(this.endDate());var m=H(this.startTime());var a=H(this.endTime());var b=H(k.startTime||k.start);var g=H(k.endTime||k.end);var i;if(m>=a){a=H(new Date(this.endTime().getTime()+R-1))}if(!n&&!k.isAllDay){Z=new Date(Z.getTime()+R)}var c=k.end;if(k.isAllDay){c=L(k.end)}if((!T(L(k.start),p,Z)&&!T(c,p,Z))||(n&&b<m&&g>a)){i=true}else{if(L(k.start)<p||(n&&b<m)){Y=true}else{if((c>Z&&!n)||(n&&g>a)){d=true}}}var h=this.eventResources(k);return V(q(I({},{ns:S.ns,resizable:e,showDelete:j,middle:i,head:d,tail:Y,singleDay:this._dates.length==1,resources:h,inverseColor:h&&h[0]?this._shouldInverseResourceColor(h[0]):false},k,{start:k.startTime||k.start,end:k.endTime||k.end})))},_isInTimeSlot:function(a){var Y=this.startTime(),b=this.endTime(),Z=a.startTime||a.start,c=a.endTime||a.end;if(H(b)===H(S.date.getDate(b))){b=S.date.getDate(b);G(b,R-1)}if(S.date.getDate(c)>S.date.getDate(Z)){c=S.date.getDate(c);G(c,R-1)}c=H(c);Z=H(Z);b=H(b);Y=H(Y);if(Y===Z&&Z===c){return true}var d=Z!==b;return J(Z,Y,b,d)||J(c,Y,b,d)||J(Y,Z,c)||J(b,Z,c)},_isInDateSlot:function(a){var Z=this.startDate();var Y=new Date(this.endDate().getTime()+R-1);return(T(a.start,Z,Y)||T(a.end,Z,Y)||T(Z,a.start,a.end)||T(Y,a.start,a.end))&&(!T(a.end,Z,Z)||T(a.end,a.start,a.start)||a.isAllDay)},_updateAllDayHeaderHeight:function(Y){var a=this.element.find(".k-scheduler-header-all-day td");if(a.length){a.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(Y);for(var Z=0;Z<this.groups.length;Z++){this.groups[Z].refresh()}}},_renderEvents:function(g,k){var c=this.datesHeader.find(".k-scheduler-header-wrap > div");var i;var o;var Y;for(o=0,Y=g.length;o<Y;o++){i=g[o];if(this._isInDateSlot(i)){var b=i.isAllDay||i.end.getTime()-i.start.getTime()>=R;var m=b&&!this._isVerticallyGrouped()?c:this.content;var l;var n;var h;if(!b){if(this._isInTimeSlot(i)){h=this.groups[k];if(!h._continuousEvents){h._continuousEvents=[]}n=h.slotRanges(i);var j=n.length;for(var f=0;f<j;f++){var a=n[f];var p=i.start;var e=i.end;if(j>1){if(f===0){e=a.end.endDate()}else{if(f==j-1){p=a.start.startDate()}else{p=a.start.startDate();e=a.end.endDate()}}}var Z=i.clone({start:p,end:e,startTime:i.startTime,endTime:i.endTime});if(this._isInTimeSlot(Z)){var d=a.head;l=this._createEventElement(i,!b,d,a.tail);l.appendTo(m);this._positionEvent(Z,l,a);Q(h,a,l,false)}}}}else{if(this.options.allDaySlot){h=this.groups[k];if(!h._continuousEvents){h._continuousEvents=[]}n=h.slotRanges(i);l=this._createEventElement(i,!b);this._positionAllDayEvent(l,n[0]);Q(h,n[0],l,true);l.appendTo(m)}}}}},render:function(Z){this._headerColumnCount=0;this._groups();this.element.find(".k-event").remove();this._updateAllDayHeaderHeight(this._allDayHeaderHeight);Z=new S.data.Query(Z).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var Y=this.groupedResources;if(Y.length){this._renderGroups(Z,Y,0)}else{this._renderEvents(Z,0,0)}this.refreshLayout();this.trigger("activate")},_renderGroups:function(d,f,Z){var a=f[0];if(a){var Y=a.dataSource.view();for(var e=0;e<Y.length;e++){var b=this._resourceValue(a,Y[e]);var c=new S.data.Query(d).filter({field:a.field,operator:A.groupEqFilter(b)}).toArray();if(f.length>1){Z=this._renderGroups(c,f.slice(1),Z++)}else{this._renderEvents(c,Z++)}}}return Z},_columnOffsetForResource:function(Y){return this._columnCountForLevel(Y)/this._columnCountForLevel(Y-1)},_columnCountForLevel:function(Z){var Y=this.columnLevels[Z];return Y?Y.length:0},_rowCountForLevel:function(Y){var Z=this.rowLevels[Y];return Z?Z.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",false).removeClass("k-state-selected")},_updateDirection:function(c,d,e,Z,Y){var f=c.isAllDay;var b=d[0].start;var a=d[d.length-1].end;if(e){if(Y){if(!f&&b.index===a.index&&b.collectionIndex===a.collectionIndex){c.backward=Z}}else{if((f&&b.index===a.index)||(!f&&b.collectionIndex===a.collectionIndex)){c.backward=Z}}}},_changeViewPeriod:function(c,Y,Z){if(!Z){var d=Y?this.previousDate():this.nextDate();var e=c.start;var b=c.end;c.start=new Date(d);c.end=new Date(d);var a=c.isAllDay?R:H(b);G(c.start,H(e));G(c.end,a);if(!this._isVerticallyGrouped()){c.groupIndex=Y?this.groups.length-1:0}c.events=[];return true}}});I(true,B,{MultiDayView:P,DayView:P.extend({options:{title:"Day"},name:"day"}),WeekView:P.extend({options:{title:"Week",selectedDateFormat:"{0:D} - {1:D}"},name:"week",calculateDateRange:function(){var b=this.options.date,c=S.date.dayOfWeek(b,this.calendarInfo().firstDay,-1),a,Y,Z=[];for(a=0,Y=7;a<Y;a++){Z.push(c);c=S.date.nextDay(c)}this._render(Z)}}),WorkWeekView:P.extend({options:{title:"Work Week",selectedDateFormat:"{0:D} - {1:D}"},nextDate:function(){return S.date.dayOfWeek(S.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return S.date.previousDay(this.startDate())},calculateDateRange:function(){var a=this.options.date,b=S.date.dayOfWeek(a,this.options.workWeekStart,-1),Z=S.date.dayOfWeek(b,this.options.workWeekEnd,1),Y=[];while(b<=Z){Y.push(b);b=S.date.nextDay(b)}this._render(Y)}})})})(window.kendo.jQuery);kendo_module({id:"scheduler.agendaview",name:"Scheduler Agenda View",category:"web",description:"The Scheduler Agenda View",depends:["scheduler.view"],hidden:true});(function(F){var B=window.kendo,H=B.ui,D=".kendoAgendaView";H.AgendaView=H.SchedulerView.extend({init:function(J,I){H.SchedulerView.fn.init.call(this,J,I);I=this.options;if(I.editable){I.editable=F.extend({"delete":true},I.editable,{create:false,update:false})}this.title=I.title;this.name="agenda";this._eventTemplate=B.template(I.eventTemplate);this._dateTemplate=B.template(I.eventDateTemplate);this._groupTemplate=B.template(I.eventGroupTemplate);this._timeTemplate=B.template(I.eventTimeTemplate);this.element.on("mouseenter"+D,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+D,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+D,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)","_remove");this._renderLayout(I.date)},_mouseenter:function(I){F(I.currentTarget).addClass("k-state-hover")},_mouseleave:function(I){F(I.currentTarget).removeClass("k-state-hover")},_remove:function(I){I.preventDefault();this.trigger("remove",{uid:F(I.currentTarget).closest(".k-task").attr(B.attr("uid"))})},nextDate:function(){return B.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return B.date.previousDay(this.startDate())},_renderLayout:function(I){this._startDate=I;this._endDate=B.date.addDays(I,7);this.createLayout(this._layout());this.table.addClass("k-scheduler-agenda")},_layout:function(){var L=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];if(!this._isMobilePhoneView()){L.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"})}var I=this.groupedResources;if(I.length){var K=[];for(var J=0;J<I.length;J++){K.push({text:"",className:"k-scheduler-groupcolumn"})}L=K.concat(L)}return{columns:L}},_tasks:function(Q){var O=[];for(var J=0;J<Q.length;J++){var M=Q[J];var I=M.start;var K=M.end;if(M.isAllDay){K=B.date.nextDay(K)}var P=Math.ceil((K-I)/B.date.MS_PER_DAY);if(!M.isAllDay&&P===1&&B.date.getDate(K).getTime()!==B.date.getDate(I).getTime()){P+=1}var L=M.clone();L.startDate=B.date.getDate(I);if(L.startDate>=this.startDate()){O.push(L)}if(P>1){L.end=B.date.nextDay(I);L.head=true;for(var N=1;N<P;N++){I=L.end;L=M.clone();L.start=I;L.startDate=B.date.getDate(I);L.end=B.date.nextDay(I);if(N==P-1){L.end=new Date(L.start.getFullYear(),L.start.getMonth(),L.start.getDate(),K.getHours(),K.getMinutes(),K.getSeconds(),K.getMilliseconds());L.tail=true}else{L.isAllDay=true;L.middle=true}if(L.end<=this.endDate()&&L.start>=this.startDate()){O.push(L)}}}}return new B.data.Query(O).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(N,S){var J=[];var M=this.options.editable;var T=M&&M.destroy!==false&&!this._isMobile();var W=this._isMobilePhoneView();for(var U=0;U<N.length;U++){var O=N[U].value;var R=N[U].items;var P=B.date.isToday(O);for(var I=0;I<R.length;I++){var L=R[I];var K=[];var V=!W?K:[];if(U===0&&I===0&&S.length){for(var Q=0;Q<S.length;Q++){V.push(B.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',S[Q].rowSpan,this._groupTemplate({value:S[Q].text}),S[Q].className))}}if(I===0){if(W){V.push(B.format('<td class="k-scheduler-datecolumn" colspan="2">{0}</td>',this._dateTemplate({date:O})));J.push('<tr role="row" aria-selected="false"'+(P?' class="k-today">':">")+V.join("")+"</tr>")}else{K.push(B.format('<td class="k-scheduler-datecolumn{2}" rowspan="{0}">{1}</td>',R.length,this._dateTemplate({date:O}),U==N.length-1&&!S.length?" k-last":""))}}if(L.head){L.format="{0:t}"}else{if(L.tail){L.format="{1:t}"}else{L.format="{0:t}-{1:t}"}}L.resources=this.eventResources(L);K.push(B.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',L.tail||L.middle?'<span class="k-icon k-i-arrow-w"></span>':"",this._timeTemplate(L.clone({start:L.startTime||L.start,end:L.endTime||L.end})),L.head||L.middle?'<span class="k-icon k-i-arrow-e"></span>':"",this._eventTemplate(L.clone({showDelete:T}))));J.push('<tr role="row" aria-selected="false"'+(P?' class="k-today">':">")+K.join("")+"</tr>")}}return J.join("")},render:function(K){var L=this.content.find("table").empty();var I=[];if(K.length>0){var J=this.groupedResources;if(J.length){I=this._createGroupConfiguration(K,J,null);this._renderGroups(I,L,[])}else{I=this._tasks(K);L.append(this._renderTaskGroups(I,[]))}}this._eventsList=E(I);this.refreshLayout();this.trigger("activate")},_renderGroups:function(J,N,M){for(var K=0,I=J.length;K<I;K++){var L=M.splice(0);L.push(J[K]);if(J[K].groups){this._renderGroups(J[K].groups,N,L)}else{N.append(this._renderTaskGroups(J[K].items,L))}}},_createGroupConfiguration:function(S,U,T){var J=U[0];var R=[];var I=J.dataSource.view();var V=this._isMobilePhoneView();for(var P=0;P<I.length;P++){var L=A(J,I[P]);var K=new B.data.Query(S).filter({field:J.field,operator:H.SchedulerView.groupEqFilter(L)}).toArray();if(K.length){var M=this._tasks(K);var N=T?"":" k-first";if(P===I.length-1&&(!T||T.className.indexOf("k-last")>-1)){N+=" k-last"}var Q={text:B.getter(J.dataTextField)(I[P]),value:L,rowSpan:0,className:N};if(U.length>1){Q.groups=this._createGroupConfiguration(K,U.slice(1),Q);if(T){T.rowSpan+=Q.rowSpan}}else{Q.items=M;var O=C(Q.items);if(V){O+=Q.items.length}Q.rowSpan=O;if(T){T.rowSpan+=O}}R.push(Q)}}return R},selectionByElement:function(K){K=F(K);if(K.hasClass("k-scheduler-datecolumn")){return}var J=K.parent().index();var I=this._eventsList[J];return{index:J,start:I.start,end:I.end,isAllDay:I.isAllDay,uid:I.uid}},select:function(J){this.clearSelection();var I=this.table.find(".k-task").eq(J.index).closest("tr").addClass("k-state-selected")[0];if(I){this._scrollTo(I,this.content[0])}},move:function(M,J){var I=false;var L=M.index;if(J==B.keys.UP){L--;I=true}else{if(J==B.keys.DOWN){L++;I=true}}if(I){var K=this._eventsList[L];if(K){M.start=K.start;M.end=K.end;M.isAllDay=K.isAllDay;M.events=[K.uid];M.index=L}}return I},moveToEvent:function(){return false},constrainSelection:function(J){var I=this._eventsList[0];if(I){J.start=I.start;J.end=I.end;J.isAllDay=I.isAllDay;J.events=[I.uid];J.index=0}},isInRange:function(){return true},destroy:function(){if(this.element){this.element.off(D)}H.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:true,selectedDateFormat:"{0:D}-{1:D}",eventTemplate:'<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } ##:title##if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>',eventTimeTemplate:"#if(data.isAllDay) {#all day#} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">#=value#</strong>',messages:{event:"Event",date:"Date",time:"Time"}}});function C(J){var K=0;for(var L=0,I=J.length;L<I;L++){K+=J[L].items.length}return K}function A(J,I){if(J.valuePrimitive){I=B.getter(J.dataValueField)(I)}return I}function E(J){var M=0,I=J.length,L,K=[];for(;M<I;M++){L=J[M];if(L.groups){L=G(L.groups);K=K.concat(L)}else{K=K.concat(G(L.items))}}return K}function G(I){var L=[].concat(I),K=L.shift(),J=[],M=[].push;while(K){if(K.groups){M.apply(L,K.groups)}else{if(K.items){M.apply(L,K.items)}else{M.call(J,K)}}K=L.shift()}return J}})(window.kendo.jQuery);kendo_module({id:"scheduler.monthview",name:"Scheduler Month View",category:"web",description:"The Scheduler Month View",depends:["scheduler.view"],hidden:true});(function(O){var N=window.kendo,D=N.ui,A=D.SchedulerView,K=".kendoMonthView",G=O.extend,L=O.proxy,J=N.date.getDate,F=N.date.MS_PER_DAY,M=6,C=7,E=N.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),P='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',I=N.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>');var H=N.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');D.MonthView=A.extend({init:function(U,T){var S=this;A.fn.init.call(S,U,T);S.title=S.options.title;S.name="month";S._templates();S._editable();S._renderLayout(S.options.date);S._groups()},_updateDirection:function(Y,Z,a,U,S){if(a){var V=Z[0].start;var T=Z[Z.length-1].end;var b=V.index===T.index;var X=V.collectionIndex===T.collectionIndex;var W;if(S){W=(b&&X)||X}else{W=b&&X}if(W){Y.backward=U}}},_changeViewPeriod:function(U,S,T){var V=T?7:1;if(S){V*=-1}U.start=N.date.addDays(U.start,V);U.end=N.date.addDays(U.end,V);if(!T||(T&&this._isVerticallyGrouped())){U.groupIndex=S?this.groups.length-1:0}U.events=[];return true},_continuousSlot:function(W,U,T){var V=W.backward?0:U.length-1;var S=this.groups[W.groupIndex];return S.continuousSlot(U[V].start,T)},_changeGroupContinuously:function(X,V,Y,U){if(!Y){var S=X.groupIndex;var Z=this.groups.length-1;var T=this._isVerticallyGrouped();var W=this.groups[S];if(!V&&T){V=W[U?"lastSlot":"firstSlot"]();S+=(U?-1:1)}else{if(V&&!T){S=U?Z:0}}if(S<0||S>Z){S=U?Z:0;V=null}X.groupIndex=S}return V},_normalizeHorizontalSelection:function(V,U,S){var T;if(S){T=U[0].start}else{T=U[U.length-1].end}return T},_normalizeVerticalSelection:function(U,T){var S;if(U.backward){S=T[0].start}else{S=T[T.length-1].end}return S},_templates:function(){var S=this.options,T=G({},N.Template,S.templateSettings);this.eventTemplate=this._eventTmpl(S.eventTemplate);this.dayTemplate=N.template(S.dayTemplate,T)},dateForTitle:function(){return N.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return N.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return N.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(T){var S=this;this._firstDayOfMonth=N.date.firstDayOfMonth(T);this._lastDayOfMonth=N.date.lastDayOfMonth(T);this._startDate=Q(T,this.calendarInfo());this.createLayout(this._layout());this._content();this.refreshLayout();this.content.on("click"+K,".k-nav-day,.k-more-events",function(V){var U=O(V.currentTarget).offset();var W=S._slotByPosition(U.left,U.top);V.preventDefault();S.trigger("navigate",{view:"day",date:W.startDate()})})},_editable:function(){if(this.options.editable&&!this._isMobilePhoneView()){if(this._isMobile()){this._touchEditable()}else{this._mouseEditable()}}},_mouseEditable:function(){var S=this;S.element.on("click"+K,".k-scheduler-monthview .k-event a:has(.k-si-close)",function(T){S.trigger("remove",{uid:O(this).closest(".k-event").attr(N.attr("uid"))});T.preventDefault()});if(S.options.editable.create!==false){S.element.on("dblclick"+K,".k-scheduler-monthview .k-scheduler-content td",function(U){var T=O(U.currentTarget).offset();var V=S._slotByPosition(T.left,T.top);if(V){var W=S._resourceBySlot(V);S.trigger("add",{eventInfo:G({isAllDay:true,start:V.startDate(),end:V.startDate()},W)})}U.preventDefault()})}if(S.options.editable.update!==false){S.element.on("dblclick"+K,".k-scheduler-monthview .k-event",function(T){S.trigger("edit",{uid:O(this).closest(".k-event").attr(N.attr("uid"))});T.preventDefault()})}},_touchEditable:function(){var S=this;if(S.options.editable.create!==false){S._addUserEvents=new N.UserEvents(S.element,{filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(U){var T=O(U.target).offset();var V=S._slotByPosition(T.left,T.top);if(V){var W=S._resourceBySlot(V);S.trigger("add",{eventInfo:G({isAllDay:true,start:V.startDate(),end:V.startDate()},W)})}U.preventDefault()}})}if(S.options.editable.update!==false){S._editUserEvents=new N.UserEvents(S.element,{filter:".k-scheduler-monthview .k-event",tap:function(T){if(O(T.event.target).closest("a:has(.k-si-close)").length===0){S.trigger("edit",{uid:O(T.target).closest(".k-event").attr(N.attr("uid"))});T.preventDefault()}}})}},selectionByElement:function(T){var S=O(T).offset();return this._slotByPosition(S.left,S.top)},_columnCountForLevel:function(T){var S=this.columnLevels[T];return S?S.length:0},_rowCountForLevel:function(S){var T=this.rowLevels[S];return T?T.length:0},_content:function(){var S="<tbody>";var V=1;var T=this.groupedResources;if(T.length){if(this._isVerticallyGrouped()){V=this._rowCountForLevel(T.length-1)}}for(var U=0;U<V;U++){S+=this._createCalendar()}S+="</tbody>";this.content.find("table").html(S)},_createCalendar:function(){var S=this.startDate();var W=C*M;var T=C;var U=[S];var Z="";var b=1;var a=this.groupedResources;if(a.length){if(!this._isVerticallyGrouped()){b=this._columnCountForLevel(a.length-1)}}this._slotIndices={};for(var Y=0;Y<W/T;Y++){Z+="<tr>";U.push(S);var X=Y*T;for(var V=0;V<b;V++){Z+=this._createRow(S,X,T)}S=N.date.addDays(S,T);Z+="</tr>"}this._weekStartDates=U;this._endDate=N.date.previousDay(S);return Z},_createRow:function(Y,X,T){var U=this._firstDayOfMonth;var V=this._lastDayOfMonth;var a=this.dayTemplate;var W="";var Z="";for(var S=0;S<T;S++){W="";if(N.date.isToday(Y)){W+="k-today"}if(!N.date.isInDateRange(Y,U,V)){W+=" k-other-month"}Z+="<td ";if(W!==""){Z+='class="'+W+'"'}Z+=">";Z+=a({date:Y});Z+="</td>";this._slotIndices[J(Y).getTime()]=X+S;Y=N.date.nextDay(Y)}return Z},_layout:function(){var U=this.calendarInfo();var Z=this._isMobile()?U.days.namesShort:U.days.names;var V=B(Z,U.firstDay);var W=O.map(V,function(a){return{text:a}});var Y=this.groupedResources;var S;if(Y.length){if(this._isVerticallyGrouped()){var T=[];for(var X=0;X<6;X++){T.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"})}S=this._createRowsLayout(Y,T)}else{W=this._createColumnsLayout(Y,W)}}return{columns:W,rows:S}},_eventTmpl:function(T){var W=this.options,Z=G({},N.Template,W.templateSettings),S=Z.paramName,Y="",X=typeof T,V={storage:{},count:0};if(X==="function"){V.storage["tmpl"+V.count]=T;Y+="#=this.tmpl"+V.count+"("+S+")#";V.count++}else{if(X==="string"){Y+=T}}var U=N.template(N.format(P,Y),Z);if(V.count>0){U=L(U,V.storage)}return U},_createEventElement:function(V){var U=this.options;var S=U.editable;var T=this._isMobile();V.showDelete=S&&S.destroy!==false&&!T;V.resizable=S&&S.resize!==false&&!T;V.ns=N.ns;V.resources=this.eventResources(V);V.inverseColor=V.resources&&V.resources[0]?this._shouldInverseResourceColor(V.resources[0]):false;return O(this.eventTemplate(V))},_isInDateSlot:function(U){var T=this.startDate();var S=new Date(this.endDate().getTime()+F-1);return(R(U.start,T,S)||R(U.end,T,S)||R(T,U.start,U.end)||R(S,U.start,U.end))&&(!R(U.end,T,T)||R(U.end,U.start,U.start)||U.isAllDay)},_slotIndex:function(S){return this._slotIndices[J(S).getTime()]},_positionMobileEvent:function(c,U,X){var W=c.start;if(c.start.offsetLeft>c.end.offsetLeft){W=c.end}var S=c.start.index;var a=S;var V=3;var Z=A.collidingEvents(c.events(),S,a);Z.push({element:U,start:S,end:a});var T=A.createRows(Z);var b=c.collection.at(S);var Y=b.container;if(!Y){Y=O(N.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>',W.offsetTop+W.firstChildTop+W.firstChildHeight-3+"px",W.offsetLeft+"px",W.offsetWidth+"px"));b.container=Y;this.content[0].appendChild(Y[0])}if(T.length<=V){c.addEvent({element:U,start:S,end:a,groupIndex:W.groupIndex});X._continuousEvents.push({element:U,uid:U.attr(N.attr("uid")),start:c.start,end:c.end});Y[0].appendChild(U[0])}},_positionEvent:function(b,f,d){var g=this.options.eventHeight;var m=b.start;if(b.start.offsetLeft>b.end.offsetLeft){m=b.end}var W=b.start.index;var a=b.end.index;var V=m.eventCount;V+=1;var Y=A.collidingEvents(b.events(),W,a);var c=W!==a?5:4;Y.push({element:f,start:W,end:a});var k=A.createRows(Y);for(var l=0,S=Math.min(k.length,V);l<S;l++){var Z=k[l].events;var i=m.offsetTop+m.firstChildHeight+l*g+3*l+"px";for(var U=0,h=Z.length;U<h;U++){Z[U].element[0].style.top=i}}if(k.length>V){for(var T=W;T<=a;T++){var e=b.collection;var X=e.at(T);if(X.more){return}X.more=O(H({ns:N.ns,start:T,end:T,width:X.clientWidth-2,left:this._scrollbarOffset(X.offsetLeft+2),top:X.offsetTop+X.firstChildHeight+V*g+3*V}));this.content[0].appendChild(X.more[0])}}else{b.addEvent({element:f,start:W,end:a,groupIndex:m.groupIndex});f[0].style.width=b.innerWidth()-c+"px";f[0].style.left=this._scrollbarOffset(m.offsetLeft+2)+"px";f[0].style.height=g+"px";d._continuousEvents.push({element:f,uid:f.attr(N.attr("uid")),start:b.start,end:b.end});this.content[0].appendChild(f[0])}},_slotByPosition:function(U,V){var S=this.content.offset();U-=S.left;V-=S.top;V+=this.content[0].scrollTop;U+=this.content[0].scrollLeft;U=Math.ceil(U);V=Math.ceil(V);for(var W=0;W<this.groups.length;W++){var T=this.groups[W].daySlotByPosition(U,V);if(T){return T}}return null},_createResizeHint:function(X){var U=X.startSlot().offsetLeft;U=this._scrollbarOffset(U);var V=X.start.offsetTop;var W=X.innerWidth();var T=X.start.clientHeight-2;var S=A.fn._createResizeHint.call(this,U,V,W,T);S.appendTo(this.content);this._resizeHint=this._resizeHint.add(S)},_updateResizeHint:function(W,X,V,Y){this._removeResizeHint();var S=this.groups[X];var U=S.ranges(V,Y,true,W.isAllDay);for(var T=0;T<U.length;T++){this._createResizeHint(U[T])}this._resizeHint.find(".k-label-top,.k-label-bottom").text("");this._resizeHint.first().addClass("k-first").find(".k-label-top").text(N.toString(N.timezone.toLocalDate(V),"M/dd"));this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(N.toString(N.timezone.toLocalDate(Y),"M/dd"))},_updateMoveHint:function(Y,S,Z){var U=N.date.toUtcTime(Y.start)+Z;var X=U+Y.duration();var a=this.groups[S];var b=a.ranges(U,X,true,Y.isAllDay);this._removeMoveHint();for(var T=0;T<b.length;T++){var c=b[T];var d=c.startSlot();var V=c.endSlot();var W=this._createEventElement(Y.clone({head:c.head,tail:c.tail}));W.css({left:d.offsetLeft+2,top:d.offsetTop+d.firstChildHeight,height:this.options.eventHeight,width:c.innerWidth()-(d.index!==V.index?5:4)});W.addClass("k-event-drag-hint");W.appendTo(this.content);this._moveHint=this._moveHint.add(W)}},_groups:function(){var f=this._groupCount();var c=C;var j=M;this.groups=[];for(var k=0;k<f;k++){this._addResourceView(k)}var X=this.content[0].getElementsByTagName("tr");for(var Y=0;Y<f;Y++){var S=0;var i=0;if(this._isVerticallyGrouped()){i=Y}for(var T=i*j;T<(i+1)*j;T++){var d=this.groups[Y];var h=d.addDaySlotCollection(N.date.addDays(this.startDate(),S),N.date.addDays(this.startDate(),S+c));var b=X[T];var e=b.children;var V=0;b.setAttribute("role","row");if(!this._isVerticallyGrouped()){V=Y}for(var U=V*c;U<(V+1)*c;U++){var Z=e[U];var a=Z.clientHeight;var g=Z.firstChild.offsetHeight+3;var l=N.date.toUtcTime(N.date.addDays(this.startDate(),S));S++;var W=Math.floor((a-g)/(this.options.eventHeight+3))-1;Z.setAttribute("role","gridcell");Z.setAttribute("aria-selected",false);h.addDaySlot(Z,l,l+N.date.MS_PER_DAY,W)}}}},render:function(T){this.content.children(".k-event,.k-more-events,.k-events-container").remove();this._groups();T=new N.data.Query(T).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var S=this.groupedResources;if(S.length){this._renderGroups(T,S,0,1)}else{this._renderEvents(T,0)}this.refreshLayout();this.trigger("activate")},_renderEvents:function(d,T){var Y;var X;var Z;var b=this._isMobilePhoneView();for(X=0,Z=d.length;X<Z;X++){Y=d[X];if(this._isInDateSlot(Y)){var a=this.groups[T];if(!a._continuousEvents){a._continuousEvents=[]}var c=a.slotRanges(Y,true);var W=c.length;for(var U=0;U<W;U++){var e=c[U];var V=Y.start;var f=Y.end;if(W>1){if(U===0){f=e.end.endDate()}else{if(U==W-1){V=e.start.startDate()}else{V=e.start.startDate();f=e.end.endDate()}}}var S=Y.clone({start:V,end:f,head:e.head,tail:e.tail});if(b){this._positionMobileEvent(e,this._createEventElement(S),a)}else{this._positionEvent(e,this._createEventElement(S),a)}}}}},_renderGroups:function(Y,a,T,X){var V=a[0];if(V){var S=V.dataSource.view();for(var Z=0;Z<S.length;Z++){var U=this._resourceValue(V,S[Z]);var W=new N.data.Query(Y).filter({field:V.field,operator:A.groupEqFilter(U)}).toArray();if(a.length>1){T=this._renderGroups(W,a.slice(1),T++,X+1)}else{this._renderEvents(W,T++)}}}return T},_groupCount:function(){var S=this.groupedResources;if(S.length){if(this._isVerticallyGrouped()){return this._rowCountForLevel(S.length-1)}else{return this._columnCountForLevel(S.length)/this._columnOffsetForResource(S.length)}}return 1},_columnOffsetForResource:function(S){return this._columnCountForLevel(S)/this._columnCountForLevel(S-1)},destroy:function(){if(this.table){this.table.removeClass("k-scheduler-monthview")}if(this.content){this.content.off(K)}if(this.element){this.element.off(K)}A.fn.destroy.call(this);if(this._isMobile()&&!this._isMobilePhoneView()){if(this.options.editable.create!==false){this._addUserEvents.destroy()}if(this.options.editable.update!==false){this._editUserEvents.destroy()}}},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,editable:true,selectedDateFormat:"{0:y}",dayTemplate:E,eventTemplate:I}});function B(S,T){return S.slice(T).concat(S.slice(0,T))}function Q(V,U){var T=U.firstDay,S=new Date(V.getFullYear(),V.getMonth(),0,V.getHours(),V.getMinutes(),V.getSeconds(),V.getMilliseconds());while(S.getDay()!=T){N.date.setTime(S,-1*F)}return S}function R(V,S,X){var W=S.getTime(),U=X.getTime(),T;T=V.getTime();return T>=W&&T<=U}})(window.kendo.jQuery);kendo_module({id:"scheduler.recurrence",name:"Recurrence",category:"web",depends:["dropdownlist","datepicker","numerictextbox"],hidden:true});(function(s,u){var c=window.kendo,V=c.timezone,b=c.Class,Ad=c.ui,W=Ad.Widget,Af=Ad.DropDownList,C=c.date,v=C.setTime,Ag=C.setDayOfWeek,w=C.adjustDST,a=C.firstDayOfMonth,x=C.getMilliseconds,Y=[0,31,60,91,121,152,182,213,244,274,305,335,366],I=[0,31,59,90,120,151,181,212,243,273,304,334,365],X=[31,28,30,31,30,31,30,31,30,31,30,31],D={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},n={"SU":0,"MO":1,"TU":2,"WE":3,"TH":4,"FR":5,"SA":6},f=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],i=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],z=i.length,m={months:function(Aw,Av,At){var As=At.months,Ax=t(As,Aw.getMonth()+1),Au=false;if(Ax!==null){if(Ax.length){Aw.setMonth(Ax[0]-1,1)}else{Aw.setFullYear(Aw.getFullYear()+1,As[0]-1,1)}Au=true}return Au},monthDays:function(AA,At,Aw){var Au,As,Ay,Ax=false,Az=AA.getHours(),Av=function(AB){if(AB<0){AB=Au+AB}return AB};while(AA<=At){As=AA.getMonth();Au=Ac(AA);Ay=t(Aw.monthDays,AA.getDate(),Av);if(Ay===null){return Ax}Ax=true;if(Ay.length){AA.setMonth(As,Ay.sort(G)[0]);w(AA,Az);if(As===AA.getMonth()){break}}else{AA.setMonth(As+1,1)}}return Ax},yearDays:function(Az,At,Aw){var Ax,Av,Au=false,Ay=Az.getHours(),As=function(AA){if(AA<0){AA=Ax+AA}return AA};while(Az<At){Ax=P(Az)?366:365;Av=t(Aw.yearDays,p(Az),As);if(Av===null){return Au}Au=true;Ax=Az.getFullYear();if(Av.length){Az.setFullYear(Ax,0,Av.sort(G)[0]);w(Az,Ay);break}else{Az.setFullYear(Ax+1,0,1)}}return Au},weeks:function(AB,At,Aw){var Az=Aw.weekStart,Ay,Ax,Av,Au=false,AA=AB.getHours(),As=function(AC){if(AC<0){AC=53+AC}return AC};while(AB<At){Ax=t(Aw.weeks,Ah(AB,Az),As);if(Ax===null){return Au}Au=true;Ay=AB.getFullYear();if(Ax.length){Av=(Ax.sort(G)[0]*7)-1;AB.setFullYear(Ay,0,Av);Ag(AB,Az,-1);w(AB,AA);break}else{AB.setFullYear(Ay+1,0,1)}}return Au},weekDays:function(AA,Au,Ax){var As=Ax.weekDays,Aw=Ax.weekStart,Av=Ab(As,AA,Aw),Az=AA.getHours(),At,Ay;if(Av===null){return false}At=Av[0];if(!At){At=As[0];Ag(AA,Aw)}Ay=At.day;if(At.offset){while(AA<=Au&&!M(AA,At,Aw)){if(J(AA,Aw)===e(AA,Aw)){AA.setMonth(AA.getMonth()+1,1);w(AA,Az)}else{AA.setDate(AA.getDate()+7);w(AA,Az);Ag(AA,Aw,-1)}}}if(AA.getDay()!==Ay){Ag(AA,Ay)}return true},hours:function(Az,At,Au){var Ax=Au.hours,Ay=Au._startTime,Av=Ay.getHours(),As=t(Ax,Av),Aw=false;if(As!==null){Aw=true;Az.setHours(Av);w(Az,Av);if(As.length){As=As[0];Az.setHours(As)}else{As=Az.getHours();Az.setDate(Az.getDate()+1);w(Az,As);As=Ax[0];Az.setHours(As);w(Az,As)}if(Au.minutes){Az.setMinutes(0)}Ay.setHours(As,Az.getMinutes())}return Aw},minutes:function(Az,At,Av){var Au=Av.minutes,As=Az.getMinutes(),Ax=t(Au,As),Ay=Av._startTime.getHours(),Aw=false;if(Ax!==null){Aw=true;if(Ax.length){Ax=Ax[0]}else{Ay+=1;Ax=Au[0]}if(Av.seconds){Az.setSeconds(0)}Az.setHours(Ay,Ax);Ay=Ay%24;w(Az,Ay);Av._startTime.setHours(Ay,Ax,Az.getSeconds())}return Aw},seconds:function(Az,Au,Av){var At=Av.seconds,Ay=Av._startTime.getHours(),As=t(At,Az.getSeconds()),Ax=Az.getMinutes(),Aw=false;if(As!==null){Aw=true;if(As.length){Az.setSeconds(As[0])}else{Ax+=1;Az.setMinutes(Ax,At[0]);if(Ax>59){Ax=Ax%60;Ay=(Ay+1)%24}}Av._startTime.setHours(Ay,Ax,Az.getSeconds())}return Aw}},S=b.extend({next:function(Ax,At){var Aw=At._startTime,Au=Aw.getDate(),As,Av;if(At.seconds){Av=Ax.getSeconds()+1;Ax.setSeconds(Av);Aw.setSeconds(Av);Aw.setDate(Au)}else{if(At.minutes){As=Ax.getMinutes()+1;Ax.setMinutes(As);Aw.setMinutes(As);Aw.setDate(Au)}else{return false}}return true},normalize:function(At){var As=At.rule;if(At.idx===4&&As.hours){As._startTime.setHours(0);this._hour(At.date,As)}},limit:function(AA,Au,Ax){var Ay=Ax.interval,At,As,Az,Av,Aw;while(AA<=Au){Az=As=u;Aw=AA.getDate();for(Av=0;Av<z;Av++){At=i[Av];if(Ax[At]){Az=m[At](AA,Au,Ax);if(As!==u&&Az){break}else{As=Az}}if(Az){this.normalize({date:AA,rule:Ax,day:Aw,idx:Av})}}if((Ay===1||!this.interval(Ax,AA))&&Av===z){break}}},interval:function(Ax,At){var As=new Date(Ax._startPeriod);var AD=At.getHours();var Aw=Ax.weekStart;var Az=Ax.interval;var Ay=Ax.freq;var AA=false;var AC=0;var Au=0;var AB=1;var Av;if(Ay==="hourly"){Av=Math.floor((At-As)/(60*c.date.MS_PER_MINUTE));AC=Aj(Av,Az);if(AC!==0){this._hour(At,Ax,AC);AA=true}}else{if(Ay==="daily"){Av=Math.floor((At-As)/c.date.MS_PER_DAY);AC=Aj(Av,Az);if(AC!==0){this._date(At,Ax,AC);AA=true}}else{if(Ay==="weekly"){Av=(At.getFullYear()-As.getFullYear())*52;AC=Ah(At,Aw)-Ah(As,Aw)+Av;AC=Aj(AC,Az);if(AC!==0){c.date.setDayOfWeek(At,Ax.weekStart,-1);At.setDate(At.getDate()+(AC*7));w(At,AD);AA=true}}else{if(Ay==="monthly"){Av=At.getFullYear()-As.getFullYear();Av=At.getMonth()-As.getMonth()+(Av*12);AC=Aj(Av,Az);if(AC!==0){AB=Ax._hasRuleValue?1:At.getDate();At.setFullYear(At.getFullYear(),At.getMonth()+AC,AB);w(At,AD);AA=true}}else{if(Ay==="yearly"){Av=At.getFullYear()-As.getFullYear();AC=Aj(Av,Az);if(!Ax.months){Au=At.getMonth()}if(!Ax.yearDays&&!Ax.monthDays&&!Ax.weekDays){AB=At.getDate()}if(AC!==0){At.setFullYear(At.getFullYear()+AC,Au,AB);w(At,AD);AA=true}}}}}}return AA},_hour:function(Aw,At,Au){var Av=At._startTime,As=Av.getHours();if(Au){As+=Au}Aw.setHours(As);As=As%24;Av.setHours(As);w(Aw,As)},_date:function(Av,At,Au){var As=Av.getHours();Av.setDate(Av.getDate()+Au);if(!w(Av,As)){this._hour(Av,At)}}}),O=S.extend({next:function(At,As){if(!S.fn.next(At,As)){this._hour(At,As,1)}},normalize:function(At){var As=At.rule;if(At.idx===4){As._startTime.setHours(0);this._hour(At.date,As)}}}),A=S.extend({next:function(At,As){if(!S.fn.next(At,As)){this[As.hours?"_hour":"_date"](At,As,1)}}}),l=A.extend({setup:function(As,At){if(!As.weekDays){As.weekDays=[{day:At.getDay(),offset:0}]}}}),N=S.extend({next:function(Av,At){var Au,As;if(!S.fn.next(Av,At)){if(At.hours){this._hour(Av,At,1)}else{if(At.monthDays||At.weekDays||At.yearDays||At.weeks){this._date(Av,At,1)}else{Au=Av.getDate();As=Av.getHours();Av.setMonth(Av.getMonth()+1);w(Av,As);while(Av.getDate()!==Au){Av.setDate(Au);w(Av,As)}this._hour(Av,At)}}}},normalize:function(Au){var At=Au.rule,Av=Au.date,As=Av.getHours();if(Au.idx===0&&!At.monthDays&&!At.weekDays){Av.setDate(Au.day);w(Av,As)}else{S.fn.normalize(Au)}},setup:function(As,At,Au){if(!As.monthDays&&!As.weekDays){Au.setDate(At.getDate())}}}),Ae=N.extend({next:function(Av,At){var Au,As=Av.getHours();if(!S.fn.next(Av,At)){if(At.hours){this._hour(Av,At,1)}else{if(At.monthDays||At.weekDays||At.yearDays||At.weeks){this._date(Av,At,1)}else{if(At.months){Au=Av.getDate();Av.setMonth(Av.getMonth()+1);w(Av,As);while(Av.getDate()!==Au){Av.setDate(Au);w(Av,As)}this._hour(Av,At)}else{Av.setFullYear(Av.getFullYear()+1);w(Av,As);this._hour(Av,At)}}}}},setup:function(){}}),Ao={"hourly":new O(),"daily":new A(),"weekly":new l(),"monthly":new N(),"yearly":new Ae()},d="click";function Aj(At,As){if(At!==0&&At<As){At=As-At}else{At=At%As}return At}function p(Au){var As=Au.getMonth();var At=P(Au)?Y[As]:I[As];return At+Au.getDate()}function Ah(Av,Au){var At,As;Av=new Date(Av.getFullYear(),Av.getMonth(),Av.getDate());w(Av,0);At=Av.getFullYear();if(Au!==u){Ag(Av,Au,-1);Av.setDate(Av.getDate()+4)}else{Av.setDate(Av.getDate()+(4-(Av.getDay()||7)))}w(Av,0);As=Math.floor((Av.getTime()-new Date(At,0,1,-6))/86400000);return 1+Math.floor(As/7)}function J(Au,At){var As=a(Au).getDay(),Av=Math.abs(7-(As+7-(At||7)))||7;return Math.ceil((Au.getDate()-Av)/7)+1}function B(Au,As,At){if(As<0){As=e(Au,At)+(As+1)}return As}function e(At,As){return J(new Date(At.getFullYear(),At.getMonth()+1,0),As)}function M(Aw,At,Av){var As=At.offset,Au=J(Aw,Av);if(!Q(Aw,At,Av)){Au-=1}return Au===B(Aw,As,Av)}function Q(Ax,At,Av){var Au=At.day,As=At.offset,Ay,Aw;if(!As){return true}Ay=a(Ax).getDay();if(Ay<Av){Ay+=Av}if(Au<Av){Au+=Av}Aw=Au>=Ay;if(!Aw&&As<0&&B(Ax,As,Av)!==1){Aw=true}return Aw}function Ab(As,AC,Aw){var Ax=AC.getDay(),AB=As.length,AA,Ay,At,Au,Az=[],Av=0;if(Ax<Aw){Ax+=7}for(;Av<AB;Av++){AA=As[Av];At=AA.offset;Ay=AA.day;if(Ay<Aw){Ay+=7}Au=J(AC,Aw);if(!Q(AC,AA,Aw)){Au-=1}At=At?B(AC,At,Aw):Au;if(Au<At){Az.push(AA)}else{if(Au===At){if(Ax<Ay){Az.push(AA)}else{if(Ax===Ay){return null}}}}}return Az}function t(At,Aw,Ay){var Av=0,As=At.length,Au=[],Ax;for(;Av<As;Av++){Ax=At[Av];if(Ay){Ax=Ay(Ax)}if(Aw===Ax){return null}else{if(Aw<Ax){Au.push(Ax)}}}return Au}function An(Au,Aw){var Av=0,At=Au.length,As;for(;Av<At;Av++){As=parseInt(Au[Av],10);if(isNaN(As)||As<Aw.start||As>Aw.end||(As===0&&Aw.start<0)){return null}Au[Av]=As}return Au.sort(G)}function Ai(Aw){var Ax=0,At=Aw.length,As,Av,Au;for(;Ax<At;Ax++){As=Aw[Ax];Av=As.length;Au=As.substring(Av-2).toUpperCase();Au=n[Au];if(Au===u){return null}Aw[Ax]={offset:parseInt(As.substring(0,Av-2),10)||0,day:Au}}return Aw}function y(Av){var Aw=0,At=Av.length,As,Ax,Au=[];for(;Aw<At;Aw++){As=Av[Aw];if(typeof As==="string"){Ax=As}else{Ax=""+D[As.day];if(As.offset){Ax=As.offset+Ax}}Au.push(Ax)}return Au.toString()}function Ac(At){var As=At.getMonth();if(As===1){if(new Date(At.getFullYear(),1,29).getMonth()===1){return 29}return 28}return X[As]}function P(As){As=As.getFullYear();return((As%4===0)&&(As%100!==0))||(As%400===0)}function G(At,As){return At-As}function Am(Av,As){var Aw=0,At,Ax,Au=[];if(Av){Av=Av.split(";");At=Av.length;for(;Aw<At;Aw++){Ax=Ap(Av[Aw],As);if(Ax){Au.push(Ax)}}}return Au}function q(Av,Ay,As){var Au=s.isArray(Av)?Av:Am(Av,As),Ax=Ay.getTime()-Ay.getMilliseconds(),Aw=0,At=Au.length;for(;Aw<At;Aw++){if(Au[Aw].getTime()===Ax){return true}}return false}function Aq(Au,As){var At=new Date(Au);switch(As.freq){case"yearly":At.setFullYear(At.getFullYear(),0,1);break;case"monthly":At.setFullYear(At.getFullYear(),At.getMonth(),1);break;case"weekly":Ag(At,As.weekStart,-1);break;default:break}if(As.hours){At.setHours(0)}if(As.minutes){At.setMinutes(0)}if(As.seconds){At.setSeconds(0)}return At}function T(Au,As){var At=new Date(Au);switch(As.freq){case"yearly":At.setFullYear(At.getFullYear(),11,31);break;case"monthly":At.setFullYear(At.getFullYear(),At.getMonth()+1,0);break;case"weekly":Ag(At,As.weekStart,-1);At.setDate(At.getDate()+6);break;default:break}if(As.hours){At.setHours(23)}if(As.minutes){At.setMinutes(59)}if(As.seconds){At.setSeconds(59)}return At}function j(AB,Au,Az){var AC=AB.slice(Az._startIdx);var Aw=AC.length;var At=Az.positions;var Av=[];var AA;var Ax;for(var As=0,Ay=At.length;As<Ay;As++){AA=At[As];if(AA<0){AA=Aw+AA}else{AA-=1}Ax=AC[AA];if(Ax&&Ax.start>=Au){Av.push(Ax)}}AB=AB.slice(0,Az._startIdx).concat(Av);Az._startIdx=AB.length;return AB}function L(AK,AS,Ax,Au){var AJ=Z(AK.recurrenceRule),AE,Aw,As,AQ,AM,AF,AH,AB,AR,AA,At,AO,AP,AL,AG,Av,Az,AI,AN,Ay,AC,AD=[];if(!AJ){return[AK]}Ay=AJ.positions;AC=Ay?0:1;AA=AJ.start;At=AJ.end;if(AA||At){AK=AK.clone({start:AA?new Date(AA.value):u,end:At?new Date(At.value):u})}Az=AK.start;Av=Az.getTime();AG=x(Az);AL=Am(AK.recurrenceException,Au);AB=AS=new Date(AS);Ax=new Date(Ax);AP=AJ.freq;AN=Ao[AP];AI=AJ.count;if(AJ.until&&AJ.until<Ax){Ax=new Date(AJ.until)}AO=AP==="yearly"||AP==="monthly"||AP==="weekly";if(AS<Av||AI||AJ.interval>1||AO){AS=new Date(Av)}else{AQ=AS.getHours();AM=AS.getMinutes();AF=AS.getSeconds();if(!AJ.hours){AQ=Az.getHours()}if(!AJ.minutes){AM=Az.getMinutes()}if(!AJ.seconds){AF=Az.getSeconds()}AS.setHours(AQ,AM,AF,Az.getMilliseconds())}AJ._startPeriod=new Date(AS);if(Ay){AS=Aq(AS,AJ);Ax=T(Ax,AJ);AJ._startPeriod=new Date(AS);AJ._endPeriod=T(AS,AJ);AJ._startIdx=0}AH=AK.duration();AJ._startTime=AE=c.date.toInvariantTime(AS);if(AN.setup){AN.setup(AJ,Az,AS)}AN.limit(AS,Ax,AJ);while(AS<=Ax){As=new Date(AS);v(As,AH);AR=AS>=AB||As>AB;if(AR&&!q(AL,AS,Au)||Ay){Aw=new Date(AJ._startTime);v(Aw,AH);if(Av!==AS.getTime()||AG!==x(AE)){AD.push(AK.toOccurrence({start:new Date(AS),startTime:new Date(AE),end:As,endTime:Aw}))}else{AK.startTime=AE;AK.endTime=Aw;AD.push(AK)}}if(Ay){AN.next(AS,AJ);AN.limit(AS,Ax,AJ);if(AS>AJ._endPeriod){AD=j(AD,Az,AJ);AJ._endPeriod=T(AS,AJ);AC=AD.length}if(AI&&AI===AC){break}}else{if(AI&&AI===AC){break}AC++;AN.next(AS,AJ);AN.limit(AS,Ax,AJ)}}return AD}function Ap(At,As){At=c.parseDate(At,f);if(At&&As){At=V.convert(At,At.getTimezoneOffset(),As)}return At}function r(Au,Az){var Ay=Au.split(";");var As;var At;var Ax;var AA;for(var Av=0,Aw=Ay.length;Av<Aw;Av++){As=Ay[Av].split(":");At=As[0];Ax=As[1];if(At.indexOf("TZID")!==-1){AA=At.substring(At.indexOf("TZID")).split("=")[1]}if(Ax){Ax=Ap(Ax,AA||Az)}}if(Ax){return{value:Ax,tzid:AA}}}function Z(AG,AD){var AA={},Ax=0,Ay,Az,Aw,Au,AE,At,AC=false,AB,Av,AF,As=function(AJ,AI){var AH=AJ.day,AK=AI.day;if(AH<AE){AH+=7}if(AK<AE){AK+=7}return AH-AK};if(!AG){return null}AF=AG.split("\n");if(!AF[1]&&(AG.indexOf("DTSTART")!==-1||AG.indexOf("DTEND")!==-1)){AF=AG.split(" ")}for(Ax=0,Ay=AF.length;Ax<Ay;Ax++){Av=AF[Ax];if(Av.indexOf("DTSTART")!==-1){AA.start=r(Av,AD)}else{if(Av.indexOf("DTEND")!==-1){AA.end=r(Av,AD)}else{if(Av.indexOf("RRULE")!==-1){AB=Av.substring(6)}else{AB=Av}}}}AB=AB.split(";");for(Ax=0,Ay=AB.length;Ax<Ay;Ax++){Au=AB[Ax];Az=Au.split("=");Aw=s.trim(Az[1]).split(",");switch(s.trim(Az[0]).toUpperCase()){case"FREQ":AA.freq=Aw[0].toLowerCase();break;case"UNTIL":AA.until=Ap(Aw[0],AD);break;case"COUNT":AA.count=parseInt(Aw[0],10);break;case"INTERVAL":AA.interval=parseInt(Aw[0],10);break;case"BYSECOND":AA.seconds=An(Aw,{start:0,end:60});AC=true;break;case"BYMINUTE":AA.minutes=An(Aw,{start:0,end:59});AC=true;break;case"BYHOUR":AA.hours=An(Aw,{start:0,end:23});AC=true;break;case"BYMONTHDAY":AA.monthDays=An(Aw,{start:-31,end:31});AC=true;break;case"BYYEARDAY":AA.yearDays=An(Aw,{start:-366,end:366});AC=true;break;case"BYMONTH":AA.months=An(Aw,{start:1,end:12});AC=true;break;case"BYDAY":AA.weekDays=At=Ai(Aw);AC=true;break;case"BYWEEKNO":AA.weeks=An(Aw,{start:-53,end:53});AC=true;break;case"BYSETPOS":AA.positions=An(Aw,{start:-366,end:366});break;case"WKST":AA.weekStart=AE=n[Aw[0]];break}}if(AA.freq===u||(AA.count!==u&&AA.until)){return null}if(!AA.interval){AA.interval=1}if(AE===u){AA.weekStart=AE=c.culture().calendar.firstDay}if(At){AA.weekDays=At.sort(As)}if(AA.positions&&!AC){AA.positions=null}AA._hasRuleValue=AC;return AA}function Aa(At,As){var Av=At.value;var Au=At.tzid||"";Av=V.convert(Av,Au||As||Av.getTimezoneOffset(),"Etc/UTC");if(Au){Au=";TZID="+Au}return Au+":"+c.toString(Av,"yyyyMMddTHHmmssZ")+" "}function Al(At,As){var Au=At.weekStart,Av="FREQ="+At.freq.toUpperCase(),Ax=At.until,Ay=At.start||"",Aw=At.end||"";if(At.interval>1){Av+=";INTERVAL="+At.interval}if(At.count){Av+=";COUNT="+At.count}if(Ax){Ax=V.convert(Ax,As||Ax.getTimezoneOffset(),"Etc/UTC");Av+=";UNTIL="+c.toString(Ax,"yyyyMMddTHHmmssZ")}if(At.months){Av+=";BYMONTH="+At.months}if(At.weeks){Av+=";BYWEEKNO="+At.weeks}if(At.yearDays){Av+=";BYYEARDAY="+At.yearDays}if(At.monthDays){Av+=";BYMONTHDAY="+At.monthDays}if(At.weekDays){Av+=";BYDAY="+y(At.weekDays)}if(At.hours){Av+=";BYHOUR="+At.hours}if(At.minutes){Av+=";BYMINUTE="+At.minutes}if(At.seconds){Av+=";BYSECOND="+At.seconds}if(At.positions){Av+=";BYSETPOS="+At.positions}if(Au!==u){Av+=";WKST="+D[Au]}if(Ay){Ay="DTSTART"+Aa(Ay,As)}if(Aw){Aw="DTEND"+Aa(Aw,As)}if(Ay||Aw){Av=Ay+Aw+"RRULE:"+Av}return Av}c.recurrence={rule:{parse:Z,serialize:Al},expand:L,dayInYear:p,weekInYear:Ah,weekInMonth:J,numberOfWeeks:e,isException:q};var Ar=function(Au){var Av=c.culture().calendar.days.namesShort,As=Av.length,At="",Ax=0,Aw=[];for(;Ax<As;Ax++){Aw.push(Ax)}Av=Av.slice(Au).concat(Av.slice(0,Au));Aw=Aw.slice(Au).concat(Aw.slice(0,Au));for(Ax=0;Ax<As;Ax++){At+='<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="'+Aw[Ax]+'" /> '+Av[Ax]+"</label>"}return At};var U=c.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />#:messages.day#</label><input class="k-recur-monthday" /></li><li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" /></li></ul></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li><li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" />#:messages.of#<input class="k-recur-month" /></li></ul></div># } ## if (frequency !== "never") { #<div class="k-edit-label"><label>#:end.label#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label><input class="k-recur-count" />#:end.occurrence#</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label><input class="k-recur-until" /></li></ul></div># } #');var H=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}];var o=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}];var R=[{day:0,offset:0},{day:6,offset:0}];var E=W.extend({init:function(Au,At){var Av;var As=this;var Aw=At&&At.frequencies;W.fn.init.call(As,Au,At);As.wrapper=As.element;At=As.options;At.start=Av=At.start||C.today();if(Aw){At.frequencies=Aw}if(typeof Av==="string"){At.start=c.parseDate(Av,"yyyyMMddTHHmmss")}if(At.firstWeekDay===null){At.firstWeekDay=c.culture().calendar.firstDay}As._namespace="."+At.name},options:{value:"",start:"",timezone:"",spinners:true,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:false,messages:{frequencies:{never:"Never",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of "},end:{label:"End:",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var At=this;var As=At._value;At._container.find(".k-recur-interval").kendoNumericTextBox({spinners:At.options.spinners,value:As.interval||1,decimals:0,format:"#",min:1,change:function(){As.interval=this.value();At._trigger()}})},_weekDayRule:function(Ax){var At=this;var Aw=At._weekDay.value();var As=Number(At._weekDayOffset.value());var Au=null;var Av=null;if(!Ax){if(Aw==="day"){Au=H;Av=As}else{if(Aw==="weekday"){Au=o;Av=As}else{if(Aw==="weekend"){Au=R;Av=As}else{Au=[{offset:As,day:Number(Aw)}]}}}}At._value.weekDays=Au;At._value.positions=Av},_weekDayView:function(){var Av=this;var Az=Av._value.weekDays;var As=Av._value.positions;var Ay=Av._weekDayOffset;var At;var Ax;var Au;var Aw;if(Az){Au=Az.length;if(As){if(Au===7){Ax="day";At=As}else{if(Au===5){Ax="weekday";At=As}else{if(Au===2){Ax="weekend";At=As}}}}if(!Ax){Az=Az[0];Ax=Az.day;At=Az.offset||""}Aw=Ay.value?"value":"val";Ay[Aw](At);Av._weekDay[Aw](Ax)}},_initWeekDay:function(){var Au=this,Ax;var As=Au.options.messages.weekdays;var Aw=Au.options.messages.offsetPositions;var Av=Au._container.find(".k-recur-weekday");var At=function(){Au._weekDayRule();Au._trigger()};if(Av[0]){Au._weekDayOffset=new Af(Au._container.find(".k-recur-weekday-offset"),{change:At,dataTextField:"text",dataValueField:"value",dataSource:[{text:Aw.first,value:"1"},{text:Aw.second,value:"2"},{text:Aw.third,value:"3"},{text:Aw.fourth,value:"4"},{text:Aw.last,value:"-1"}]});Ax=[{text:As.day,value:"day"},{text:As.weekday,value:"weekday"},{text:As.weekend,value:"weekend"}];Au._weekDay=new Af(Av,{value:Au.options.start.getDay(),change:At,dataTextField:"text",dataValueField:"value",dataSource:Ax.concat(s.map(c.culture().calendar.days.names,function(Ay,Az){return{text:Ay,value:Az}}))});Au._weekDayView()}},_initWeekDays:function(){var Aw=this;var Ay=Aw._value;var As=Aw._container.find(".k-recur-weekday-checkbox");if(As[0]){As.on(d+Aw._namespace,function(){Ay.weekDays=s.map(As.filter(":checked"),function(AA){return{day:Number(AA.value),offset:0}});if(!Aw.options.mobile){Aw._trigger()}});if(Ay.weekDays){var At,Az;var Av=0,Ax=As.length;var Au=Ay.weekDays.length;for(;Av<Ax;Av++){Az=As[Av];for(At=0;At<Au;At++){if(Az.value==Ay.weekDays[At].day){Az.checked=true}}}}}},_initMonthDay:function(){var At=this;var As=At._value;var Au=At._container.find(".k-recur-monthday");if(Au[0]){At._monthDay=new c.ui.NumericTextBox(Au,{spinners:At.options.spinners,min:1,max:31,decimals:0,format:"#",value:As.monthDays?As.monthDays[0]:At.options.start.getDate(),change:function(){var Av=this.value();As.monthDays=Av?[Av]:Av;At._trigger()}})}},_initCount:function(){var At=this,Au=At._container.find(".k-recur-count"),As=At._value;At._count=Au.kendoNumericTextBox({spinners:At.options.spinners,value:As.count||1,decimals:0,format:"#",min:1,change:function(){As.count=this.value();At._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var At=this,Au=At._container.find(".k-recur-until"),Aw=At.options.start,As=At._value,Av=As.until;At._until=Au.kendoDatePicker({min:Av&&Av<Aw?Av:Aw,value:Av||Aw,change:function(){As.until=this.value();At._trigger()}}).data("kendoDatePicker")},_trigger:function(){if(!this.options.mobile){this.trigger("change")}}});var Ak=E.extend({init:function(Au,At){var As=this;E.fn.init.call(As,Au,At);As._initFrequency();As._initContainer();As.value(As.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var As=this;As._frequency.destroy();As._container.find("input[type=radio],input[type=checkbox]").off(d+As._namespace);c.destroy(As._container);W.fn.destroy.call(As)},value:function(Au){var At=this,As=At.options.timezone;if(Au===u){if(!At._value.freq){return""}return Al(At._value,As)}At._value=Z(Au,As)||{};At._frequency.value(At._value.freq||"");At._initView(At._frequency.value())},_initContainer:function(){var Au=this.element,At=s('<div class="k-recur-view" />'),As=Au.parent(".k-edit-field");if(As[0]){At.insertAfter(As)}else{Au.append(At)}this._container=At},_initFrequency:function(){var Au=this,Av=Au.options,Ax=Av.frequencies,At=Av.messages.frequencies,As=s("<input />"),Aw;Ax=s.map(Ax,function(Ay){return{text:At[Ay],value:Ay}});Aw=Ax[0];if(Aw&&Aw.value==="never"){Aw.value=""}Au.element.append(As);Au._frequency=new Af(As,{dataTextField:"text",dataValueField:"value",dataSource:Ax,change:function(){Au._value={};Au._initView(Au._frequency.value());Au.trigger("change")}})},_initView:function(Aw){var At=this;var As=At._value;var Au=At.options;var Av={frequency:Aw||"never",weekDayCheckBoxes:Ar,firstWeekDay:Au.firstWeekDay,messages:Au.messages[Aw],end:Au.messages.end};At._container.html(U(Av));if(!Aw){At._value={};return}As.freq=Aw;if(Aw==="weekly"&&!As.weekDays){As.weekDays=[{day:Au.start.getDay(),offset:0}]}At._initInterval();At._initWeekDays();At._initMonthDay();At._initWeekDay();At._initMonth();At._initCount();At._initUntil();At._period();At._end()},_initMonth:function(){var Au=this;var At=Au._value;var Aw=At.months||[Au.options.start.getMonth()+1];var Av=Au._container.find(".k-recur-month");var As;if(Av[0]){As={change:function(){At.months=[Number(this.value())];Au.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:s.map(c.culture().calendar.months.names,function(Ax,Ay){return{text:Ax,value:Ay+1}})};Au._month1=new Af(Av[0],As);Au._month2=new Af(Av[1],As);if(Aw){Aw=Aw[0];Au._month1.value(Aw);Au._month2.value(Aw)}}},_end:function(){var Av=this;var Au=Av._value;var Aw=Av._container;var As=Av._namespace;var Ax=function(Ay){Av._toggleEnd(Ay.currentTarget.value);Av.trigger("change")};var At;Av._buttonNever=Aw.find(".k-recur-end-never").on(d+As,Ax);Av._buttonCount=Aw.find(".k-recur-end-count").on(d+As,Ax);Av._buttonUntil=Aw.find(".k-recur-end-until").on(d+As,Ax);if(Au.count){At="count"}else{if(Au.until){At="until"}}Av._toggleEnd(At)},_period:function(){var At=this;var As=At._value;var Au=As.freq==="monthly";var Aw=Au?At._toggleMonthDay:At._toggleYear;var Av=".k-recur-"+(Au?"month":"year")+"-radio";var Ax=At._container.find(Av);if(!Au&&As.freq!=="yearly"){return}Ax.on(d+At._namespace,function(Ay){Aw.call(At,Ay.currentTarget.value);At.trigger("change")});At._buttonMonthDay=Ax.eq(0);At._buttonWeekDay=Ax.eq(1);Aw.call(At,As.weekDays?"weekday":"monthday")},_toggleEnd:function(At){var Ax=this;var As,Aw;var Av,Au;if(At==="count"){Ax._buttonCount.prop("checked",true);Av=true;Au=false;As=Ax._count.value();Aw=null}else{if(At==="until"){Ax._buttonUntil.prop("checked",true);Av=false;Au=true;As=null;Aw=Ax._until.value()}else{Ax._buttonNever.prop("checked",true);Av=Au=false;As=Aw=null}}Ax._count.enable(Av);Ax._until.enable(Au);Ax._value.count=As;Ax._value.until=Aw},_toggleMonthDay:function(Aw){var At=this;var Ax=false;var Av=true;var Au=false;var As;if(Aw==="monthday"){At._buttonMonthDay.prop("checked",true);As=[At._monthDay.value()];Ax=true;Av=false;Au=true}else{At._buttonWeekDay.prop("checked",true);As=null}At._weekDay.enable(Av);At._weekDayOffset.enable(Av);At._monthDay.enable(Ax);At._value.monthDays=As;At._weekDayRule(Au)},_toggleYear:function(Aw){var Au=this;var As=false;var Av=true;var At;if(Aw==="monthday"){As=true;Av=false;At=Au._month1.value()}else{At=Au._month2.value()}Au._month1.enable(As);Au._month2.enable(Av);Au._value.months=[At];Au._toggleMonthDay(Aw)}});Ad.plugin(Ak);var k=c.template('<div class="k-edit-label"><label>#:headerTitle#</label></div><div class="k-edit-field k-recur-pattern k-scheduler-toolbar"></div><div class="k-recur-view"></div>');var h=c.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval" pattern="\\\\d*"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div><div class="k-edit-label"><label>#:messages.month#</label></div><div class="k-edit-field"><select class="k-recur-month"></select></div># } #');var g=c.template('# if (endPattern === "count") { #<div class="k-edit-label"><label>#:messages.after#</label></div><div class="k-edit-field"><input class="k-recur-count" pattern="\\\\d*" /></div># } else if (endPattern === "until") { #<div class="k-edit-label"><label>#:messages.on#</label></div><div class="k-edit-field"><input type="date" class="k-recur-until" /></div># } #');var F=c.template('<ul class="k-reset k-header k-toolbar k-scheduler-navigation">#for (var i = 0, length = dataSource.length; i < length; i++) {#<li class="k-state-default #= value === dataSource[i].value ? "k-state-selected" : "" #"><a role="button" href="\\#" class="k-link" data-#=ns#value="#=dataSource[i].value#">#:dataSource[i].text#</a></li>#}#</ul>');var K=E.extend({init:function(Au,At){var As=this;E.fn.init.call(As,Au,At);At=As.options;As._optionTemplate=c.template('<option value="#:value#">#:text#</option>');As.value(At.value);As._pane=At.pane;As._initRepeatButton();As._initRepeatEnd();As._defaultValue=As._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:true,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(Au){var At=this;var As=At.options.timezone;if(Au===u){if(!At._value.freq){return""}return Al(At._value,As)}At._value=Z(Au,As)||{}},destroy:function(){this._destroyView();c.destroy(this._endFields);this._repeatButton.off(d+this._namespace)},_initRepeatButton:function(){var At=this;var As=At.options.messages.frequencies[this._value.freq||"never"];At._repeatButton=s('<a href="#" class="k-button k-scheduler-recur">'+As+"</a>").on(d+At._namespace,function(Au){Au.preventDefault();At._createView("repeat");At._pane.navigate("recurrence",At.options.animations.left)});At.element.append(At._repeatButton)},_initRepeatEnd:function(){var As=this;var Au=s('<div class="k-edit-label"><label>Ends</label></div>').insertAfter(As.element.parent(".k-edit-field"));var At=s('<div class="k-edit-field"><a href="#" class="k-button k-scheduler-recur-end"></a></div>').on(d+As._namespace,function(Av){Av.preventDefault();if(!As._value.freq){return}As._createView("end");As._pane.navigate("recurrence",As.options.animations.left)}).insertAfter(Au);As._endFields=Au.add(At).toggleClass("k-state-disabled",!As._value.freq);As._endButton=At.find(".k-scheduler-recur-end").text(As._endText())},_endText:function(){var As=this._value;var At=this.options.messages.end;var Au=At.never;if(As.count){Au=c.format("{0} {1}",At.after,As.count)}else{if(As.until){Au=c.format("{0} {1:d}",At.on,As.until)}}return Au},_initFrequency:function(){var At=this;var Au=At.options.messages.frequencies;var As=F({dataSource:s.map(this.options.frequencies,function(Av){return{text:Au[Av],value:Av!=="never"?Av:""}}),value:At._value.freq||"",ns:c.ns});At._view.element.find(".k-recur-pattern").append(As).on(d+At._namespace,".k-scheduler-navigation li",function(Av){var Aw=s(this);Av.preventDefault();Aw.addClass("k-state-selected").siblings().removeClass("k-state-selected");At._value={freq:Aw.children("a").attr(c.attr("value"))};At._initRepeatView()})},_initEndNavigation:function(){var Au=this;var Aw=Au.options.messages.end.patterns;var At=Au._value;var Av="";if(At.count){Av="count"}else{if(At.until){Av="until"}}var As=F({dataSource:[{text:Aw.never,value:""},{text:Aw.after,value:"count"},{text:Aw.on,value:"until"}],value:Av,ns:c.ns});Au._view.element.find(".k-recur-pattern").append(As).on(d+Au._namespace,".k-scheduler-navigation li",function(Ay){var Az=s(this);var Ax=null;var AA=null;Ay.preventDefault();Az.addClass("k-state-selected").siblings().removeClass("k-state-selected");Au._initEndView(Az.children("a").attr(c.attr("value")));if(Au._count){Ax=Au._count.value();AA=null}else{if(Au._until){Ax=null;AA=Au._until.val?c.parseDate(Au._until.val(),"yyyy-MM-dd"):Au._until.value()}}At.count=Ax;At.until=AA})},_createView:function(Ax){var Au=this;var Av=Au.options;var At=Av.messages;var Aw=At[Ax==="repeat"?"repeatTitle":"endTitle"];var As='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+At.cancel+"</a>"+At.headerTitle+'<a href="#" class="k-button k-scheduler-update">'+At.update+"</a></div>";var Ay=Au._pane.view().id;Au._view=Au._pane.append(As+k({headerTitle:Aw}));Au._view.element.on(d+Au._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(Az){Az.preventDefault();Az.stopPropagation();if(s(this).hasClass("k-scheduler-update")){Au.trigger("change");Au._defaultValue=s.extend({},Au._value)}else{Au._value=Au._defaultValue}var AA=Au._value.freq;Au._endButton.text(Au._endText());Au._endFields.toggleClass("k-state-disabled",!AA);Au._repeatButton.text(At.frequencies[AA||"never"]);Au._destroyView();Au._pane.navigate(Ay,Au.options.animations.right)});Au._container=Au._view.element.find(".k-recur-view");if(Ax==="repeat"){Au._initFrequency();Au._initRepeatView()}else{Au._initEndNavigation();Au._initEndView()}},_destroyView:function(){if(this._view){this._view.destroy();this._view.element.remove()}this._view=null},_initRepeatView:function(){var Au=this;var Ax=Au._value.freq||"never";var Aw={frequency:Ax,weekDayCheckBoxes:Ar,firstWeekDay:Au.options.firstWeekDay,messages:Au.options.messages[Ax]};var As=h(Aw);var Av=Au._container;var At=Au._value;c.destroy(Av);Av.html(As);if(!As){Au._value={};return}if(Ax==="weekly"&&!At.weekDays){At.weekDays=[{day:Au.options.start.getDay(),offset:0}]}Au._initInterval();Au._initMonthDay();Au._initWeekDays();Au._initWeekDay();Au._initMonth();Au._period()},_initEndView:function(At){var Au=this;var As=Au._value;if(At===u){if(As.count){At="count"}else{if(As.until){At="until"}}}var Av={endPattern:At,messages:Au.options.messages.end};c.destroy(Au._container);Au._container.html(g(Av));Au._initCount();Au._initUntil()},_initWeekDay:function(){var Au=this,Ax;var As=Au.options.messages.weekdays;var Aw=Au.options.messages.offsetPositions;var Av=Au._container.find(".k-recur-weekday");var At=function(){Au._weekDayRule();Au.trigger("change")};if(Av[0]){Au._weekDayOffset=Au._container.find(".k-recur-weekday-offset").html(Au._options([{text:Aw.first,value:"1"},{text:Aw.second,value:"2"},{text:Aw.third,value:"3"},{text:Aw.fourth,value:"4"},{text:Aw.last,value:"-1"}])).change(At);Ax=[{text:As.day,value:"day"},{text:As.weekday,value:"weekday"},{text:As.weekend,value:"weekend"}];Ax=Ax.concat(s.map(c.culture().calendar.days.names,function(Ay,Az){return{text:Ay,value:Az}}));Au._weekDay=Av.html(Au._options(Ax)).change(At).val(Au.options.start.getDay());Au._weekDayView()}},_initMonth:function(){var At=this;var As=At._value;var Ax=At.options.start;var Av=As.months||[Ax.getMonth()+1];var Aw=At._container.find(".k-recur-month");var Au=c.culture().calendar.months.names;if(Aw[0]){var Ay=s.map(Au,function(Az,AA){return{text:Az,value:AA+1}});Aw.html(At._options(Ay)).change(function(){As.months=[Number(this.value)]});At._monthSelect=Aw;if(Av){Aw.val(Av[0])}}},_period:function(){var Ax=this;var Az=Ax._value;var Ay=Ax._container;var AB=Ax.options.messages[Az.freq];var Av=Ay.find(".k-repeat-rule");var At=Ay.find(".k-weekday-view");var AA=Ay.find(".k-monthday-view");if(Av[0]){var Au=Az.weekDays?"weekday":"monthday";var Aw=F({value:Au,dataSource:[{text:AB.dayOfMonth,value:"monthday"},{text:AB.dayOfWeek,value:"weekday"}],ns:c.ns});var As=function(AF){var AG=Ax._weekDay.val();var AC=Ax._weekDayOffset.val();var AE=Ax._monthDay.value();var AD=Ax._monthSelect?Ax._monthSelect.val():null;if(AF==="monthday"){Az.weekDays=null;Az.monthDays=AE?[AE]:AE;Az.months=AD?[Number(AD)]:AD;At.hide();AA.show()}else{Az.monthDays=null;Az.months=AD?[Number(AD)]:AD;Az.weekDays=[{offset:Number(AC),day:Number(AG)}];At.show();AA.hide()}};Av.append(Aw).on(d+Ax._namespace,".k-scheduler-navigation li",function(AD){var AE=s(this).addClass("k-state-selected");AD.preventDefault();AE.siblings().removeClass("k-state-selected");var AC=AE.children("a").attr(c.attr("value"));As(AC)});As(Au)}},_initUntil:function(){var Au=this;var Av=Au._container.find(".k-recur-until");var Ax=Au.options.start;var At=Au._value;var Aw=At.until;var As=Aw&&Aw<Ax?Aw:Ax;if(c.support.input.date){Au._until=Av.attr("min",c.toString(As,"yyyy-MM-dd")).val(c.toString(Aw||Ax,"yyyy-MM-dd")).on("change",function(){At.until=c.parseDate(this.value,"yyyy-MM-dd")})}else{Au._until=Av.kendoDatePicker({min:As,value:Aw||Ax,change:function(){At.until=this.value()}}).data("kendoDatePicker")}},_options:function(Ax,Aw){var Av=0;var As="";var At=Ax.length;var Au=this._optionTemplate;if(Aw){As+=Au({value:"",text:Aw})}for(;Av<At;Av++){As+=Au(Ax[Av])}return As}});Ad.plugin(K)})(window.kendo.jQuery);kendo_module({id:"scheduler",name:"Scheduler",category:"web",description:"The Scheduler is an event calendar.",depends:["dropdownlist","editable","multiselect","window","datepicker","scheduler.recurrence","scheduler.view"],features:[{id:"scheduler-dayview",name:"Scheduler Day View",description:"Scheduler Day View",depends:["scheduler.dayview"]},{id:"scheduler-agendaview",name:"Scheduler Agenda View",description:"Scheduler Agenda View",depends:["scheduler.agendaview"]},{id:"scheduler-monthview",name:"Scheduler Month View",description:"Scheduler Month View",depends:["scheduler.monthview"]},{id:"scheduler-mobile",name:"Scheduler adaptive rendering",description:"Support for adaptive rendering",depends:["mobile.actionsheet","mobile.pane"]}]});(function(u,w){var d=window.kendo,W=d.date,Ah=d.support.input,F=W.MS_PER_DAY,t=W.getDate,Aa=d.date.getMilliseconds,O=d.recurrence,b=d.keys,Ae=d.ui,X=Ae.Widget,Aw="string",B=Ae.Popup,Q=Ae.Calendar,z=d.data.DataSource,h=u.isPlainObject,At=u.extend,Ax=u.proxy,T=Object.prototype.toString,Ar=u.isArray,Av=".kendoScheduler",e="click",k="change",Ak="cancel",j="remove",V="save",K="add",D="edit",c=t(new Date()),Ag="recurrenceException",U="yyyyMMddTHHmmssZ",P="Are you sure you want to delete this event?",J="Do you want to delete only this event occurrence or the whole series?",n="Do you want to edit only this event occurrence or the whole series?",E='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',L=d.template('<div class="k-floatwrap k-header k-scheduler-toolbar k-secondary"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span data-#=ns#bind="text: formattedDate"></span></a></li></ul><ul class="k-reset k-header k-toolbar k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#=view#" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div>'),As=d.template('<div class="k-floatwrap k-header k-scheduler-toolbar k-secondary"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li></ul><ul class="k-reset k-header k-toolbar k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#=view#" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div><div class="k-floatwrap k-header k-scheduler-toolbar k-secondary"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-current"><span data-#=ns#bind="text: formattedDate"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li></ul></div>'),i=function(AB,AA){var AC={name:AA.field};var Ay=!Ah.date?d.attr("role")+'="datepicker" ':"";var Az=!Ah.datetimelocal?d.attr("role")+'="datetimepicker" ':"";r(AC,AA);g(AC,AA);u('<input type="datetime-local" required '+d.attr("type")+'="date" '+Az+d.attr("bind")+'="value:'+AA.field+',invisible:isAllDay" />').attr(AC).appendTo(AB);u('<input type="date" required '+d.attr("type")+'="date" '+Ay+d.attr("bind")+'="value:'+AA.field+',visible:isAllDay" />').attr(AC).appendTo(AB);u("<span "+d.attr("for")+'="'+AA.field+'" class="k-invalid-msg"/>').hide().appendTo(AB)},y=function(Az,Ay){var AA={name:Ay.field};r(AA,Ay);g(AA,Ay);u('<input type="text" required '+d.attr("type")+'="date" '+d.attr("role")+'="datetimepicker" '+d.attr("bind")+'="value:'+Ay.field+',invisible:isAllDay" />').attr(AA).appendTo(Az);u('<input type="text" required '+d.attr("type")+'="date" '+d.attr("role")+'="datepicker" '+d.attr("bind")+'="value:'+Ay.field+',visible:isAllDay" />').attr(AA).appendTo(Az);u("<span "+d.attr("bind")+'="text: '+Ay.field+'Timezone"></span>').appendTo(Az);if(Ay.field==="end"){u("<span "+d.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(Az)}u("<span "+d.attr("for")+'="'+Ay.field+'" class="k-invalid-msg"/>').hide().appendTo(Az)},I=function(Az,Ay){u("<div "+d.attr("bind")+'="value:'+Ay.field+'" />').attr({name:Ay.field}).appendTo(Az).kendoRecurrenceEditor({start:Ay.model.start,timezone:Ay.timezone,messages:Ay.messages})},Ao=function(Az,Ay){u("<div "+d.attr("bind")+'="value:'+Ay.field+'" />').attr({name:Ay.field}).appendTo(Az).kendoMobileRecurrenceEditor({start:Ay.model.start,timezone:Ay.timezone,messages:Ay.messages,pane:Ay.pane,value:Ay.model[Ay.field]})},q=function(Az,Ay){var AA=N(Ay.model,Ay.messages.noTimezone);u('<a href="#" class="k-button k-timezone-button">'+AA+"</a>").click(Ay.click).appendTo(Az)},Y=function(Az,Ay){u('<a href="#" class="k-button">'+Ay.messages.timezoneEditorButton+"</a>").click(Ay.click).appendTo(Az)},Ai=function(Az,Ay){u("<div "+d.attr("bind")+'="value:'+Ay.field+'" />').attr({name:Ay.field}).toggle(Ay.visible).appendTo(Az).kendoMobileTimezoneEditor()},x=function(Az,Ay){u("<div "+d.attr("bind")+'="value:'+Ay.field+'" />').attr({name:Ay.field}).toggle(Ay.visible).appendTo(Az).kendoTimezoneEditor()};function N(Az,Ay){Ay=Ay||"";if(Az.startTimezone){Ay=Az.startTimezone;if(Az.endTimezone){Ay+=" | "+Az.endTimezone}}return Ay}function r(Az,AA){var Ay=AA.timezone;if(Ay){Az[d.attr("timezone")]=Ay}}function g(Az,AA){var AB=AA.model.fields[AA.field].validation;if(AB){var Ay=AB.dateCompare;if(Ay&&h(Ay)&&Ay.message){Az[d.attr("dateCompare-msg")]=Ay.message}}}function f(Az,Ay){return function(AA){AA=Az(AA);Au(AA,"apply",Ay);return AA||[]}}function Aq(Az,Ay){return function(AA){if(AA){if(T.call(AA)!=="[object Array]"&&!(AA instanceof d.data.ObservableArray)){AA=[AA]}}Au(AA,"remove",Ay,true);AA=Az(AA);return AA||[]}}function Au(AE,AB,Az,AD){var AA,AC,Ay;AE=AE||[];for(AC=0,Ay=AE.length;AC<Ay;AC++){AA=AE[AC];if(AD){if(AA.startTimezone||AA.endTimezone){if(Az){AA.start=d.timezone.convert(AA.start,AA.startTimezone||AA.endTimezone,Az);AA.end=d.timezone.convert(AA.end,AA.endTimezone||AA.startTimezone,Az);AA.start=d.timezone[AB](AA.start,Az);AA.end=d.timezone[AB](AA.end,Az)}else{AA.start=d.timezone[AB](AA.start,AA.startTimezone||AA.endTimezone);AA.end=d.timezone[AB](AA.end,AA.endTimezone||AA.startTimezone)}}else{if(Az){AA.start=d.timezone[AB](AA.start,Az);AA.end=d.timezone[AB](AA.end,Az)}}}else{if(AA.startTimezone||AA.endTimezone){AA.start=d.timezone[AB](AA.start,AA.startTimezone||AA.endTimezone);AA.end=d.timezone[AB](AA.end,AA.endTimezone||AA.startTimezone);if(Az){AA.start=d.timezone.convert(AA.start,AA.startTimezone||AA.endTimezone,Az);AA.end=d.timezone.convert(AA.end,AA.endTimezone||AA.startTimezone,Az)}}else{if(Az){AA.start=d.timezone[AB](AA.start,Az);AA.end=d.timezone[AB](AA.end,Az)}}}if(AD){delete AA.uid}}return AE}function a(AC,Az){var Ay=AC.length,AB=0,AA;for(;AB<Ay;AB++){AA=AC[AB];if(AA.uid===Az){return AA}}}function Af(Az){var Ay=new Date(1980,0,1);Ay.setHours(Az.getHours(),Az.getMinutes(),Az.getSeconds(),Az.getMilliseconds());return Ay}var G=d.Class.extend({init:function(AA,Az){var Ay=AA.timezone;this.reader=Az;if(Az.model){this.model=Az.model}this.timezone=Ay;this.data=f(u.proxy(this.data,this),Ay);this.serialize=Aq(u.proxy(this.serialize,this),Ay)},errors:function(Ay){return this.reader.errors(Ay)},parse:function(Ay){return this.reader.parse(Ay)},data:function(Ay){return this.reader.data(Ay)},total:function(Ay){return this.reader.total(Ay)},groups:function(Ay){return this.reader.groups(Ay)},aggregates:function(Ay){return this.reader.aggregates(Ay)},serialize:function(Ay){return this.reader.serialize(Ay)}});function S(AG){if(AG.filter("[name=end]").length){var AE=AG.closest(".k-scheduler-edit-form");var AD=AE.find("[name=start]:visible");var AH=AE.find("[name=end]:visible");if(AH[0]&&AD[0]){var Az,AB;var AK=d.widgetInstance(AD,d.ui);var AC=d.widgetInstance(AH,d.ui);var AA=AE.data("kendoEditable");var AJ=AA?AA.options.model:null;if(AK&&AC){Az=AK.value();AB=AC.value()}else{Az=d.parseDate(AD.val());AB=d.parseDate(AH.val())}if(Az&&AB){if(AJ){var Ay=AD.attr(d.attr("timezone"));var AI=AJ.startTimezone;var AF=AJ.endTimezone;AI=AI||AF;AF=AF||AI;if(AI){if(Ay){Az=d.timezone.convert(AJ.start,AI,Ay);AB=d.timezone.convert(AJ.end,AF,Ay)}else{Az=d.timezone.remove(AJ.start,AI);AB=d.timezone.remove(AJ.end,AF)}}}return Az<=AB}}}return true}var v=d.data.Model.define({init:function(Az){var Ay=this;d.data.Model.fn.init.call(Ay,Az)},clone:function(AA,Ay){var Az=this.uid,AB=new this.constructor(u.extend({},this.toJSON(),AA));if(!Ay){AB.uid=Az}return AB},duration:function(){var Az=this.end;var AA=this.start;var Ay=(Az.getTimezoneOffset()-AA.getTimezoneOffset())*d.date.MS_PER_MINUTE;return Az-AA-Ay},expand:function(AA,Az,Ay){return O?O.expand(this,AA,Az,Ay):[this]},update:function(Ay){for(var Az in Ay){this.set(Az,Ay[Az])}if(this.startTime){this.set("startTime",Af(this.start))}if(this.endTime){this.set("endTime",Af(this.end))}},isMultiDay:function(){return this.isAllDay||this.duration()>=d.date.MS_PER_DAY},isException:function(){return this.id&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return !!(this.recurrenceRule||this.recurrenceId)},isRecurrenceHead:function(){return !!(this.id&&this.recurrenceRule)},toOccurrence:function(Ay){Ay=u.extend(Ay,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId,id:this.defaults.id});Ay[this.idField]=this.defaults.id;return this.clone(Ay,true)},toJSON:function(){var Ay=d.data.Model.fn.toJSON.call(this);Ay.uid=this.uid;delete Ay.startTime;delete Ay.endTime;return Ay},set:function(Ay,AC){var AA=this.isAllDay||false;d.data.Model.fn.set.call(this,Ay,AC);if(Ay=="isAllDay"&&AC!=AA){var AD=d.date.getDate(this.start);var Az=new Date(this.end);var AB=d.date.getMilliseconds(Az);if(AB===0&&AC){AB=F}this.set("start",AD);if(AC===true){d.date.setTime(Az,-AB);if(Az<AD){Az=AD}}else{d.date.setTime(Az,F-AB)}this.set("end",Az)}},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:true}},startTimezone:{type:"string"},end:{type:"date",validation:{required:true,dateCompare:{value:S,message:"End date should be greater than or equal to the start date"}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:false},description:{type:"string"}}});var Z=z.extend({init:function(Ay){z.fn.init.call(this,At(true,{},{schema:{modelBase:v,model:v}},Ay));this.reader=new G(this.options.schema,this.reader)},expand:function(AA,Az){var AB=this.view(),Ay={};if(AA&&Az){Az=new Date(Az.getTime()+F-1);Ay={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:AA},{field:"end",operator:"gte",value:AA},{field:"start",operator:"lte",value:Az}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(AA.getTime()+F-1)},{field:"end",operator:"gte",value:AA}]}]};AB=new d.data.Query(Al(AB,AA,Az,this.reader.timezone)).filter(Ay).toArray()}return AB},cancelChanges:function(Ay){if(Ay&&Ay.isOccurrence()){this._removeExceptionDate(Ay)}z.fn.cancelChanges.call(this,Ay)},insert:function(Ay,Az){if(!Az){return}if(!(Az instanceof v)){var AA=Az;Az=this._createNewModel();Az.accept(AA)}if(Az.isRecurrenceHead()||Az.recurrenceId){Az=Az.recurrenceId?Az:Az.toOccurrence();this._addExceptionDate(Az)}return z.fn.insert.call(this,Ay,Az)},remove:function(Ay){if(Ay.isRecurrenceHead()){this._removeExceptions(Ay)}else{if(Ay.isRecurring()){this._addExceptionDate(Ay)}}return z.fn.remove.call(this,Ay)},_removeExceptions:function(AA){var AB=this.data().slice(0),Ay=AB.shift(),Az=AA.id;while(Ay){if(Ay.recurrenceId===Az){z.fn.remove.call(this,Ay)}Ay=AB.shift()}AA.set(Ag,"")},_removeExceptionDate:function(AA){if(AA.recurrenceId){var Az=this.get(AA.recurrenceId);if(Az){var AB=AA.start;AB=d.timezone.convert(AB,this.reader.timezone||AB.getTimezoneOffset(),"Etc/UTC");var Ay=d.toString(AB,U)+";";Az.set(Ag,Az.recurrenceException.replace(Ay,""))}}},_addExceptionDate:function(AB){var AC=AB.start;var Ay=this.reader.timezone;var AA=this.get(AB.recurrenceId);var Az=AA.recurrenceException||"";if(!O.isException(Az,AC,Ay)){AC=d.timezone.convert(AC,Ay||AC.getTimezoneOffset(),"Etc/UTC");Az+=d.toString(AC,U)+";";AA.set(Ag,Az)}}});function Al(AC,AD,AA,Ay){var Az=AC.length,AE=[],AB=0;for(;AB<Az;AB++){AE=AE.concat(AC[AB].expand(AD,AA,Ay))}return AE}Z.create=function(Az){Az=Az&&Az.push?{data:Az}:Az;var Ay=Az||{},AA=Ay.data;Ay.data=AA;if(!(Ay instanceof Z)&&Ay instanceof d.data.DataSource){throw new Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported")}return Ay instanceof Z?Ay:new Z(Ay)};At(true,d.data,{SchedulerDataSource:Z,SchedulerDataReader:G,SchedulerEvent:v});var l={update:{text:"Save",className:"k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-scheduler-delete",iconClass:"k-icon"}};function Ab(Ay){delete Ay.name;delete Ay.prefix;delete Ay.remove;delete Ay.edit;delete Ay.add;delete Ay.navigate;return Ay}function s(Ay){return function(Az){u(d.format('<select data-{0}bind="value:{1}">',d.ns,Ay.field)).appendTo(Az).kendoDropDownList({dataTextField:Ay.dataTextField,dataValueField:Ay.dataValueField,dataSource:Ay.dataSource,valuePrimitive:Ay.valuePrimitive,optionLabel:"None",template:d.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',Ay.dataColorField,Ay.dataTextField)})}}function A(Ay){return function(AB){var AA="";var AD=Ay.dataSource.view();for(var AC=0,Az=AD.length;AC<Az;AC++){AA+=d.format('<option value="{0}">{1}</option>',d.getter(Ay.dataValueField)(AD[AC]),d.getter(Ay.dataTextField)(AD[AC]))}u(d.format('<select data-{0}bind="value:{1}">{2}</select>',d.ns,Ay.field,AA)).appendTo(AB)}}function p(Ay){return function(Az){u(d.format('<select data-{0}bind="value:{1}">',d.ns,Ay.field)).appendTo(Az).kendoMultiSelect({dataTextField:Ay.dataTextField,dataValueField:Ay.dataValueField,dataSource:Ay.dataSource,valuePrimitive:Ay.valuePrimitive,itemTemplate:d.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',Ay.dataColorField,Ay.dataTextField),tagTemplate:d.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',Ay.dataColorField,Ay.dataTextField)})}}function An(Ay){return function(AB){var AA="";var AD=Ay.dataSource.view();for(var AC=0,Az=AD.length;AC<Az;AC++){AA+=d.format('<option value="{0}">{1}</option>',d.getter(Ay.dataValueField)(AD[AC]),d.getter(Ay.dataTextField)(AD[AC]))}u(d.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',d.ns,Ay.field,AA,Ay.valuePrimitive)).appendTo(AB)}}function C(Az,AB){var AC=Az.end.getTime()-Az.start.getTime();var Ay=new Date(Az.start.getTime());d.date.setTime(Ay,AB);var AA=new Date(Ay.getTime());d.date.setTime(AA,AC);return{start:Ay,end:AA}}var Am={mobile:{dateRange:i,timezonePopUp:q,timezone:Ai,recurrence:Ao,description:'<textarea name="description" class="k-textbox"/>',multipleResources:An,resources:A},desktop:{dateRange:y,timezonePopUp:Y,timezone:x,recurrence:I,description:'<textarea name="description" class="k-textbox"/>',multipleResources:p,resources:s}};var o=d.Observable.extend({init:function(Az,Ay){d.Observable.fn.init.call(this);this.element=Az;this.options=At(true,{},this.options,Ay);this.createButton=this.options.createButton},fields:function(AA,AF){var AC=this;var AG=AC.options.messages;var Ay=AC.options.timezone;var AD=function(AH){AH.preventDefault();AC._initTimezoneEditor(AF,this)};var AE=[{field:"title",title:AG.editor.title},{field:"start",title:AG.editor.start,editor:AA.dateRange,timezone:Ay},{field:"end",title:AG.editor.end,editor:AA.dateRange,timezone:Ay},{field:"isAllDay",title:AG.editor.allDayEvent}];if(d.timezone.windows_zones&&!AF.isAllDay){AE.push({field:"timezone",title:AG.editor.timezone,editor:AA.timezonePopUp,click:AD,messages:AG.editor,model:AF});AE.push({field:"startTimezone",title:AG.editor.startTimezone,editor:AA.timezone});AE.push({field:"endTimezone",title:AG.editor.endTimezone,editor:AA.timezone})}if(!AF.recurrenceId){AE.push({field:"recurrenceRule",title:AG.editor.repeat,editor:AA.recurrence,timezone:Ay,messages:AG.recurrenceEditor,pane:this.pane})}if("description" in AF){AE.push({field:"description",title:AG.editor.description,editor:AA.description})}for(var AB=0;AB<this.options.resources.length;AB++){var Az=this.options.resources[AB];AE.push({field:Az.field,title:Az.title,editor:Az.multiple?AA.multipleResources(Az):AA.resources(Az)})}return AE},end:function(){return this.editable.end()},_buildEditTemplate:function(AI,AH,AG){var AJ=this.options.messages;var Az=At({},d.Template,this.options.templateSettings);var Ay=Az.paramName;var AB=this.options.editable.template;var AE="";if(AB){if(typeof AB===Aw){AB=window.unescape(AB)}AE+=(d.template(AB,Az))(AI)}else{for(var AC=0,AD=AH.length;AC<AD;AC++){var AF=AH[AC];if(AF.field==="startTimezone"){AE+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">';AE+='<div class="k-edit-form-container">';AE+='<div class="k-edit-label"></div>';AE+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+AJ.editor.separateTimezones+"</label></div>"}AE+='<div class="k-edit-label"><label for="'+AF.field+'">'+(AF.title||AF.field||"")+"</label></div>";if((!AI.editable||AI.editable(AF.field))){AG.push(AF);AE+="<div "+d.attr("container-for")+'="'+AF.field+'" class="k-edit-field"></div>'}else{var AA="#:";if(AF.field){AF=d.expr(AF.field,Ay);AA+=AF+"==null?'':"+AF}else{AA+="''"}AA+="#";AA=d.template(AA,Az);AE+='<div class="k-edit-field">'+AA(AI)+"</div>"}if(AF.field==="endTimezone"){AE+=this._createEndTimezoneButton()}}}return AE},_createEndTimezoneButton:function(){return"</div></div>"},_revertTimezones:function(Ay){Ay.set("startTimezone",this._startTimezone);Ay.set("endTimezone",this._endTimezone);delete this._startTimezone;delete this._endTimezone}});var Ac=o.extend({init:function(){o.fn.init.apply(this,arguments);this.pane=d.mobile.ui.Pane.wrap(this.element);this.pane.element.parent().css("height",this.options.height);this.view=this.pane.view();this._actionSheetButtonTemplate=d.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>');this._actionSheetPopupOptions=u(document.documentElement).hasClass("km-root")?{modal:false}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"}},options:{animations:{left:"slide",right:"slide:right"}},destroy:function(){this.close();this.unbind();this.pane.destroy()},_initTimezoneEditor:function(AG){var AC=this;var AF=AC.pane;var AH=AC.options.messages;var AB=AC.timezoneView;var AE=AC.container.find(".k-scheduler-timezones");var Az=AE.find(".k-timezone-toggle");var AD=AE.find(".k-edit-label:last").add(AE.find(".k-edit-field:last"));var AA=function(AI){if(AI.field==="startTimezone"){var AJ=AG.startTimezone;Az.prop("disabled",!AJ);if(!AJ){AD.hide();AG.set("endTimezone","");Az.prop("checked",false)}}};AC._startTimezone=AG.startTimezone||"";AC._endTimezone=AG.endTimezone||"";if(!AB){var Ay='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+AH.cancel+"</a>"+AH.editor.timezoneTitle+'<a href="#" class="k-button k-scheduler-update">'+AH.save+"</a></div></div>";this.timezoneView=AB=AF.append(Ay);AB.contentElement().append(AE.show());AB.element.on(e+Av,".k-scheduler-cancel, .k-scheduler-update",function(AI){AI.preventDefault();AI.stopPropagation();if(u(this).hasClass("k-scheduler-cancel")){AC._revertTimezones(AG)}AG.unbind("change",AA);var AJ=AF.element.find("#edit").data("kendoMobileView");var AK=N(AG,AH.editor.noTimezone);AJ.contentElement().find(".k-timezone-button").text(AK);AF.navigate(AJ,AC.options.animations.right)});Az.click(function(){AD.toggle(Az.prop("checked"));AG.set("endTimezone","")});AG.bind("change",AA)}Az.prop("checked",AG.endTimezone).prop("disabled",!AG.startTimezone);if(AG.endTimezone){AD.show()}else{AD.hide()}AF.navigate(AB,AC.options.animations.left)},_createActionSheetButton:function(Ay){Ay.template=this._actionSheetButtonTemplate;return this.createButton(Ay)},showDialog:function(AB){var Ay="";var Az='<ul><li class="km-actionsheet-title">'+AB.title+"</li>";var AC=this.element.find(".k-event["+d.attr("uid")+"='"+AB.model.uid+"']");if(this.container){AC=this.container.find(".k-scheduler-delete");if(AC[0]){Ay="phone"}}for(var AD=0;AD<AB.buttons.length;AD++){Az+=this._createActionSheetButton(AB.buttons[AD])}Az+="</ul>";var AA=u(Az).appendTo(this.pane.view().element).kendoMobileActionSheet({type:Ay,cancel:this.options.messages.cancel,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(AE){var AF=AA.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(u(AE.currentTarget));if(AF>-1){AA.close();AB.buttons[AF].click()}},popup:this._actionSheetPopupOptions}).data("kendoMobileActionSheet");AA.open(AC)},editEvent:function(AJ){var AI=this.pane;var AC="";var AK=this.options.messages;var AG=AK.save;var AE=AK.destroy;var Az=AK.cancel;var AB=AK.editor.editorTitle;AC+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" '+d.attr("uid")+'="'+AJ.uid+'"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+Az+"</a>"+AB+'<a href="#" class="k-button k-scheduler-update">'+AG+"</a></div>";var AH=this.fields(Am.mobile,AJ);var AD=this;var AA=[];AC+=this._buildEditTemplate(AJ,AH,AA);if(!AJ.isNew()){AC+='<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">'+AE+"</a></div>"}AC+="</div>";var Ay=AI.append(AC);var AF=this.container=Ay.element;this.editable=AF.kendoEditable({fields:AA,model:AJ,clearContainer:false,validateOnBlur:true}).data("kendoEditable");AF.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){u(this).next().children("input").click()});if(!this.trigger("edit",{container:AF,model:AJ})){AF.on(e+Av,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete",function(AM){AM.preventDefault();AM.stopPropagation();var AL=u(this);if(!AL.hasClass("k-scheduler-edit")){var AN="cancel";if(AL.hasClass("k-scheduler-update")){AN="save"}else{if(AL.hasClass("k-scheduler-delete")){AN="remove"}}AD.trigger(AN,{container:AF,model:AJ})}else{AI.navigate("#edit",AD.options.animations.right)}});AI.navigate(Ay,AD.options.animations.left)}else{this.trigger("cancel",{container:AF,model:AJ})}return this.editable},_views:function(){return this.pane.element.find(d.roleSelector("view")).not(this.view.element)},close:function(){if(this.container){this.pane.navigate("",this.options.animations.right);var Az=this._views();var AB;for(var AA=0,Ay=Az.length;AA<Ay;AA++){AB=Az.eq(AA).data("kendoMobileView");if(AB){AB.purge()}}Az.remove();this.container=null;if(this.editable){this.editable.destroy();this.editable=null}this.timezoneView=null}}});var M=o.extend({destroy:function(){this.close();this.unbind()},editEvent:function(Ay){return this.editable=this._createPopupEditor(Ay)},close:function(){var Ay=this;var Az=function(){if(Ay.editable){Ay.editable.destroy();Ay.editable=null;Ay.container=null}};if(Ay.editable){if(Ay._timezonePopup&&Ay._timezonePopup.data("kendoWindow")){Ay._timezonePopup.data("kendoWindow").destroy();Ay._timezonePopup=null}Ay.container.data("kendoWindow").bind("deactivate",Az).close()}},_createEndTimezoneButton:function(){var Az=this.options.messages;var Ay="";Ay+='<div class="k-edit-buttons k-state-default">';Ay+=this.createButton({name:"savetimezone",text:Az.save})+this.createButton({name:"canceltimezone",text:Az.cancel});Ay+="</div></div></div>";return Ay},showDialog:function(AA){var Ay=d.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",AA.text);Ay+='<div class="k-edit-buttons k-state-default">';for(var AC=0;AC<AA.buttons.length;AC++){Ay+=this.createButton(AA.buttons[AC])}Ay+="</div></div></div>";var Az=this.element;var AB=u(Ay).appendTo(Az).eq(0).on("click",".k-button",function(AD){AD.preventDefault();AB.close();var AE=u(AD.currentTarget).index();AA.buttons[AE].click()}).kendoWindow({modal:true,resizable:false,draggable:false,title:AA.title,visible:false,close:function(){this.destroy();Az.focus()}}).getKendoWindow();AB.center().open()},_createPopupEditor:function(AK){var AE=this;var AA=AE.options.editable;var AJ="<div "+d.attr("uid")+'="'+AK.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">';var AL=AE.options.messages;var AH=AL.save;var Az=AL.cancel;var Ay=AL.destroy;var AI=this.fields(Am.desktop,AK);var AF=[];AJ+=this._buildEditTemplate(AK,AI,AF);var AC;var AD=h(AA)?AA.window:{};AJ+='<div class="k-edit-buttons k-state-default">';AJ+=this.createButton({name:"update",text:AH,attr:AC})+this.createButton({name:"canceledit",text:Az,attr:AC});if(!AK.isNew()){AJ+=this.createButton({name:"delete",text:Ay,attr:AC})}AJ+="</div></div></div>";var AG=this.container=u(AJ).appendTo(AE.element).eq(0).kendoWindow(At({modal:true,resizable:false,draggable:true,title:AL.editor.editorTitle,visible:false,close:function(AM){if(AM.userTriggered){if(AE.trigger(Ak,{container:AG,model:AK})){AM.preventDefault()}}}},AD));var AB=AG.kendoEditable({fields:AF,model:AK,clearContainer:false,validateOnBlur:true}).data("kendoEditable");if(!AE.trigger(D,{container:AG,model:AK})){AG.data("kendoWindow").center().open();AG.on(e+Av,"a.k-scheduler-cancel",function(AM){AM.preventDefault();AM.stopPropagation();AE.trigger(Ak,{container:AG,model:AK})});AG.on(e+Av,"a.k-scheduler-update",function(AM){AM.preventDefault();AM.stopPropagation();AE.trigger("save",{container:AG,model:AK})});AG.on(e+Av,"a.k-scheduler-delete",function(AM){AM.preventDefault();AM.stopPropagation();AE.trigger(j,{container:AG,model:AK})})}else{AE.trigger(Ak,{container:AG,model:AK})}return AB},_initTimezoneEditor:function(AI,AH){var AC=this;var AF=AC.container.find(".k-scheduler-timezones");var Az=AF.find(".k-timezone-toggle");var AE=AF.find(".k-edit-label:last").add(AF.find(".k-edit-field:last"));var AA=AF.find(".k-scheduler-savetimezone");var AB=AF.find(".k-scheduler-canceltimezone");var AD=AC._timezonePopup;var AG=function(AJ){if(AJ.field==="startTimezone"){var AK=AI.startTimezone;Az.prop("disabled",!AK);if(!AK){AE.hide();AI.set("endTimezone","");Az.prop("checked",false)}}};var Ay;AC._startTimezone=AI.startTimezone;AC._endTimezone=AI.endTimezone;if(!AD){AC._timezonePopup=AD=AF.kendoWindow({modal:true,resizable:false,draggable:true,title:AC.options.messages.editor.timezoneEditorTitle,visible:false,close:function(AJ){AI.unbind("change",AG);if(AJ.userTriggered){AC._revertTimezones(AI)}if(AH){AH.focus()}}});Az.click(function(){AE.toggle(Az.prop("checked"));AI.set("endTimezone","")});AA.click(function(AJ){AJ.preventDefault();Ay.close()});AB.click(function(AJ){AJ.preventDefault();AC._revertTimezones(AI);Ay.close()});AI.bind("change",AG)}Az.prop("checked",AI.endTimezone).prop("disabled",!AI.startTimezone);if(AI.endTimezone){AE.show()}else{AE.hide()}Ay=AD.data("kendoWindow");Ay.center().open()}});var H=X.extend({init:function(AA,Az){var Ay=this;X.fn.init.call(Ay,AA,Az);if(!Ay.options.views||!Ay.options.views.length){Ay.options.views=["day","week"]}Ay.resources=[];Ay._initModel();Ay._wrapper();Ay._views();Ay._toolbar();Ay._dataSource();Ay._resources();Ay._resizeHandler=Ax(Ay.resize,Ay);Ay.wrapper.on("mousedown"+Av+" selectstart"+Av,function(AB){AB.preventDefault()});if(Ay.options.editable&&Ay.options.editable.resize!==false){Ay._resizable()}Ay._movable();u(window).on("resize"+Av,Ay._resizeHandler);if(Ay.options.messages&&Ay.options.messages.recurrence){O.options=Ay.options.messages.recurrence}Ay._selectable();Ay._ariaId=d.guid();Ay._createEditor()},_isMobile:function(){var Ay=this.options;return(Ay.mobile===true&&d.support.mobileOS)||Ay.mobile==="phone"||Ay.mobile==="tablet"},_isMobilePhoneView:function(){var Ay=this.options;return(Ay.mobile===true&&d.support.mobileOS&&!d.support.mobileOS.tablet)||Ay.mobile==="phone"},_selectable:function(){var AA=this,Az=AA.wrapper,Ay=d.support.mobileOS?"touchend":"mousedown";if(!AA.options.selectable){return}AA._tabindex();Az.on(Ay,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(AC){AA._createSelection(AC.currentTarget);Az.focus()});var AB=u.proxy(AA._mouseMove,AA);Az.on("mousedown"+Av,".k-scheduler-header-all-day td, .k-scheduler-content td",function(){Az.on("mousemove"+Av,".k-scheduler-header-all-day td, .k-scheduler-content td",AB)});Az.on("mouseup"+Av+" mouseleave"+Av,function(){Az.off("mousemove"+Av,".k-scheduler-header-all-day td, .k-scheduler-content td",AB)});Az.on("focus"+Av,function(){if(!AA._selection){AA._createSelection(u(".k-scheduler-content").find("td:first"))}AA._select()});Az.on("focusout"+Av,function(){AA.view().clearSelection();AA._ctrlKey=AA._shiftKey=false});Az.on("keydown"+Av,Ax(AA._keydown,AA));Az.on("keyup"+Av,function(AC){AA._ctrlKey=AC.ctrlKey;AA._shiftKey=AC.shiftKey})},_select:function(){var Ay=this.view();var AF=this.wrapper;var AB=Ay.current();var Az=this._selection;if(AB){AB.removeAttribute("id");AB.removeAttribute("aria-label");AF.removeAttr("aria-activedescendant")}Ay.select(Az);AB=Ay.current();if(AB){var AC;var AA=Az;var AE=this._selectedEvents();var AD=Ay._selectedSlots;if(AE[0]){AA=AE[0]||Az;AC=d.format(this.options.messages.ariaEventLabel,AA.title,AA.start,AA.start)}else{AC=d.format(this.options.messages.ariaSlotLabel,AA.start,AA.end)}AB.setAttribute("id",this._ariaId);AB.setAttribute("aria-label",AC);AF.attr("aria-activedescendant",this._ariaId);this.trigger("change",{start:Az.start,end:Az.end,events:AE,slots:AD,resources:Ay._resourceBySlot(Az)})}},_selectedEvents:function(){var AA=this._selection.events;var Ay=AA.length;var AC=0;var AB;var Az=[];for(;AC<Ay;AC++){AB=this.occurrenceByUid(AA[AC]);if(AB){Az.push(AB)}}return Az},_mouseMove:function(Ay){var Az=this;clearTimeout(Az._moveTimer);Az._moveTimer=setTimeout(function(){var AC=Az.view();var AE=Az._selection;if(AE){var AB=AC.selectionByElement(u(Ay.currentTarget));if(AB&&AE.groupIndex===AB.groupIndex){var AD=AB.startDate();var AA=AB.endDate();if(AD>=AE.end){AE.backward=false}else{if(AA<=AE.start){AE.backward=true}}if(AE.backward){AE.start=AD}else{AE.end=AA}Az._select()}}},5)},_viewByIndex:function(AA){var Az,Ay=this.views;for(Az in Ay){if(!AA){return Az}AA--}},_keydown:function(Az){var AA=this,Ay=Az.keyCode,AC=AA.view(),AE=AC.options.editable,AD=AA._selection,AB=Az.shiftKey;AA._ctrlKey=Az.ctrlKey;AA._shiftKey=Az.shiftKey;if(Ay===b.TAB){if(AC.moveToEvent(AD,AB)){AA._select();Az.preventDefault()}}else{if(AE&&Ay===b.ENTER){if(AD.events.length){if(AE.update!==false){AA.editEvent(AD.events[0])}}else{if(AE.create!==false){if(AD.isAllDay){AD=u.extend({},AD,{end:d.date.addDays(AD.end,-1)})}AA.addEvent(AD)}}}else{if(Ay===b.DELETE){AA.removeEvent(AD.events[0])}else{if(Ay>=49&&Ay<=57){AA.view(AA._viewByIndex(Ay-49))}else{if(AC.move(AD,Ay,AB)){if(AC.inRange(AD)){AA._select()}else{AA.date(AD.start)}Az.preventDefault()}}}}}AA._adjustSelectedDate()},_createSelection:function(AA){var Az,Ay,AB;if(!this._selection||(!this._ctrlKey&&!this._shiftKey)){this._selection={events:[],groupIndex:0}}AA=u(AA);AB=this._selection;Az=AA.attr(d.attr("uid"));Ay=this.view().selectionByElement(AA);if(Ay){AB.groupIndex=Ay.groupIndex||0}if(Az){Ay=a(this._data,Az)}if(Ay&&Ay.uid){Az=[Ay.uid]}this._updateSelection(Ay,Az);this._adjustSelectedDate()},_updateSelection:function(Az,AB){var AC=this._selection;if(Az&&AC){if(this._shiftKey&&AC.start&&AC.end){var Ay=Az.end<AC.end,AA=this.view();AC.end=Az.endDate?Az.endDate():Az.end;if(Ay&&AA._timeSlotInterval){d.date.setTime(AC.end,-AA._timeSlotInterval())}}else{AC.start=Az.startDate?Az.startDate():Az.start;AC.end=Az.endDate?Az.endDate():Az.end}if("isDaySlot" in Az){AC.isAllDay=Az.isDaySlot}else{AC.isAllDay=Az.isAllDay}AC.index=Az.index;if(this._ctrlKey){AC.events=AC.events.concat(AB||[])}else{AC.events=AB||[]}}},options:{name:"Scheduler",date:c,editable:true,autoBind:true,snap:true,mobile:false,timezone:"",min:new Date(1900,0,1),max:new Date(2099,11,31),messages:{today:"Today",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],direction:"horizontal"},views:[],selectable:false},events:[j,D,Ak,V,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function(){var Ay=this,Az;X.fn.destroy.call(Ay);if(Ay.dataSource){Ay.dataSource.unbind(k,Ay._refreshHandler)}if(Ay.calendar){Ay.calendar.destroy();Ay.popup.destroy()}if(Ay.view()){Ay.view().destroy()}if(Ay._editor){Ay._editor.destroy()}Az=Ay.element.add(Ay.wrapper).add(Ay.toolbar).add(Ay.popup);Az.off(Av);u(window).off("resize"+Av,Ay._resizeHandler);d.destroy(Ay.wrapper)},setDataSource:function(Ay){this.options.dataSource=Ay;this._dataSource();if(this.options.autoBind){Ay.fetch()}},items:function(){return this.wrapper.children(".k-event, .k-task")},_movable:function(){var Az;var AA;var AG;var AF;var AC;var AD=this;var AB=AD._isMobile();var AE=AD.options.editable&&AD.options.editable.move!==false;var Ay=AD.options.editable&&AD.options.editable.resize!==false;if(AE||(Ay&&AB)){AD._moveDraggable=new d.ui.Draggable(AD.element,{distance:0,filter:".k-event",holdToDrag:AB});if(AE){AD._moveDraggable.bind("dragstart",function(AI){var AJ=AD.view();var AH=AI.currentTarget;if(AB&&!AH.hasClass("k-event-active")){AD.element.find(".k-event-active").removeClass("k-event-active");AI.preventDefault();return}AC=AD.occurrenceByUid(AH.attr(d.attr("uid")));Az=AJ._slotByPosition(AI.x.location,AI.y.location);AG=Az.startOffset(AI.x.location,AI.y.location,AD.options.snap);AA=Az;if(!Az||AD.trigger("moveStart",{event:AC})){AI.preventDefault()}}).bind("drag",function(AH){var AJ=AD.view();var AK=AJ._slotByPosition(AH.x.location,AH.y.location);if(!AK){return}AF=AK.startOffset(AH.x.location,AH.y.location,AD.options.snap);var AL=AF-AG;AJ._updateMoveHint(AC,AK.groupIndex,AL);var AI=C(AC,AL);if(!AD.trigger("move",{event:AC,slot:{element:AK.element,start:AK.startDate(),end:AK.endDate()},resources:AJ._resourceBySlot(AK),start:AI.start,end:AI.end})){AA=AK}else{AJ._updateMoveHint(AC,AK.groupIndex,AL)}}).bind("dragend",function(AH){AD.view()._removeMoveHint();var AM=AF-AG;var AN=C(AC,AM);var AJ=AN.start;var AL=AN.end;var AI=AD.view()._resourceBySlot(AA);var AO=AD.view()._resourceBySlot(Az);var AK=AD.trigger("moveEnd",{event:AC,slot:{element:AA.element,start:AA.startDate(),end:AA.endDate()},start:AJ,end:AL,resources:AI});if(!AK&&(AC.start.getTime()!=AJ.getTime()||AC.end.getTime()!=AL.getTime()||d.stringify(AI)!=d.stringify(AO))){AD._updateEvent(null,AC,u.extend({start:AJ,end:AL},AI))}AH.currentTarget.removeClass("k-event-active");this.cancelHold()}).bind("dragcancel",function(){AD.view()._removeMoveHint();this.cancelHold()})}if(AB){AD._moveDraggable.bind("hold",function(AH){if(AD.element.find(".k-scheduler-monthview").length){AH.preventDefault()}AD.element.find(".k-event-active").removeClass("k-event-active");AH.currentTarget.addClass("k-event-active")});AD._moveDraggable.userEvents.bind("press",function(AH){AH.preventDefault()})}}},_resizable:function(){var AA;var AC;var AD;var Ay;var Az=this;function AB(AE){var AG={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(var AF in AG){if(AE.hasClass(AF)){return AG[AF]}}}Az._resizeDraggable=new d.ui.Draggable(Az.element,{distance:0,filter:".k-resize-handle",dragstart:function(AF){var AG=u(AF.currentTarget);var AE=AG.closest(".k-event");var AH=AE.attr(d.attr("uid"));AD=Az.occurrenceByUid(AH);Ay=Az.view()._slotByPosition(AF.x.location,AF.y.location);if(Az.trigger("resizeStart",{event:AD})){AF.preventDefault()}AA=d.date.toUtcTime(AD.start);AC=d.date.toUtcTime(AD.end)},drag:function(AF){if(!Ay){return}var AG=u(AF.currentTarget);var AE=AB(AG);var AH=Az.view();var AK=AH._slotByPosition(AF.x.location,AF.y.location);if(!AK||Ay.groupIndex!=AK.groupIndex){return}Ay=AK;var AI=AA;var AJ=AC;if(AE=="south"){if(!Ay.isDaySlot&&Ay.end-d.date.toUtcTime(AD.start)>=AH._timeSlotInterval()){if(AD.isAllDay){AC=Ay.startOffset(AF.x.location,AF.y.location,Az.options.snap)}else{AC=Ay.endOffset(AF.x.location,AF.y.location,Az.options.snap)}}}else{if(AE=="north"){if(!Ay.isDaySlot&&d.date.toUtcTime(AD.end)-Ay.start>=AH._timeSlotInterval()){AA=Ay.startOffset(AF.x.location,AF.y.location,Az.options.snap)}}else{if(AE=="east"){if(Ay.isDaySlot&&d.date.toUtcTime(d.date.getDate(Ay.endDate()))>=d.date.toUtcTime(d.date.getDate(AD.start))){if(AD.isAllDay){AC=Ay.startOffset(AF.x.location,AF.y.location,Az.options.snap)}else{AC=Ay.endOffset(AF.x.location,AF.y.location,Az.options.snap)}}}else{if(AE=="west"){if(Ay.isDaySlot&&d.date.toUtcTime(d.date.getDate(AD.end))>=d.date.toUtcTime(d.date.getDate(Ay.startDate()))){AA=Ay.startOffset(AF.x.location,AF.y.location,Az.options.snap)}}}}}if(!Az.trigger("resize",{event:AD,slot:{element:Ay.element,start:Ay.startDate(),end:Ay.endDate()},start:d.timezone.toLocalDate(AA),end:d.timezone.toLocalDate(AC),resources:AH._resourceBySlot(Ay)})){AH._updateResizeHint(AD,Ay.groupIndex,AA,AC)}else{AA=AI;AC=AJ}},dragend:function(AF){var AH=u(AF.currentTarget);var AJ=new Date(AD.start.getTime());var AI=new Date(AD.end.getTime());var AE=AB(AH);Az.view()._removeResizeHint();if(AE=="south"){AI=d.timezone.toLocalDate(AC)}else{if(AE=="north"){AJ=d.timezone.toLocalDate(AA)}else{if(AE=="east"){AI=d.date.getDate(d.timezone.toLocalDate(AC))}else{if(AE=="west"){AJ=new Date(d.timezone.toLocalDate(AA));AJ.setHours(0);AJ.setMinutes(0)}}}}var AG=Az.trigger("resizeEnd",{event:AD,slot:{element:Ay.element,start:Ay.startDate(),end:Ay.endDate()},start:AJ,end:AI,resources:Az.view()._resourceBySlot(Ay)});if(!AG&&AI.getTime()>=AJ.getTime()){if(AD.start.getTime()!=AJ.getTime()||AD.end.getTime()!=AI.getTime()){Az._updateEvent(AE,AD,{start:AJ,end:AI})}}},dragcancel:function(){Az.view()._removeResizeHint()}})},_updateEvent:function(Ay,AB,AA){var AC=this;var AD=function(AH){try{AC._preventRefresh=true;AH.update(AA)}finally{AC._preventRefresh=false}AC.refresh();if(!AC.trigger(V,{event:AH})){AC._updateSelection(AH);AC.dataSource.sync()}};var AF=function(AH){if(AH.recurrenceRule){return AC.dataSource.getByUid(AH.uid)}else{return AC.dataSource.get(AH.recurrenceId)}};var Az=function(){var AH=AF(AB);if(Ay=="south"||Ay=="north"){if(AA.start){var AJ=d.date.getDate(AH.start);d.date.setTime(AJ,Aa(AA.start));AA.start=AJ}if(AA.end){var AI=d.date.getDate(AH.end);d.date.setTime(AI,Aa(AA.end));AA.end=AI}}AD(AH)};var AG=function(){var AH=AF(AB).toOccurrence({start:AB.start,end:AB.end});AD(AC.dataSource.add(AH))};var AE=AC.options.messages.recurrenceMessages;if(AB.recurrenceRule||AB.isOccurrence()){AC.showDialog({model:AB,title:AE.editWindowTitle,text:AE.editRecurring?AE.editRecurring:n,buttons:[{text:AE.editWindowOccurrence,click:AG},{text:AE.editWindowSeries,click:Az}]})}else{AD(AC.dataSource.getByUid(AB.uid))}},_modelForContainer:function(Ay){Ay=u(Ay).closest("["+d.attr("uid")+"]");return this.dataSource.getByUid(Ay.attr(d.attr("uid")))},showDialog:function(Ay){this._editor.showDialog(Ay)},focus:function(){this.wrapper.focus()},_confirmation:function(Ay,AD){var Az=this.options.editable;if(Az===true||Az.confirmation!==false){var AA=this.options.messages;var AB=typeof Az.confirmation===Aw?Az.confirmation:P;var AC=[{name:"destroy",text:AA.destroy,click:function(){Ay()}}];if(!(this._isMobile()&&d.mobile.ui.Pane)){AC.push({name:"canceledit",text:AA.cancel,click:function(){Ay(true)}})}this.showDialog({model:AD,text:AB,title:AA.deleteWindowTitle,buttons:AC})}else{Ay()}},addEvent:function(AC){var Ay=this._editor.editable;var AA=this.dataSource;var AB;AC=AC||{};var Az=this.trigger("add",{event:AC});if(!Az&&((Ay&&Ay.end())||!Ay)){this.cancelEvent();if(AC&&AC.toJSON){AC=AC.toJSON()}AB=AA.add(AC);if(AB){this.cancelEvent();this._editEvent(AB)}}},saveEvent:function(){var AA=this._editor;if(!AA){return}var Ay=AA.editable;var Az=AA.container;var AB=this._modelForContainer(Az);if(Az&&Ay&&Ay.end()&&!this.trigger(V,{container:Az,event:AB})){if(!AB.dirty){this._convertDates(AB,"remove")}if(AB.isRecurrenceHead()){this.dataSource._removeExceptions(AB)}this.dataSource.sync()}},cancelEvent:function(){var Az=this._editor;var Ay=Az.container;var AA;if(Ay){AA=this._modelForContainer(Ay);this.dataSource.cancelChanges(AA);Az.close()}},editEvent:function(Ay){var Az=typeof Ay=="string"?this.occurrenceByUid(Ay):Ay;if(!Az){return}this.cancelEvent();if(Az.isRecurring()){this._editRecurringDialog(Az)}else{this._editEvent(Az)}},_editEvent:function(Ay){this._createPopupEditor(Ay)},_editRecurringDialog:function(AC){var AA=this;var AB=function(){if(AC.isException()){AA._editEvent(AC)}else{AA.addEvent(AC)}};var Ay=function(){if(AC.recurrenceId){AC=AA.dataSource.get(AC.recurrenceId)}AA._editEvent(AC)};var Az=AA.options.messages.recurrenceMessages;AA.showDialog({model:AC,title:Az.editWindowTitle,text:Az.editRecurring?Az.editRecurring:n,buttons:[{text:Az.editWindowOccurrence,click:AB},{text:Az.editWindowSeries,click:Ay}]})},_createButton:function(AB){var AA=AB.template||E,Ay=typeof AB===Aw?AB:AB.name||AB.text,Az={className:"k-scheduler-"+(Ay||"").replace(/\s/g,""),text:Ay,attr:""};if(!Ay&&!(h(AB)&&AB.template)){throw new Error("Custom commands should have name specified")}if(h(AB)){if(AB.className){AB.className+=" "+Az.className}if(Ay==="edit"&&h(AB.text)){AB=At(true,{},AB);AB.text=AB.text.edit}Az=At(true,Az,l[Ay],AB)}else{Az=At(true,Az,l[Ay])}return d.template(AA)(Az)},_convertDates:function(AD,AB){var Az=this.dataSource.reader.timezone;var Ay=AD.startTimezone;var AA=AD.endTimezone;var AE=AD.start;var AC=AD.start;AB=AB||"apply";Ay=Ay||AA;AA=AA||Ay;if(Ay){if(Az){if(AB==="apply"){AE=d.timezone.convert(AD.start,Az,Ay);AC=d.timezone.convert(AD.end,Az,AA)}else{AE=d.timezone.convert(AD.start,Ay,Az);AC=d.timezone.convert(AD.end,AA,Az)}}else{AE=d.timezone[AB](AD.start,Ay);AC=d.timezone[AB](AD.end,AA)}AD._set("start",AE);AD._set("end",AC)}},_createEditor:function(){var Ay=this;var Az;if(this._isMobile()&&d.mobile.ui.Pane){Az=Ay._editor=new Ac(this.wrapper,At({},this.options,{timezone:Ay.dataSource.reader.timezone,resources:Ay.resources,createButton:Ax(this._createButton,this)}))}else{Az=Ay._editor=new M(this.wrapper,At({},this.options,{createButton:Ax(this._createButton,this),timezone:Ay.dataSource.reader.timezone,resources:Ay.resources}))}Az.bind("cancel",function(AA){if(Ay.trigger("cancel",{container:AA.container,event:AA.model})){AA.preventDefault();return}Ay.cancelEvent();Ay.focus()});Az.bind("edit",function(AA){if(Ay.trigger(D,{container:AA.container,event:AA.model})){AA.preventDefault()}});Az.bind("save",function(){Ay.saveEvent()});Az.bind("remove",function(AA){Ay.removeEvent(AA.model)})},_createPopupEditor:function(Az){var Ay=this._editor;if(!Az.isNew()){this._convertDates(Az)}this.editable=Ay.editEvent(Az)},removeEvent:function(Az){var Ay=this,AA=typeof Az=="string"?Ay.occurrenceByUid(Az):Az;if(!AA){return}if(AA.isRecurring()){Ay._deleteRecurringDialog(AA)}else{Ay._confirmation(function(AB){if(!AB){Ay._removeEvent(AA)}},AA)}},occurrenceByUid:function(Az){var Ay=this.dataSource.getByUid(Az);if(!Ay){Ay=a(this._data,Az)}return Ay},occurrencesInRange:function(Az,Ay){return new d.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:Az},{field:"end",operator:"gte",value:Az},{field:"start",operator:"lt",value:Ay}]},{logic:"and",filters:[{field:"start",operator:"lte",value:Az},{field:"end",operator:"gt",value:Az}]}]}).toArray()},_removeEvent:function(Ay){if(!this.trigger(j,{event:Ay})){if(this.dataSource.remove(Ay)){this.dataSource.sync()}}},_deleteRecurringDialog:function(AD){var AA=this;var AC=AD;var Ay=function(){var AE=AC.recurrenceId?AC:AC.toOccurrence();AA._removeEvent(AE)};var AB=function(){if(AC.recurrenceId){AC=AA.dataSource.get(AC.recurrenceId)}AA._removeEvent(AC)};var Az=AA.options.messages.recurrenceMessages;AA.showDialog({model:AD,title:Az.deleteWindowTitle,text:Az.deleteRecurring?Az.deleteRecurring:J,buttons:[{text:Az.deleteWindowOccurrence,click:Ay},{text:Az.deleteWindowSeries,click:AB}]})},_unbindView:function(Ay){Ay.destroy()},_bindView:function(Az){var Ay=this;if(Ay.options.editable){if(Ay._viewRemoveHandler){Az.unbind(j,Ay._viewRemoveHandler)}Ay._viewRemoveHandler=function(AA){Ay.removeEvent(AA.uid)};Az.bind(j,Ay._viewRemoveHandler);if(Ay._viewAddHandler){Az.unbind(K,Ay._viewAddHandler)}Ay._viewAddHandler=function(AA){Ay.addEvent(AA.eventInfo)};Az.bind(K,this._viewAddHandler);if(Ay._viewEditHandler){Az.unbind(D,Ay._viewEditHandler)}Ay._viewEditHandler=function(AA){Ay.editEvent(AA.uid)};Az.bind(D,this._viewEditHandler)}if(Ay._viewNavigateHandler){Az.unbind("navigate",Ay._viewNavigateHandler)}Ay._viewNavigateHandler=function(AB){if(AB.view){var AC="isWorkDay" in AB;var AA=AC?"changeWorkDay":"changeView";if(!Ay.trigger("navigate",{view:AB.view,isWorkDay:AB.isWorkDay,action:AA,date:AB.date})){if(AC){Ay._workDayMode=AB.isWorkDay}Ay._selectView(AB.view);Ay.date(AB.date)}}};Az.bind("navigate",Ay._viewNavigateHandler);if(Ay._viewActivateHandler){Az.unbind("activate",Ay._viewActivateHandler)}Ay._viewActivateHandler=function(){var AA=this;if(Ay._selection){AA.constrainSelection(Ay._selection);Ay._select();Ay._adjustSelectedDate()}};Az.bind("activate",Ay._viewActivateHandler)},_selectView:function(Az){var Ay=this;if(Az&&Ay.views[Az]){if(Ay._selectedView){Ay._unbindView(Ay._selectedView)}Ay._selectedView=Ay._renderView(Az);Ay._selectedViewName=Az;Ay.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected").end().find(".k-view-"+Az).addClass("k-state-selected")}},view:function(Az){var Ay=this;if(Az){Ay._selectView(Az);Ay.rebind();return}return Ay._selectedView},_renderView:function(Ay){var Az=this._initializeView(Ay);this._bindView(Az);this._model.set("formattedDate",Az.dateForTitle());return Az},resize:function(Az){var Ay=this.getSize(),AA=this._size;if(Az||!AA||Ay.width!==AA.width||Ay.height!==AA.height){this.refresh({action:"resize"});this._size=Ay}},_adjustSelectedDate:function(){var Az=this._model.selectedDate,Ay=this._selection,AA=Ay.start;if(AA&&!d.date.isInDateRange(Az,t(AA),t(Ay.end))){Az.setFullYear(AA.getFullYear(),AA.getMonth(),AA.getDate())}},_initializeView:function(Az){var AB=this.views[Az];if(AB){var AA=h(AB),Ay=AB.type;if(typeof Ay===Aw){Ay=d.getter(AB.type)(window)}if(Ay){AB=new Ay(this.wrapper,Ab(At(true,{},this.options,AA?AB:{},{resources:this.resources,date:this.date(),showWorkHours:this._workDayMode})))}else{throw new Error("There is no such view")}}return AB},_views:function(){var AA=this.options.views;var Ay;var AG;var AD;var AE;var Az;var AH;var AB;var AC;this.views={};for(AB=0,AC=AA.length;AB<AC;AB++){var AF=false;Ay=AA[AB];AE=h(Ay);if(AE){AH=Az=Ay.type?Ay.type:Ay;if(typeof AH!==Aw){Az=Ay.title;AF=true}}else{AH=Az=Ay}AG=R[Az];if(AG&&!AF){Ay.type=AG.type;AG.title=this.options.messages.views[Az];if(AG.type==="day"){AG.messages={allDay:this.options.messages.allDay}}else{if(AG.type==="agenda"){AG.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time}}}}Ay=At({title:Az},AG,AE?Ay:{});if(Az){this.views[Az]=Ay;if(!AD||Ay.selected){AD=Az}}}if(AD){this._selectedViewName=AD}},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var Ay=this,AA=Ay.options,Az=AA.dataSource;Az=Ar(Az)?{data:Az}:Az;if(AA.timezone&&!(Az instanceof Z)){Az=At(true,Az,{schema:{timezone:AA.timezone}})}if(Ay.dataSource&&Ay._refreshHandler){Ay.dataSource.unbind(k,Ay._refreshHandler).unbind("progress",Ay._progressHandler).unbind("error",Ay._errorHandler)}else{Ay._refreshHandler=Ax(Ay.refresh,Ay);Ay._progressHandler=Ax(Ay._requestStart,Ay);Ay._errorHandler=Ax(Ay._error,Ay)}Ay.dataSource=d.data.SchedulerDataSource.create(Az).bind(k,Ay._refreshHandler).bind("progress",Ay._progressHandler).bind("error",Ay._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_progress:function(Ay){var Az=this.element.find(".k-scheduler-content");d.ui.progress(Az,Ay)},_resources:function(){var Az=this;var AB=Az.options.resources;for(var AD=0;AD<AB.length;AD++){var AC=AB[AD];var AE=AC.field;var AA=AC.dataSource;if(!AE||!AA){throw new Error('The "field" and "dataSource" options of the scheduler resource are mandatory.')}Az.resources.push({field:AE,name:AC.name||AE,title:AC.title||AE,dataTextField:AC.dataTextField||"text",dataValueField:AC.dataValueField||"value",dataColorField:AC.dataColorField||"color",valuePrimitive:AC.valuePrimitive!=null?AC.valuePrimitive:true,multiple:AC.multiple||false,dataSource:d.data.DataSource.create(AA)})}var Ay=u.map(Az.resources,function(AF){return AF.dataSource.fetch()});u.when.apply(null,Ay).then(function(){if(Az.options.autoBind){Az.view(Az._selectedViewName)}else{Az._selectView(Az._selectedViewName)}})},_initModel:function(){var Ay=this;Ay._model=d.observable({selectedDate:this.options.date,formattedDate:""});Ay._model.bind("change",function(Az){if(Az.field==="selectedDate"){Ay.view(Ay._selectedViewName)}})},_wrapper:function(){var Ay=this.options.height;this.wrapper=this.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",true);if(this._isMobile()){this.wrapper.addClass("k-scheduler-mobile")}if(this._isMobilePhoneView()){this.wrapper.addClass("k-scheduler-phone")}if(Ay){this.wrapper.css("height",Ay)}},date:function(Ay){if(Ay!=null&&t(Ay)>=t(this.options.min)&&t(Ay)<=t(this.options.max)){this._model.set("selectedDate",Ay)}return t(this._model.get("selectedDate"))},_toolbar:function(){var Ay=this;var Az=Ay.options;var AA=this._isMobilePhoneView()?As:L;var AB=u(AA({messages:Az.messages,ns:d.ns,views:Ay.views}));Ay.wrapper.append(AB);Ay.toolbar=AB;d.bind(Ay.toolbar,Ay._model);AB.on(e+Av,".k-scheduler-navigation li",function(AD){var AE=u(this);var AF=new Date(Ay.date());var AC="";AD.preventDefault();if(AE.hasClass("k-nav-today")){AC="today";AF=new Date()}else{if(AE.hasClass("k-nav-next")){AC="next";AF=Ay.view().nextDate()}else{if(AE.hasClass("k-nav-prev")){AC="previous";AF=Ay.view().previousDate()}else{if(AE.hasClass("k-nav-current")&&!Ay._isMobilePhoneView()){Ay._showCalendar();return}}}}if(!Ay.trigger("navigate",{view:Ay._selectedViewName,action:AC,date:AF})){Ay.date(AF)}});AB.on(e+Av,".k-scheduler-views li",function(AC){AC.preventDefault();var AD=u(this).attr(d.attr("name"));if(!Ay.trigger("navigate",{view:AD,action:"changeView",date:Ay.date()})){Ay.view(AD)}});AB.find("li").hover(function(){u(this).addClass("k-state-hover")},function(){u(this).removeClass("k-state-hover")})},_showCalendar:function(){var Az=this,AA=Az.toolbar.find(".k-nav-current"),Ay=u('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');if(!Az.popup){Az.popup=new B(Ay,{anchor:AA,activate:function(){if(!Az.calendar){Az.calendar=new Q(this.element.find(".k-scheduler-calendar"),{change:function(){var AB=this.value();if(!Az.trigger("navigate",{view:Az._selectedViewName,action:"changeDate",date:AB})){Az.date(AB);Az.popup.close()}},min:Az.options.min,max:Az.options.max})}Az.calendar.value(Az.date())},copyAnchorStyles:false})}Az.popup.open()},refresh:function(Ay){var Az=this.view();this._progress(false);Ay=Ay||{};if(!Az){return}if(Ay&&Ay.action==="itemchange"&&(this._editor.editable||this._preventRefresh)){return}if(this.trigger("dataBinding",{action:Ay.action||"rebind",index:Ay.index,items:Ay.items})){return}if(!(Ay&&Ay.action==="resize")&&this._editor){this._editor.close()}this._data=this.dataSource.expand(Az.startDate(),Az.endDate());Az.render(this._data);this.trigger("dataBound")},slotByPosition:function(AA,AB){var Az=this.view();if(!Az._slotByPosition){return null}var Ay=Az._slotByPosition(AA,AB);if(!Ay){return null}return{startDate:Ay.startDate(),endDate:Ay.endDate(),element:Ay.element,isDaySlot:Ay.isDaySlot}},slotByElement:function(Az){var Ay=u(Az).offset();return this.slotByPosition(Ay.left,Ay.top)}});var R={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"}};Ae.plugin(H);var Ap=X.extend({init:function(AA,Az){var Ay=this,AB=d.timezone.windows_zones;if(!AB||!d.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}X.fn.init.call(Ay,AA,Az);Ay.wrapper=Ay.element;Ay._zonesQuery=new d.data.Query(AB);Ay._zoneTitleId=d.guid();Ay._zoneTitlePicker();Ay._zonePicker();Ay.value(Ay.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var Az=this,Ay=u('<input id="'+Az._zoneTitleId+'"/>').appendTo(Az.wrapper);Az._zoneTitle=new d.ui.DropDownList(Ay,{dataSource:d.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:Az.options.optionLabel,cascade:function(){if(!this.value()){Az._zone.wrapper.hide()}}})},_zonePicker:function(){var Az=this,Ay=u("<input />").appendTo(this.wrapper);Az._zone=new d.ui.DropDownList(Ay,{dataValueField:"zone",dataTextField:"territory",dataSource:Az._zonesQuery.data,cascadeFrom:Az._zoneTitleId,cascade:function(){Az._value=this.value();Az.trigger("change")},dataBound:function(){Az._value=this.value();this.wrapper.toggle(this.dataSource.view().length>1)}});Az._zone.wrapper.hide()},destroy:function(){X.fn.destroy.call(this);if(this._moveDraggable){this._moveDraggable.destroy()}if(this._resizeDraggable){this._resizeDraggable.destroy()}d.destroy(this.wrapper)},value:function(AA){var Az=this,Ay;if(AA===w){return Az._value}Ay=Az._zonesQuery.filter({field:"zone",operator:"eq",value:AA}).data[0];if(Ay){Az._zoneTitle.value(Ay.other_zone);Az._zone.value(Ay.zone)}else{Az._zoneTitle.value("")}}});Ae.plugin(Ap);var Ad=d.template('<option value="#=other_zone#">#=name#</option>');var Aj=d.template('<option value="#=zone#">#=territory#</option>');var m=X.extend({init:function(AA,Az){var Ay=this,AB=d.timezone.windows_zones;if(!AB||!d.timezone.zones_titles){throw new Error("kendo.timezones.min.js is not included.")}X.fn.init.call(Ay,AA,Az);Ay.wrapper=Ay.element;Ay._zonesQuery=new d.data.Query(AB);Ay._zoneTitlePicker();Ay._zonePicker();Ay.value(Ay.options.value)},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function(Ay){var Az=Ay?this._filter(Ay):[];this._zone.html(this._options(Az,Aj))},_filter:function(Ay){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:Ay}).data},_options:function(AD,AA,AC){var AB=0;var Ay="";var Az=AD.length;if(AC){Ay+=AA({other_zone:"",name:this.options.optionLabel})}for(;AB<Az;AB++){Ay+=AA(AD[AB])}return Ay},_zoneTitlePicker:function(){var Ay=this;var Az=Ay._options(d.timezone.zones_titles,Ad,Ay.options.optionLabel);Ay._zoneTitle=u("<select>"+Az+"</select>").appendTo(Ay.wrapper).change(function(){var AB=this.value;var AA=Ay._zone;Ay._bindZones(AB);if(AB&&AA[0].children.length>1){AA.show()}else{AA.hide()}Ay._value=AA[0].value;Ay.trigger("change")})},_zonePicker:function(){var Ay=this;Ay._zone=u('<select style="display:none"></select>').appendTo(this.wrapper).change(function(){Ay._value=this.value;Ay.trigger("change")});Ay._bindZones(Ay._zoneTitle.val());Ay._value=Ay._zone[0].value},destroy:function(){X.fn.destroy.call(this);d.destroy(this.wrapper)},value:function(AB){var Az=this;var Ay=Az._zone;var AC="";var AD="";var AA;if(AB===w){return Az._value}AA=Az._zonesQuery.filter({field:"zone",operator:"eq",value:AB}).data[0];if(AA){AD=AA.zone;AC=AA.other_zone}Az._zoneTitle.val(AC);Az._bindZones(AC);Ay.val(AD);AD=Ay[0].value;if(AD&&Ay[0].children.length>1){Ay.show()}else{Ay.hide()}Az._value=AD}});Ae.plugin(m)})(window.kendo.jQuery);